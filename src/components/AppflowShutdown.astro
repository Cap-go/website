---
import * as m from '@/paraglide/messages'
import { getRelativeLocaleUrl } from 'astro:i18n'
---    
<!-- Ionic Appflow Shutdown Notice Section -->
<section class="relative overflow-hidden py-16 sm:py-20 lg:py-24 bg-slate-700">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="mx-auto text-center">
      <!-- Notice Badge -->
      <div class="mb-8 inline-flex items-center rounded-full bg-white/20 px-4 py-2 text-xs font-medium text-white backdrop-blur-sm ring-1 ring-white/30 ring-inset uppercase tracking-wider">
        {m.home_important_update_badge({}, { locale: Astro.locals.locale })}
      </div>

      <h2 class="mx-auto mb-8 max-w-5xl text-4xl leading-tight font-bold text-white sm:text-5xl xl:text-6xl">
        {m.home_appflow_shutdown_heading({}, { locale: Astro.locals.locale })},<br />
        <span class="underline decoration-2 underline-offset-8">
          {m.home_capgo_here_to_stay({}, { locale: Astro.locals.locale })}
        </span>
      </h2>

      <div class="mx-auto mb-12 max-w-6xl space-y-6 text-lg leading-relaxed text-white sm:text-xl">
        <p class="font-normal">
          {m.home_appflow_notice_intro({}, { locale: Astro.locals.locale })}
        </p>
        <p class="font-normal">
          {m.home_appflow_bootstrapped_prefix({}, { locale: Astro.locals.locale })}{' '}
          <strong class="font-semibold text-white">{m.home_appflow_bootstrapped_highlight({}, { locale: Astro.locals.locale })}</strong>.
          {' '}
          {m.home_appflow_bootstrapped_suffix({}, { locale: Astro.locals.locale })}
        </p>
        <p class="font-normal">
          {m.home_appflow_sustainable_prefix({}, { locale: Astro.locals.locale })}{' '}
          <strong class="font-semibold text-white">{m.home_appflow_sustainable_highlight({}, { locale: Astro.locals.locale })}</strong>,{' '}
          {m.home_appflow_sustainable_suffix({}, { locale: Astro.locals.locale })}
        </p>
      </div>

      <!-- Key Differentiators -->
      <div class="mb-12 grid grid-cols-1 gap-6 md:grid-cols-3">
        <!-- Bootstrapped -->
        <div class="rounded-2xl bg-[#1c1c1c] p-8 text-center ring-1 ring-white/10 flex flex-col items-center justify-between h-full">
          <div class="flex flex-col items-center gap-6 w-full pt-4">
            <!-- Toggle Switch -->
            <div class="bg-white rounded-full py-3 px-6 flex items-center gap-3 shadow-lg">
              <div class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 bg-blue-600" role="switch" aria-checked="true">
                <span aria-hidden="true" class="translate-x-5 pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"></span>
              </div>
              <span class="text-gray-900 font-semibold">Fully Bootstrapped</span>
            </div>

            <!-- Tags -->
            <div class="flex flex-wrap justify-center gap-3 w-full max-w-[280px]">
              <span class="-rotate-6 bg-[#2a2a2a] text-gray-300 px-4 py-1.5 rounded-full text-sm border border-white/10 shadow-lg">No VCs</span>
              <span class="rotate-[4deg] bg-[#2a2a2a] text-gray-300 px-4 py-1.5 rounded-full text-sm border border-white/10 shadow-lg">Self funded</span>
              <span class="-rotate-3 bg-[#2a2a2a] text-gray-300 px-4 py-1.5 rounded-full text-sm border border-white/10 shadow-lg">Growing</span>
              <span class="rotate-2 bg-[#2a2a2a] text-gray-300 px-4 py-1.5 rounded-full text-sm border border-white/10 shadow-lg">Own resources</span>
              <span class="-rotate-2 bg-[#2a2a2a] text-gray-300 px-4 py-1.5 rounded-full text-sm border border-white/10 shadow-lg">Happy customers</span>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="text-xl font-bold text-white mb-3">{m.home_bootstrapped_title({}, { locale: Astro.locals.locale })}</h3>
            <p class="text-gray-400 text-sm leading-relaxed">{m.home_bootstrapped_desc({}, { locale: Astro.locals.locale })}</p>
          </div>
        </div>

        <!-- Profitable -->
        <div class="rounded-2xl bg-[#1c1c1c] p-8 text-center ring-1 ring-white/10 flex flex-col items-center justify-between h-full">
          <div class="w-full h-48 relative flex items-center justify-center">
            <svg class="w-full h-full" viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg">
              <!-- Grid lines -->
              <line x1="0" y1="20" x2="200" y2="20" stroke="#333" stroke-width="1" stroke-dasharray="4 4" />
              <line x1="0" y1="50" x2="200" y2="50" stroke="#333" stroke-width="1" stroke-dasharray="4 4" />
              <line x1="0" y1="80" x2="200" y2="80" stroke="#333" stroke-width="1" stroke-dasharray="4 4" />
              
              <!-- Chart Line -->
              <path d="M10,100 L40,90 L60,40 L90,80 L120,80 L140,50 L170,50 L200,20" fill="none" stroke="#3B82F6" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
              
              <!-- Tooltip -->
              <g transform="translate(60, 10)">
                <rect x="-30" y="0" width="60" height="24" rx="4" fill="white" />
                <text x="0" y="16" text-anchor="middle" font-size="10" font-weight="bold" fill="#1F2937">Revenue</text>
                <path d="M-4,24 L0,28 L4,24 Z" fill="white" />
              </g>
              
              <!-- Dot -->
              <circle cx="60" cy="40" r="4" fill="#1c1c1c" stroke="#3B82F6" stroke-width="2" />
            </svg>
          </div>

          <div class="mt-8">
            <h3 class="text-xl font-bold text-white mb-3">{m.home_revenue_title({}, { locale: Astro.locals.locale })}</h3>
            <p class="text-gray-400 text-sm leading-relaxed">{m.home_revenue_desc({}, { locale: Astro.locals.locale })}</p>
          </div>
        </div>

        <!-- Long-term -->
        <div class="rounded-2xl bg-[#1c1c1c] p-8 text-center ring-1 ring-white/10 flex flex-col items-center justify-between h-full">
          <div class="w-full h-48 flex items-center justify-center relative">
            <!-- Grid background -->
            <div class="absolute inset-0" style="background-image: linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px); background-size: 20px 20px; opacity: 0.2;"></div>
            
            <!-- Shield Icon -->
            <div class="relative z-10">
              <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <path id="shield_shape" d="M60 110C60 110 105 85 105 45V20L60 5L15 20V45C15 85 60 110 60 110Z" />
                  <clipPath id="shield_inner_clip">
                      <use href="#shield_shape" />
                  </clipPath>
                  <linearGradient id="wave_grad" x1="60" y1="0" x2="60" y2="100" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="white" stop-opacity="0.5"/>
                    <stop offset="1" stop-color="white" stop-opacity="0.0"/>
                  </linearGradient>
                </defs>
              
                <!-- Background -->
                <use href="#shield_shape" fill="#22C55E" />
              
                <!-- Wave Highlight -->
                <g clip-path="url(#shield_inner_clip)">
                  <path d="M-10 50 C 30 20, 90 70, 130 40 V -20 H -10 Z" fill="url(#wave_grad)" />
                </g>
              
                <!-- Border -->
                <use href="#shield_shape" stroke="#333333" stroke-width="10" fill="none" stroke-linejoin="round" />
              
                <!-- Checkmark -->
                <path d="M42 62L54 74L78 50" stroke="#333333" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="text-xl font-bold text-white mb-3">{m.home_built_to_last_title({}, { locale: Astro.locals.locale })}</h3>
            <p class="text-gray-400 text-sm leading-relaxed">{m.home_built_to_last_desc({}, { locale: Astro.locals.locale })}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Migration CTA -->
    <div class="rounded-3xl bg-white p-8 sm:p-12 text-center">
      <div class="mb-6 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8">
        <img src="/appflow_logo.webp" alt="Appflow" class="h-10 w-auto" />
        <svg class="h-6 w-6 text-gray-400 rotate-90 sm:rotate-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
        <img src="/capgo_logo.webp" alt="Capgo" class="h-20 sm:h-32 w-auto invert" />
      </div>

      <h3 class="mb-4 text-2xl sm:text-3xl font-bold text-gray-900">
        {m.home_migration_cta_title({}, { locale: Astro.locals.locale })}
      </h3>
      <p class="mx-auto mb-8 max-w-2xl text-base text-gray-600">
        {m.home_migration_cta_desc({}, { locale: Astro.locals.locale })}
      </p>

      <!-- User avatars -->
      <div class="mb-6 flex justify-center -space-x-4">
        <img class="inline-block h-12 w-12 rounded-full ring-2 ring-white object-cover" src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?auto=format&fit=crop&w=64&h=64" alt="" />
        <img class="inline-block h-12 w-12 rounded-full ring-2 ring-white object-cover" src="https://images.unsplash.com/photo-1531123897727-8f129e1688ce?auto=format&fit=crop&w=64&h=64" alt="" />
        <img class="inline-block h-12 w-12 rounded-full ring-2 ring-white object-cover" src="https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?auto=format&fit=crop&w=64&h=64" alt="" />
        <img class="inline-block h-12 w-12 rounded-full ring-2 ring-white object-cover" src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=64&h=64" alt="" />
        <img class="inline-block h-12 w-12 rounded-full ring-2 ring-white object-cover" src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=64&h=64" alt="" />
        <div class="h-12 w-12 rounded-full bg-blue-600 ring-2 ring-white flex items-center justify-center text-white text-sm font-bold">
          1k+
        </div>
      </div>

      <div class="flex flex-col items-center justify-center gap-4 sm:flex-row">
        <a
          href={getRelativeLocaleUrl(Astro.locals.locale, 'register')}
          class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-8 py-4 text-base font-semibold text-white transition-all duration-200 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"
        >
          {m.cta_start_migration({}, { locale: Astro.locals.locale })}
        </a>
        <a
          href={getRelativeLocaleUrl(Astro.locals.locale, 'docs/upgrade/from-appflow-to-capgo')}
          class="inline-flex items-center justify-center rounded-xl border-2 border-gray-300 bg-white px-8 py-4 text-base font-semibold text-gray-900 transition-all duration-200 hover:border-gray-400 hover:bg-gray-50 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:outline-none"
        >
          {m.migration_guide({}, { locale: Astro.locals.locale })}
        </a>
      </div>
    </div>
  </div>
</section>
