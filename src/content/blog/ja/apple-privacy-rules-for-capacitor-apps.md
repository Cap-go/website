---
slug: アプリのCapacitorに関するAppleのプライバシールール
title: Capacitorアプリのプライバシーに関するAppleのルール
description: Apple のアプリ開発におけるプライバシールールに準拠するために、ユーザーの同意、データの透明性、セキュアなアップデートの実装方法を学びましょう。
author: Martin Donadieu
author_image_url: 'https://avatars.githubusercontent.com/u/4084527?v=4'
author_url: 'https://github.com/riderx'
created_at: 2025-03-31T01:48:03.832Z
updated_at: 2025-03-31T01:48:15.606Z
head_image: >-
  https://assets.seobotai.com/capgo.app/67e9dc69283d21cbd67b72cf-1743385695606.jpg
head_image_alt: モバイル開発
keywords: >-
  Apple privacy rules, Capacitor apps, data transparency, user consent, App
  Store compliance, privacy policy
tag: 'Development, Mobile, Updates'
published: true
locale: ja
next_blog: ''
original_slug: regole-di-privacy-apple-per-app-capacitor
---
**Appleのプライバシールールでは現在、[Capacitor](https://capacitorjs.com/)アプリ開発者がApp Storeの承認を得て、ユーザーの信頼を維持するために、ユーザーデータの透明性とコンプライアンスに重点を置くことが求められています。**

重要なステップには以下が含まれます：

-   **プライバシーマニフェスト**：データ収集、API、トラッキングの詳細を文書化。
-   **ユーザー同意**：トラッキング許可にApp Tracking Transparency (ATT)を使用。
-   **データアクセス**：カメラ、位置情報、連絡先などの機能のアクセス許可を明確に定義。
-   **[プライバシーポリシー](https://capgo.app/dp/)**：データ使用について説明した、アクセスしやすく明確なポリシーを提供。
-   **テストとアップデート**：コンプライアンスを徹底的にテストし、[Capgo](https://capgo.app/)のような安全なアップデートシステムを使用。

これらのルールは、ユーザーのコントロール、透明性、安全なアプリのアップデートを重視しています。開発者はこのガイドに従うことで、コンプライアンスを維持し、プライバシーに配慮したアプリを提供できます。

## App Store却下を防ぐ：Appleプライバシーマニフェストを追加...

<iframe src="https://www.youtube.com/embed/D7R87wm9IJE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" style="width: 100%; height: 500px;" allowfullscreen></iframe>

## Appleプライバシールールの説明

Appleは開発者に対し、明確性を優先し、ユーザーにデータのコントロールを与えることを求めています。Capacitor開発者の場合、アプリがどのようにデータを収集・使用するかを、ユーザーとAppleのレビュアーの両方に対して明確にする必要があります。

### データ取り扱いの文書化

アプリのデータ取り扱いに関する詳細な内部記録を保持してください。以下を必ず含めてください：

-   収集するユーザーデータの種類
-   データを収集する理由
-   使用するサードパーティサービスやSDKの詳細
-   データの転送や共有方法

この情報を整理することは、コンプライアンスを確保するだけでなく、レビュープロセス中の質問に対応しやすくなります。これらの取り扱いを、App Storeのプライバシーラベルやアプリの設定内で透明に反映させてください。

### プライバシー開示の重要要素

アプリのプライバシー情報には以下を明確に概説する必要があります：

-   アプリの機能に必要なシステム機能とAPIのアクセス許可
-   収集されるデータのカテゴリー
-   トラッキング活動や外部サービスとの通信
-   データの使用方法とその理由

開示を明確にすることで、ユーザーの信頼を構築し、App Storeのレビューで問題が発生する可能性を減らすことができます。

### コンプライアンスのタイムライン

Appleはプライバシー要件を段階的に更新します。アプリが最新のルールに準拠し続けるように、Appleの開発者アップデートを定期的にチェックしてください。

## アプリにプライバシールールを追加する

このステップバイプステップガイドで、CapacitorアプリにAppleのプライバシールールを実装する方法を学びましょう。

### セットアップ要件

開始する前に、以下を確認してください：

-   プライバシーマニフェストのサポートのために**Xcode 15以降**を使用。
-   Capacitor 6または7がインストールされている。
-   iOSデプロイメントターゲットが**iOS 14.5以降**に設定されている。
-   アプリに適切に設定された`Info.plist`ファイルが含まれている。
-   有効な証明書を持つ**Apple Developer アカウント**を所有している。

Capgoを使用している場合は、データプライバシーを保護するためにエンドツーエンド暗号化を設定してください。Capgoで適切に設定されたアプリは、アップデートにおいて82%のグローバル成功率を達成しています[\[1\]](https://capgo.app/)。

環境の準備が整ったら、プライバシーマニフェストの作成と設定に進みます。

### プライバシーマニフェストのセットアップガイド

1.  **プライバシーマニフェストファイルの作成**

iOSプロジェクトのルートディレクトリに`PrivacyInfo.xcprivacy`という名前の新しいファイルを追加します：

```json
{
    "NSPrivacyTracking": false,
    "NSPrivacyTrackingDomains": [],
    "NSPrivacyCollectedDataTypes": [],
    "NSPrivacyAccessedAPITypes": []
}
```

2.  **データ収集の定義**

アプリが収集するデータの種類を指定します：

-   ユーザー分析
-   デバイス情報
-   使用パターン
-   ネットワークアクセス

3.  **APIアクセスの設定**

アプリが必要とするシステムAPIをリストアップします：

-   カメラ
-   位置情報
-   連絡先
-   フォトライブラリ

### コンプライアンスガイドライン

プライバシーマニフェストの設定後、データ収集の実践がAppleの基準を満たしていることを確認してください。

**データの最小化**  
アプリのコア機能に必要なデータのみを収集してください。Capgoユーザーは24時間以内に95%のアクティブユーザーアップデート率を報告しており[\[1\]](https://capgo.app/)、プライバシーを意識したアプローチがユーザーのエンゲージメントを維持することを示しています。

**ユーザーの透明性**  
以下を明確に説明してください：

-   データが収集される理由
-   データの保存期間
-   利用可能なユーザーコントロールオプション
-   データ共有ポリシー

### テスト要件

提出前に、プライバシーコンプライアンスを確認するためにアプリをテストしてください。以下の領域に焦点を当ててください：

| テスト領域 | 検証ポイント |
| --- | --- |
| データアクセス | 適切な許可プロンプトの確認 |
| プライバシーラベル | 宣言の正確性の確認 |
| ユーザーコントロール | オプトアウト機能のテスト |
| [データストレージ](https://capgo.app/plugins/capacitor-data-storage-sqlite/) | 暗号化の安全性の検証 |

Capgoはプライバシーコンプライアンスを維持しながら2,350万回のアップデートを成功裏に配信しており[\[1\]](https://capgo.app/)、アップデートとプライバシーのバランスを取ることが可能であることを証明しています。

これらのガイドラインに従って、アプリがテストとApp Store提出の準備ができていることを確認してください。

## ユーザープライバシーコントロール

このセクションでは、確立されたプライバシーガイドラインに基づいて、トラッキングとデータアクセスに関するユーザーコントロールの提供方法に焦点を当てます。

### トラッキング許可の設定

Capacitorアプリでアプリトラッキング透明性（ATT）を設定するには、`Info.plist`ファイルに以下のキーを含めます：

```xml
<key>NSUserTrackingUsageDescription</key>
<string>We use tracking to provide personalized features and improve app performance</string>
```

次に、アプリの初期化中にトラッキング要求を処理します：

```typescript
import { App } from '@capacitor/app';

async function requestTrackingPermission() {
  const status = await App.requestTrackingAuthorization();
  return status.authorized;
}
```

**ATT実装のヒント**：

-   ユーザー体験において意味のあるタイミングで許可ダイアログを表示する。
-   システムプロンプトが表示される前にトラッキングの利点を明確に説明する。
-   ユーザーの決定を尊重し、オプトアウトした人に代替手段を提供する。

### データアクセス許可

iOSの場合、アプリの`Info.plist`で許可を定義する必要があります。一般的な許可とその説明は以下の通りです：

| 許可タイプ | Info.plistキー | 使用説明 |
| --- | --- | --- |
| カメラ | NSCameraUsageDescription | 写真撮影に必要 |
| 位置情報 | NSLocationWhenInUseUsageDescription | 位置情報ベースの機能用 |
| 写真 | NSPhotoLibraryUsageDescription | 画像の保存/読み込みのアクセス |
| 連絡先 | NSContactsUsageDescription | 連絡先統合用 |

**許可を要求するタイミング**：

-   必要な時にのみ許可を要求し、明確な文脈を提供する。
-   プロンプトを表示する前に、各許可が必要な理由を簡潔に説明する。
-   ユーザーが要求を拒否した場合、代替機能やオプションを提供する。

許可の設定後、透明性のあるプライバシーポリシーを通じてユーザーにこれらの実践について通知してください。

### プライバシーポリシーの表示

アプリのプライバシーポリシーを見つけやすく理解しやすいものにしてください。

**含めるべき内容**：

-   データ収集の詳細
-   データの使用方法
-   保存データの保持期間
-   ユーザーのデータに関する権利
-   プライバシーに関する問い合わせ先

以下のようにアプリにプライバシーセンターを追加できます：

```typescript
import { Browser } from '@capacitor/browser';

async function showPrivacyPolicy() {
  await Browser.open({
    url: 'https://your-app.com/privacy-policy'
  });
}
```

**プライバシーポリシーの表示方法**：

-   簡単にアクセスできるようアプリの設定にプライバシーポリシーのリンクを配置する。
-   技術的な概念を説明するために簡単で明確な言葉を使用する。
-   理解を深めるためにビジュアルを追加する。
-   バージョン履歴を提供し、更新をユーザーに通知する。
-   要求があればユーザーがデータをエクスポートできるようにする。

アプリのアップデート（Capgoなどを介して）がこれらのプライバシー設定に準拠し、ユーザーの信頼を維持することを確認してください。

## テストとApp Store提出

プライバシーマニフェストとユーザーコントロールを設定したら、次のステップは全てが意図したとおりに機能することを確認する徹底的なテストです。このプロセスは、アプリをApp Storeに提出する前にコンプライアンスを確認するのに役立ちます。

### [Xcode](https://en.wikipedia.org/wiki/Xcode)でのプライバシーテスト

まず、Xcodeでプライバシーレポートを有効にします：

```swift
// Enable Privacy Report in Xcode scheme
Edit Scheme > Run > Diagnostics > Enable Privacy Report
```

デバッグモードでアプリを実行し、コンソールでプライバシーレポートを確認します。テスト中は以下に焦点を当ててください：

| テスト領域 | 確認事項 |
| --- | --- |
| アプリトラッキング | ATTダイアログのタイミングと表示 |
| データアクセス | 許可の適切な実装 |
| API使用 | プライバシーマニフェストの完全性 |
| ネットワーク通信 | データ送信のセキュリティ |

このテストにより、アプリが提出準備が整い、コンプライアンス基準を満たしていることを確認できます。

### 一般的なプライバシーエラー

テスト後、提出時の遅延を避けるために、以下の頻出する問題を解決してください：

-   **不完全な`privacy-manifest.json`**：必要なすべてのAPIとトラッキングドメインが記載されていることを確認。
-   **目的文字列の欠落**：各許可要求の理由を明確に説明。
-   **不適切なトラッキング要求**：ユーザーアクションの後にのみトラッキング許可をトリガーする。

### App Storeプライバシー詳細

アプリを提出する際は、プライバシー実践について正確な情報を提供してください。以下を含める必要があります：

| プライバシーカテゴリー | 必要な情報 | 例 |
| --- | --- | --- |
| データ収集 | 収集されるデータの種類 | デバイスID、位置情報 |
| データ使用 | データを収集する理由 | アプリ機能、分析 |
| データリンク | データがユーザーとどのように関連付けられるか | アカウント情報、使用データ |
| データトラッキング | クロスアプリトラッキングの詳細 | 広告、分析 |

**App Storeの主な要件**：

-   提出前にプライバシーポリシーURLを更新する。
-   宣言された許可がアプリの機

これらの機能は、アップデートを保護し、ユーザーのプライバシーを維持します。

> "真のエンドツーエンド暗号化を提供する唯一のソリューション。他はただアップデートに署名するだけです" - Capgo [\[1\]](https://capgo.app/)

### Capgoでのアップデート展開

Capgoを使用してプライバシーに準拠したアップデートを展開する方法：

1. **Capgoプラグインのインストール**:

    以下のコマンドを実行して開始します：

    ```bash
    npx @capgo/cli init
    ```

2. **プライバシー設定の構成**:

    プライバシーマニフェストを更新して、CapgoのドメインとAPIを含めます。

3. **暗号化されたアップデートチャンネルの設定**:

    安全なアップデートを確保するため、異なる展開段階用の個別のチャンネルを作成します。

Capgoは、アクティブユーザーの95%が24時間以内にアップデートを受信し、グローバルな成功率は82%を達成しています[\[1\]](https://capgo.app/)。チャンネルシステムにより、アップデートのターゲティング管理も簡単になります。

### Capgoでのユーザーグループアップデート

Capgoでは、アップデート時に特定のユーザーグループを安全にターゲットにすることができます：

| アップデートタイプ | プライバシーへの配慮 | 実装 |
| --- | --- | --- |
| ベータテスト | 選択されたユーザーに限定 | アクセスを制限した個別チャンネルを使用 |
| 段階的なロールアウト | ユーザーへの段階的なリリース | パーセンテージに基づいてアップデートを配信 |

> "私たちはアジャイル開発を実践しており、@Capgoはユーザーへの継続的な配信に不可欠です！" - Rodrigo Mantica [\[1\]](https://capgo.app/)

Capgoの詳細な権限設定により、認可されたチームメンバーのみがアップデートに安全にアクセスし管理できます。

## まとめ

### 主要なプライバシー要件

[Capacitor アプリ](https://capgo.app/blog/capacitor-comprehensive-guide/)に関するAppleのプライバシールールは以下の要件を示しています：

| 要件 | 詳細 |
| --- | --- |
| **プライバシーマニフェスト** | 必要なドメイン、API、トラッキング宣言を含める |
| **ユーザー同意** | ATTフレームワークを使用してトラッキング許可を要求 |
| **データアクセス** | 写真、位置情報、連絡先へのアクセス権限を設定 |
| **プライバシーポリシー** | アプリとApp Store両方で明確でアクセスしやすいポリシーを提供 |
| **アップデートセキュリティ** | ライブアップデートで暗号化された展開チャンネルを使用 |

### 実装チェックリスト

Appleの要件を満たすために以下のチェックリストに従ってください：

- **プライバシーマニフェストの設定**  
  API宣言を追加し、トラッキングドメインをリストアップし、データ使用目的を文書化します。

- **ユーザー権限の設定**  
  ATTダイアログを実装し、写真やメディアへのアクセスを設定し、位置情報サービスを有効にします。

- **安全なアップデートシステム**  
  プライバシーに準拠したアップデートソリューションを使用し、暗号化されたチャンネルを設定し、ユーザーターゲティング制御を構成します。

Capgoのプラットフォームは、アプリの機能性とユーザー重視を維持しながら、これらのプライバシー基準を満たす信頼性の高い方法を提供します[\[1\]](https://capgo.app/)。
