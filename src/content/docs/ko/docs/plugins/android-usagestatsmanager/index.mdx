---
title: "@capgo/capacitor-android-usagestatsmanager"
description: ì•± ì‚¬ìš© ì¶”ì , í™”ë©´ ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì‚¬ìš© ë¶„ì„ì„ ê°–ì¶˜ Capacitor ì•±ìš© Android ì‚¬ìš© í†µê³„ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.
locale: ko
tableOfContents: false
next: false
prev: false
sidebar:
  order: 1
  label: "ì†Œê°œ"
hero:
  tagline: Android ì‚¬ìš© í†µê³„ì— ì ‘ê·¼í•˜ì—¬ ì‹œìŠ¤í…œ ìˆ˜ì¤€ ë°ì´í„°ë¡œ ì•± ì‚¬ìš©, í™”ë©´ ì‹œê°„ ë° ì‚¬ìš©ì í–‰ë™ ë¶„ì„ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”.
  image:
    file: ~public/icons/plugins/android-usagestatsmanager.svg
  actions:
    - text: ì‹œì‘í•˜ê¸°
      link: /docs/plugins/android-usagestatsmanager/getting-started/
      icon: right-arrow
      variant: primary
    - text: Github
      link: https://github.com/Cap-go/capacitor-android-usagestatsmanager/
      icon: external
      variant: minimal
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## ê°œìš”

Capacitor Android Usage Stats Manager í”ŒëŸ¬ê·¸ì¸ì€ Capacitor ì• í”Œë¦¬ì¼€ì´ì…˜ì— Androidì˜ UsageStatsManager SDKë¥¼ ë…¸ì¶œí•˜ì—¬ ìƒì„¸í•œ ì•± ì‚¬ìš© í†µê³„ ë° ê¸°ê¸° ì‚¬ìš© ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ì´ í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ê°œë°œìëŠ” Android ê¸°ê¸°ì—ì„œ ì•± ì‚¬ìš© íŒ¨í„´, í™”ë©´ ì‹œê°„ ë° ì‚¬ìš©ì í–‰ë™ ë¶„ì„ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<CardGrid stagger>
  <Card title="ì‚¬ìš© í†µê³„" icon="rocket">
    Android UsageStatsManager SDK ë°ì´í„° ì ‘ê·¼ ğŸ“±
  </Card>
  <Card title="ì•± ëª¨ë‹ˆí„°ë§" icon="moon">
    ê°œë³„ ì•± ì‚¬ìš© ì‹œê°„ ë° ë¹ˆë„ ì¶”ì  ğŸ•
  </Card>
  <Card title="ê¶Œí•œ ê´€ë¦¬" icon="approve-check">
    ì‚¬ìš© í†µê³„ ê¶Œí•œì„ ì›í™œí•˜ê²Œ ì²˜ë¦¬ ğŸ›¡ï¸
  </Card>
  <Card title="íŒ¨í‚¤ì§€ ì •ë³´" icon="puzzle">
    ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ì„¸ë¶€ì •ë³´ ë° ë©”íƒ€ë°ì´í„° ì¿¼ë¦¬ ğŸ“¦
  </Card>
</CardGrid>

## ì„¤ì¹˜

```bash
npm install @capgo/capacitor-android-usagestatsmanager
npx cap sync
```

## í•„ìš”í•œ ê¶Œí•œ

`android/app/src/main/AndroidManifest.xml`ì— ë‹¤ìŒ ê¶Œí•œì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```xml
<uses-permission android:name="android.permission.PACKAGE_USAGE_STATS" />
<uses-permission android:name="android.permission.QUERY_ALL_PACKAGES" />
```

## í•µì‹¬ API ë©”ì„œë“œ

### ì‚¬ìš© í†µê³„
- `queryAndAggregateUsageStats(options)` - ì„¤ì¹˜ëœ ì•±ì˜ ìƒì„¸ ì‚¬ìš© í†µê³„ ê²€ìƒ‰
- `isUsageStatsPermissionGranted()` - ì‚¬ìš© í†µê³„ ê¶Œí•œì´ ë¶€ì—¬ë˜ì—ˆëŠ”ì§€ í™•ì¸
- `openUsageStatsSettings()` - ì‚¬ìš© í†µê³„ ê¶Œí•œì„ ìœ„í•œ ì‹œìŠ¤í…œ ì„¤ì • ì—´ê¸°

### íŒ¨í‚¤ì§€ ì •ë³´
- `queryAllPackages()` - ì„¤ì¹˜ëœ ëª¨ë“  íŒ¨í‚¤ì§€ì— ëŒ€í•œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

## ì‚¬ìš© ì˜ˆì œ

```typescript
import { AndroidUsageStatsManager } from '@capgo/capacitor-android-usagestatsmanager';

// Check if permission is granted
const permissionResult = await AndroidUsageStatsManager.isUsageStatsPermissionGranted();
if (!permissionResult.granted) {
  // Open settings to grant permission
  await AndroidUsageStatsManager.openUsageStatsSettings();
  return;
}

// Query usage statistics
const statsOptions = {
  intervalType: 0, // INTERVAL_DAILY
  startTime: Date.now() - (7 * 24 * 60 * 60 * 1000), // 7 days ago
  endTime: Date.now()
};

const usageStats = await AndroidUsageStatsManager.queryAndAggregateUsageStats(statsOptions);
console.log('Usage statistics:', usageStats);

// Get all installed packages
const packages = await AndroidUsageStatsManager.queryAllPackages();
console.log('Installed packages:', packages);
```

## ê¶Œí•œ ì²˜ë¦¬

í”ŒëŸ¬ê·¸ì¸ì€ ì¼ë°˜ ëŸ°íƒ€ì„ ê¶Œí•œ ìš”ì²­ì„ í†µí•´ ë¶€ì—¬í•  ìˆ˜ ì—†ëŠ” íŠ¹ìˆ˜ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤:

1. **PACKAGE_USAGE_STATS**: ì‚¬ìš© í†µê³„ì— ëŒ€í•œ ì ‘ê·¼ í—ˆìš©
2. **QUERY_ALL_PACKAGES**: íŒ¨í‚¤ì§€ ì •ë³´ì— í•„ìš” (Android 11+)

ì‚¬ìš©ìëŠ” ì‹œìŠ¤í…œ ì„¤ì •ì„ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ ì´ëŸ¬í•œ ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤. `openUsageStatsSettings()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìë¥¼ ì ì ˆí•œ ì„¤ì • í˜ì´ì§€ë¡œ ì•ˆë‚´í•˜ì„¸ìš”.

## ë°ì´í„° ìœ í˜•

### ì‚¬ìš© í†µê³„
- ì•± ì‚¬ìš© ì‹œê°„ ë° ë¹ˆë„
- ì²˜ìŒ ë° ë§ˆì§€ë§‰ ì‚¬ìš© ì‹œê°„
- í¬ì–´ê·¸ë¼ìš´ë“œ ì´ ì‹œê°„
- ì‹¤í–‰ íšŸìˆ˜

### íŒ¨í‚¤ì§€ ì •ë³´
- íŒ¨í‚¤ì§€ ì´ë¦„ ë° ë²„ì „
- ì„¤ì¹˜ ì‹œê°„
- ì•± ë¼ë²¨ ë° ì•„ì´ì½˜
- ì‹œìŠ¤í…œ vs ì‚¬ìš©ì ì•±

## ì‚¬ìš© ì‚¬ë¡€

- **ë””ì§€í„¸ ì›°ë¹™ ì•±**: í™”ë©´ ì‹œê°„ ë° ì•± ì‚¬ìš© ëª¨ë‹ˆí„°ë§
- **ìë…€ ë³´í˜¸**: ì–´ë¦°ì´ì˜ ê¸°ê¸° ì‚¬ìš© ì¶”ì 
- **ìƒì‚°ì„± ì•±**: ì‘ì—… íŒ¨í„´ ë° ì§‘ì¤‘ ì‹œê°„ ë¶„ì„
- **ë¶„ì„**: ì‚¬ìš©ì í–‰ë™ ë° ì•± ì°¸ì—¬ë„ ì´í•´

## Android í˜¸í™˜ì„±

- **ìµœì†Œ Android ë²„ì „**: API ë ˆë²¨ 21 (Android 5.0)
- **ê³ ê¸‰ ê¸°ëŠ¥**: í–¥ìƒëœ í†µê³„ë¥¼ ìœ„í•œ API ë ˆë²¨ 29+ (Android 10+)
- **íŒ¨í‚¤ì§€ ì¿¼ë¦¬**: API ë ˆë²¨ 30+ (Android 11+)ëŠ” QUERY_ALL_PACKAGES í•„ìš”

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- ì‚¬ìš© í†µê³„ ê¶Œí•œì€ ë¯¼ê°í•˜ë©° ì‚¬ìš©ì ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤
- ì‚¬ìš© ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•  ë•Œ ì‚¬ìš©ì ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ê³ ë ¤í•˜ì„¸ìš”
- ì ì ˆí•œ ë°ì´í„° ì²˜ë¦¬ ë° ì €ì¥ ê´€í–‰ êµ¬í˜„
- ì‚¬ìš© ë°ì´í„° ìˆ˜ì§‘ì— ëŒ€í•œ Google Play ì •ì±… ì¤€ìˆ˜

## ë¬¸ì„œ

ìì„¸í•œ êµ¬í˜„ ê°€ì´ë“œ ë° ê³ ê¸‰ ì‚¬ìš© íŒ¨í„´ì€ [ì „ì²´ ë¬¸ì„œ](/docs/plugins/android-usagestatsmanager/getting-started/)ë¥¼ í™•ì¸í•˜ì„¸ìš”.
