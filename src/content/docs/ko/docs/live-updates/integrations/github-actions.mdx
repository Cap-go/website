---
title: GitHub Actions í†µí•©
description: "ì•± ì—…ë°ì´íŠ¸ì˜ ìë™ ë°°í¬ë¥¼ ìœ„í•´ Capgo Live Updatesë¥¼ GitHub Actionsì™€ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”."
sidebar:
  order: 3
locale: ko
---

import { Aside, Steps } from '@astrojs/starlight/components';

Capgo Live Updatesë¥¼ GitHub Actionsì™€ í†µí•©í•˜ì—¬ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ í‘¸ì‹œí•  ë•Œë§ˆë‹¤ ì•± ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ë°°í¬í•˜ì„¸ìš”. ì´ ê°€ì´ë“œëŠ” GitHubì˜ ê°•ë ¥í•œ CI/CD í”Œë«í¼ì„ ì‚¬ìš©í•œ ìë™í™”ëœ ë¹Œë“œ, í…ŒìŠ¤íŠ¸ ë° ë°°í¬ ì›Œí¬í”Œë¡œìš° ì„¤ì •ì„ ë‹¤ë£¹ë‹ˆë‹¤.

## ì‚¬ì „ ìš”êµ¬ ì‚¬í•­

GitHub Actions í†µí•©ì„ ì„¤ì •í•˜ê¸° ì „ì— ë‹¤ìŒì„ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤:

- ì•± ì†ŒìŠ¤ ì½”ë“œê°€ ìˆëŠ” GitHub ì €ì¥ì†Œ
- êµ¬ì„±ëœ ì•±ì´ ìˆëŠ” Capgo ê³„ì •
- í”„ë¡œì íŠ¸ì— êµ¬ì„±ëœ Node.js ë° npm/yarn
- ì €ì¥ì†Œì— ëŒ€í•´ í™œì„±í™”ëœ GitHub Actions

## GitHub Secrets ì„¤ì •

### 1ë‹¨ê³„: ì €ì¥ì†Œ Secrets êµ¬ì„±

GitHub ì €ì¥ì†Œì— í•„ìš”í•œ ì‹œí¬ë¦¿ì„ ì„¤ì •í•©ë‹ˆë‹¤:

<Steps>

1. GitHub ì €ì¥ì†Œë¡œ ì´ë™
2. **Settings** â†’ **Secrets and variables** â†’ **Actions**ë¡œ ì´ë™
3. **New repository secret**ì„ í´ë¦­í•˜ê³  ë‹¤ìŒ ì¶”ê°€:

</Steps>

| Secret ì´ë¦„ | ê°’ |
|-------------|-------|
| `CAPGO_TOKEN` | Capgo API í† í° |

<Aside type="tip">

[console.capgo.app/apikeys](https://console.capgo.app/apikeys)ì—ì„œ Capgo API í† í°ì„ ë°›ìœ¼ì„¸ìš”. ì•± IDëŠ” ì´ë¯¸ `capacitor.config.ts` íŒŒì¼ì— êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

</Aside>

## ê°„ë‹¨í•œ í”„ë¡œë•ì…˜ ë°°í¬

main ë¸Œëœì¹˜ì— í‘¸ì‹œí•  ë•Œë§ˆë‹¤ í”„ë¡œë•ì…˜ì— ë°°í¬í•˜ëŠ” ê¸°ë³¸ êµ¬ì„±ìœ¼ë¡œ ì‹œì‘:

```yaml
# Capgo Live Updatesë¥¼ ìœ„í•œ ê°„ë‹¨í•œ GitHub Actions ì›Œí¬í”Œë¡œìš°
name: Deploy to Capgo

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v6

      - name: Setup Node.js
        uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - name: Install, test and build
        run: |
          npm ci
          npm run test
          npm run build

      - name: Deploy to Capgo
         run: |
           npm install -g @capgo/cli
           npx @capgo/cli bundle upload --channel production
          env:
            CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
           # ì•”í˜¸í™”ëœ ì—…ë¡œë“œì˜ ê²½ìš° ì¶”ê°€: --key-data-v2 "${{ secrets.CAPGO_PRIVATE_KEY }}"
```

## ê³ ê¸‰ ë‹¤ì¤‘ ì±„ë„ êµ¬ì„±

### ê¸°ëŠ¥ ë¸Œëœì¹˜ ë°°í¬

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ì„ì‹œ ì±„ë„ì— ë°°í¬:

```yaml
# ê¸°ëŠ¥ ë¸Œëœì¹˜ ë°°í¬
name: Deploy Feature Branch to Capgo

on:
  push:
    branches:
      - 'feature/**'

jobs:
  deploy-feature:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - run: |
          npm ci
          npm run test
          npm run build

      - name: Deploy to feature channel
        run: |
          CHANNEL_NAME=$(echo "${{ github.ref_name }}" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]')
          npm install -g @capgo/cli
          npx @capgo/cli channel create $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
                     npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel $CHANNEL_NAME
```

### ì•”í˜¸í™” ì‚¬ìš©

[Capgoì˜ ì•”í˜¸í™” ê¸°ëŠ¥](/docs/live-updates/encryption/)ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° CI/CD í™˜ê²½ì— ê°œì¸ í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.

ë¡œì»¬ì—ì„œ [ì•”í˜¸í™” í‚¤ ì„¤ì •](/docs/live-updates/encryption/#setting-up-encryption) í›„ GitHub ì‹œí¬ë¦¿ì— ê°œì¸ í‚¤ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```shell
# ê°œì¸ í‚¤ ì½˜í…ì¸  í‘œì‹œ(ì´ ì¶œë ¥ ë³µì‚¬)
cat .capgo_key_v2
```

ì´ ì½˜í…ì¸ ë¥¼ GitHub ì €ì¥ì†Œ ì‹œí¬ë¦¿ì— `CAPGO_PRIVATE_KEY`ë¡œ ì¶”ê°€í•œ ë‹¤ìŒ ì›Œí¬í”Œë¡œìš°ì—ì„œ ì‚¬ìš©:

```yaml
# ì•”í˜¸í™”ë¡œ ë°°í¬
- name: Deploy to Capgo with Encryption
  run: |
    npm install -g @capgo/cli
    npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --key-data-v2 "${{ secrets.CAPGO_PRIVATE_KEY }}" --channel production
```

<Aside type="caution">

**ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€:**
- `.capgo_key_v2` íŒŒì¼ì„ ì ˆëŒ€ ë²„ì „ ê´€ë¦¬ì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
- ê°œì¸ í‚¤ëŠ” ì•ˆì „í•œ CI/CD ë¹„ë°€ ê´€ë¦¬ì—ë§Œ ì €ì¥
- ë‹¤ë¥¸ í™˜ê²½ì— ëŒ€í•´ ë‹¤ë¥¸ í‚¤ ì‚¬ìš©

</Aside>

### ë‹¤ì¤‘ ì±„ë„ êµ¬ì„±

ì—¬ëŸ¬ ë°°í¬ ì±„ë„ ì„¤ì • ë° ê´€ë¦¬ì— ëŒ€í•œ í¬ê´„ì ì¸ ì •ë³´ëŠ” [Channels ë¬¸ì„œ](/docs/live-updates/channels/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

ê°œë°œ, í’€ ë¦¬í€˜ìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ ë°°í¬ê°€ í¬í•¨ëœ ì™„ì „í•œ ì›Œí¬í”Œë¡œìš°:

```yaml
# ì™„ì „í•œ ë‹¤ì¤‘ í™˜ê²½ ì›Œí¬í”Œë¡œìš°
name: Deploy to Capgo

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - run: |
          npm ci
          npm run test
          npm run build

      - uses: actions/upload-artifact@v4
        with:
          name: dist
          path: dist/

  deploy-development:
    if: github.ref == 'refs/heads/develop'
    needs: build
    runs-on: ubuntu-latest
    environment: development
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel development

  deploy-pr:
    if: github.event_name == 'pull_request'
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - name: Deploy to PR channel
        run: |
          CHANNEL_NAME="pr-${{ github.event.number }}"
          npm install -g @capgo/cli
          npx @capgo/cli channel create $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel $CHANNEL_NAME

      - name: Comment PR
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `ğŸš€ This PR has been deployed to Capgo channel: \`pr-${{ github.event.number }}\`\n\nTo test this update in your app, configure it to use this channel. [Learn how to configure channels â†’](/docs/live-updates/channels/#configuring-the-channel-in-your-app)`
            })

  deploy-production:
    if: github.ref == 'refs/heads/main'
    needs: build
    runs-on: ubuntu-latest
    environment: production
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel production
```

<Aside type="tip">

**ì±„ë„ë¡œ í…ŒìŠ¤íŠ¸**: PR ë˜ëŠ” ê°œë°œ ì±„ë„ì— ë°°í¬í•œ í›„ í•´ë‹¹ íŠ¹ì • ì±„ë„ì„ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±í•˜ì—¬ ì•±ì—ì„œ ì—…ë°ì´íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì•±ì—ì„œ ì±„ë„ êµ¬ì„±](/docs/live-updates/channels/#configuring-the-channel-in-your-app)ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.

</Aside>

### ê¸°ëŠ¥ ì±„ë„ ì •ë¦¬

ë¸Œëœì¹˜ê°€ ì‚­ì œë  ë•Œ ê¸°ëŠ¥ ì±„ë„ì„ ìë™ìœ¼ë¡œ ì •ë¦¬:

```yaml
name: Cleanup Feature Channels

on:
  delete:

jobs:
  cleanup:
    runs-on: ubuntu-latest
    if: github.event.ref_type == 'branch' && startsWith(github.event.ref, 'feature/')
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - name: Delete Capgo channel
        run: |
          CHANNEL_NAME=$(echo "${{ github.event.ref }}" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]')
          npm install -g @capgo/cli
          npx @capgo/cli channel delete $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
```

## ë³´ì•ˆ ë° ëª¨ë²” ì‚¬ë¡€

### í™˜ê²½ ë³´í˜¸ ê·œì¹™

GitHubì—ì„œ í™˜ê²½ ë³´í˜¸ ê·œì¹™ ì„¤ì •:

<Steps>

1. ì €ì¥ì†Œì˜ **Settings** â†’ **Environments**ë¡œ ì´ë™
2. í™˜ê²½ ìƒì„±: `development`, `staging`, `production`
3. í”„ë¡œë•ì…˜ í™˜ê²½ì˜ ê²½ìš° ì¶”ê°€:
   - **Required reviewers**: ë°°í¬ë¥¼ ìŠ¹ì¸í•´ì•¼ í•˜ëŠ” íŒ€ì› ì¶”ê°€
   - **Wait timer**: ë°°í¬ ì „ ì§€ì—° ì‹œê°„ ì¶”ê°€(ì„ íƒ ì‚¬í•­)
   - **Deployment branches**: `main` ë¸Œëœì¹˜ë¡œë§Œ ì œí•œ

</Steps>

### ì•ˆì „í•œ ì‹œí¬ë¦¿ ê´€ë¦¬

í™˜ê²½ë³„ ì‹œí¬ë¦¿ ì‚¬ìš©:

```yaml
# í™˜ê²½ë³„ë¡œ ë‹¤ë¥¸ ì‹œí¬ë¦¿ ì‚¬ìš©
deploy-production:
  environment: production
  steps:
    - name: Deploy to Production
      run: |
        npx @capgo/cli bundle upload \
          --apikey ${{ secrets.CAPGO_PROD_TOKEN }} \
          --app ${{ secrets.CAPGO_PROD_APP_ID }} \
          --channel production
```

## ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### Slack í†µí•©

ì›Œí¬í”Œë¡œìš°ì— Slack ì•Œë¦¼ ì¶”ê°€:

```yaml
name: Deploy with Notifications

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # ... ë°°í¬ ë‹¨ê³„

      - name: Notify Slack on Success
        if: success()
        uses: 8398a7/action-slack@v3
        with:
          status: success
          text: 'âœ… Capgo deployment successful!'
          fields: repo,message,commit,author,action,eventName,ref,workflow
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}

      - name: Notify Slack on Failure
        if: failure()
        uses: 8398a7/action-slack@v3
        with:
          status: failure
          text: 'âŒ Capgo deployment failed!'
          fields: repo,message,commit,author,action,eventName,ref,workflow
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
```

### Discord í†µí•©

Discordì— ì•Œë¦¼ ì „ì†¡:

```yaml
- name: Discord notification
  if: always()
  uses: Ilshidur/action-discord@master
  with:
    args: |
      Capgo deployment ${{ job.status }}!
      App: ${{ secrets.CAPGO_APP_ID }}
      Channel: ${{ github.ref_name }}
      Commit: ${{ github.sha }}
  env:
    DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
```

### ì´ë©”ì¼ ì•Œë¦¼

ì´ë©”ì¼ ì•Œë¦¼ êµ¬ì„±:

```yaml
- name: Send email notification
  if: failure()
  uses: dawidd6/action-send-mail@v3
  with:
    server_address: smtp.gmail.com
    server_port: 465
    username: ${{ secrets.EMAIL_USERNAME }}
    password: ${{ secrets.EMAIL_PASSWORD }}
    subject: 'Capgo Deployment Failed - ${{ github.repository }}'
    to: team@yourcompany.com
    from: ci-cd@yourcompany.com
    body: |
      Deployment failed for ${{ github.repository }}
      Branch: ${{ github.ref_name }}
      Commit: ${{ github.sha }}
      Workflow: ${{ github.workflow }}
```

## ë¬¸ì œ í•´ê²°

### ì›Œí¬í”Œë¡œìš° ë””ë²„ê·¸

ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë””ë²„ê¹… ë‹¨ê³„ ì¶”ê°€:

```yaml
- name: Debug environment
  run: |
    echo "Node version: $(node --version)"
    echo "NPM version: $(npm --version)"
    echo "Working directory: $(pwd)"
    echo "Files in dist/: $(ls -la dist/ || echo 'No dist directory')"
    echo "Environment variables:"
    env | grep -E "(GITHUB_|CAPGO_)" | sort

- name: Test Capgo CLI
  run: |
    npx @capgo/cli --version
    npx @capgo/cli app debug --apikey ${{ secrets.CAPGO_TOKEN }} --app ${{ secrets.CAPGO_APP_ID }}
```

### ì¼ë°˜ì ì¸ ë¬¸ì œ ë° í•´ê²° ë°©ë²•

**"CAPGO_TOKEN not found"ë¡œ ì›Œí¬í”Œë¡œìš° ì‹¤íŒ¨:**

```yaml
- name: Verify secrets
  run: |
    if [ -z "${{ secrets.CAPGO_TOKEN }}" ]; then
      echo "ERROR: CAPGO_TOKEN secret is not set"
      exit 1
    fi
    echo "CAPGO_TOKEN is set (length: ${#CAPGO_TOKEN})"
  env:
    CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
```

**ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:**

```yaml
- name: Debug artifacts
  run: |
    echo "Checking for build artifacts..."
    ls -la dist/ || echo "No dist directory found"
    find . -name "*.js" -o -name "*.html" | head -10
```

**ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ:**

```yaml
- name: Test connectivity
  run: |
    ping -c 3 api.capgo.io || echo "Ping failed"
    curl -I https://api.capgo.io/health || echo "Health check failed"
```

## ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš°

í”„ë¡œì íŠ¸ ê°„ ì¼ê´€ì„±ì„ ìœ„í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš° ìƒì„±:

```yaml
# .github/workflows/reusable-capgo-deploy.yml
name: Reusable Capgo Deploy

on:
  workflow_call:
    inputs:
      environment:
        required: true
        type: string
      channel:
        required: true
        type: string
    secrets:
      CAPGO_TOKEN:
        required: true
      CAPGO_APP_ID:
        required: true

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ inputs.environment }}
    steps:
      - uses: actions/checkout@v6

      - name: Setup Node.js
        uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - name: Install and build
        run: |
          npm ci
          npm run build

      - name: Deploy to Capgo
        run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload \
            --apikey ${{ secrets.CAPGO_TOKEN }} \
            --app ${{ secrets.CAPGO_APP_ID }} \
            --channel ${{ inputs.channel }}
```

ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš° ì‚¬ìš©:

```yaml
# .github/workflows/deploy.yml
name: Deploy App

on:
  push:
    branches: [main, develop]

jobs:
  deploy-dev:
    if: github.ref == 'refs/heads/develop'
    uses: ./.github/workflows/reusable-capgo-deploy.yml
    with:
      environment: development
      channel: development
    secrets:
      CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
      CAPGO_APP_ID: ${{ secrets.CAPGO_APP_ID }}

  deploy-prod:
    if: github.ref == 'refs/heads/main'
    uses: ./.github/workflows/reusable-capgo-deploy.yml
    with:
      environment: production
      channel: production
    secrets:
      CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
      CAPGO_APP_ID: ${{ secrets.CAPGO_APP_ID }}
```

## ë‹¤ìŒ ë‹¨ê³„

- ë‹¤ì–‘í•œ ë°°í¬ í™˜ê²½ì„ ê´€ë¦¬í•˜ë ¤ë©´ [Channels](/docs/live-updates/channels/)ì— ëŒ€í•´ ì•Œì•„ë³´ê¸°
- ê³ ê¸‰ ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìœ„í•´ [Custom Storage](/docs/live-updates/custom-storage/) ì‚´í´ë³´ê¸°
- ì•ˆì „í•œ ë°°í¬ë¥¼ ìœ„í•´ [Encryption](/docs/live-updates/encryption/) ì„¤ì •
- ì—…ë°ì´íŠ¸ ì ìš© ë°©ë²•ì„ ì‚¬ìš©ì ì •ì˜í•˜ê¸° ìœ„í•´ [Update Behavior](/docs/live-updates/update-behavior/) êµ¬ì„±

GitHub Actions í†µí•©ì„ í†µí•´ GitHubì˜ ê°•ë ¥í•œ CI/CD í”Œë«í¼ì„ í™œìš©í•˜ì—¬ ë‚´ì¥ëœ ë³´ì•ˆ, ëª¨ë‹ˆí„°ë§ ë° í˜‘ì—… ê¸°ëŠ¥ì„ ê°–ì¶˜ ì •êµí•œ ë°°í¬ ì›Œí¬í”Œë¡œìš°ë¥¼ Capgo Live Updatesë¥¼ ìœ„í•´ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
