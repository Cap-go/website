---
title: "はじめに"
locale: ja
description: "シームレスなアプリケーションのアップデートとメンテナンスのための独自の自動アップデートサーバーのセットアップと管理に関する包括的なガイド"
sidebar:
    order: 1
---

import { LinkCard, CardGrid } from '@astrojs/starlight/components';

このドキュメントでは、独自の自動アップデートサーバーを実行する方法を説明します。

## はじめに

この作業が役立つと感じた場合は、[Github sponsor](https://github.com/sponsors/riderx)になることで私の作業をサポートすることを検討してください。

私はここで構築したすべてのコードをペイウォールの代わりにオープンソースにするという賭けをしました。戦いや隠蔽の代わりにオープンにすることで、世界をより良い場所にできると信じています。

さらに、Capgoツールに焦点を当て、オープンで透明性のあるビジネスにしたいと考えています。

しかし、それを可能にするためには、あなたを含む私たち全員が自分の役割を果たす必要があります。

Capgoがあなたに合わない場合は、自分の価格を支払い、[bootstrapped Makerを支援](https://github.com/sponsors/riderx)してください。

<LinkCard title="貢献を検討する" href="/docs/plugin/self-hosted/contributing/"/>
## 機能パリティ

独自のサーバーを選択した場合、5分セットアップフローを失います。\
これらすべての機能を自分で実装する必要があります。


| 機能                 | Capgo | セルフホスティング |
| ------------------------ | ----- | ----------- |
| アップデート                  | ✅     | 🚧         |
| 自動復帰              | ✅     | 🚧         |
| 失敗時のメールアラート     | ✅     | 🚧         |
| チャンネル                 | ✅     | 🚧         |
| チャンネルオーバーライド        | ✅     | 🚧         |
| デバイスオーバーライド          | ✅     | 🚧         |
| チャンネル設定        | ✅     | 🚧         |
| デバイス設定          | ✅     | 🚧         |
| カスタムID                | ✅     | 🚧         |
| 自動設定チャンネル        | ✅     | 🚧         |
| APIチャンネル             | ✅     | 🚧         |
| アップデート統計       | ✅     | 🚧         |
| ダウンロード失敗統計 | ✅     | 🚧         |
| アプリ使用統計     | ✅     | 🚧         |
| アップデート暗号化        | ✅     | 🚧         |
| 差分アップデート     | ✅     | ❌         |

:::danger
ユーザーに不正なアップデートを送信すると、アプリを壊すことができます。
:::

> Capgo cloudと独自のサーバーを同時に使用することはできないことに注意してください。



:::danger
Over-the-Air（OTA）アップデート機能は、HTML、CSS、JavaScriptファイルに加えられた変更にのみ適用されます。

Capacitorプラグインのアップデートなど、ネイティブコードに変更を加えた場合は、承認を得るためにアプリストアにアプリケーションを再提出する必要があります。
:::

## 自動と手動の選択
自動モードでは、ロジックの一部がネイティブコードによって処理され、アップデートはサーバー側で決定されます。これはより安全で、1つのデバイスまたはグループへの細かいアップデート、部分的な展開などを可能にします。

手動モードでは、すべてのロジックがJSによって処理されます。



<LinkCard
	title="自動アップデート"
	href="/docs/plugin/self-hosted/auto-update/"
/>

<LinkCard
	title="手動"
	href="/docs/plugin/self-hosted/manual-update/"
/>

## Capacitor updaterをインストール

```bash title="Capacitor updaterをインストール"
npm install @capgo/capacitor-updater
npx cap sync
```

## バンドルを準備する

アプリにアップデートを送信するには、zipする必要があります。
zipが良好であることを確認する最善の方法は、Capgo CLIをzipに使用することです。
```bash title="サーバーから提供するファイルでバンドルを作成"
npx @capgo/cli@latest bundle zip
```


このzipを独自のサーバーから提供する必要があります。

<LinkCard
	title="自動アップデート"
	href="/docs/plugin/self-hosted/auto-update/"
/>

<LinkCard
	title="手動"
	href="/docs/plugin/self-hosted/manual-update/"
/>


:::note
これが多くの作業のように思える場合は、Capgo Cloudのトライアルをお試しください。
:::

:::note
差分アップデートは手動アップデートでは機能しませんが、自動アップデートでは機能します。現在、かなり複雑なプロセスであるため、文書化されていません
:::
