---
title: GitHub Actionsçµ±åˆ
description: "GitHub Actionsã¨Capgo Live Updatesã‚’çµ±åˆã—ã¦ã€ã‚¢ãƒ—ãƒªã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚"
locale: ja
sidebar:
  order: 3
---

import { Aside, Steps } from '@astrojs/starlight/components';

Capgo Live Updatesã‚’GitHub Actionsã¨çµ±åˆã—ã¦ã€ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã³ã«ã‚¢ãƒ—ãƒªã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€GitHubã®å¼·åŠ›ãªCI/CDãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## å‰ææ¡ä»¶

GitHub Actionsçµ±åˆã‚’è¨­å®šã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- ã‚¢ãƒ—ãƒªã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å«ã‚€GitHubãƒªãƒã‚¸ãƒˆãƒª
- ã‚¢ãƒ—ãƒªãŒæ§‹æˆã•ã‚ŒãŸCapgoã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Node.jsã¨npm/yarnãŒæ§‹æˆã•ã‚Œã¦ã„ã‚‹ã“ã¨
- ãƒªãƒã‚¸ãƒˆãƒªã§GitHub ActionsãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨

## GitHubã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è¨­å®š

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒªãƒã‚¸ãƒˆãƒªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®æ§‹æˆ

GitHubãƒªãƒã‚¸ãƒˆãƒªã§å¿…è¦ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¨­å®šã—ã¾ã™ï¼š

<Steps>

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã«ç§»å‹•
2. **Settings** â†’ **Secrets and variables** â†’ **Actions**ã«ç§»å‹•
3. **New repository secret**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

</Steps>

| ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå | å€¤ |
|-------------|-------|
| `CAPGO_TOKEN` | Capgo APIãƒˆãƒ¼ã‚¯ãƒ³ |

<Aside type="tip">

Capgo APIãƒˆãƒ¼ã‚¯ãƒ³ã¯[console.capgo.app/apikeys](https://console.capgo.app/apikeys)ã‹ã‚‰å–å¾—ã—ã¦ãã ã•ã„ã€‚ã‚¢ãƒ—ãƒªIDã¯`capacitor.config.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã§ã«æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚

</Aside>

## ã‚·ãƒ³ãƒ—ãƒ«ãªæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã”ã¨ã«æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹åŸºæœ¬æ§‹æˆã‹ã‚‰å§‹ã‚ã¾ã™ï¼š

```yaml
# Simple GitHub Actions Workflow for Capgo Live Updates
name: Deploy to Capgo

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v6

      - name: Setup Node.js
        uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - name: Install, test and build
        run: |
          npm ci
          npm run test
          npm run build

      - name: Deploy to Capgo
        run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel production
          # For encrypted uploads, add: --key-data-v2 "${{ secrets.CAPGO_PRIVATE_KEY }}"
```

## é«˜åº¦ãªãƒãƒ«ãƒãƒãƒ£ãƒãƒ«æ§‹æˆ

### ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

ãƒ†ã‚¹ãƒˆç”¨ã«ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä¸€æ™‚çš„ãªãƒãƒ£ãƒãƒ«ã«ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š

```yaml
# Feature branch deployment
name: Deploy Feature Branch to Capgo

on:
  push:
    branches:
      - 'feature/**'

jobs:
  deploy-feature:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - run: |
          npm ci
          npm run test
          npm run build

      - name: Deploy to feature channel
        run: |
          CHANNEL_NAME=$(echo "${{ github.ref_name }}" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]')
          npm install -g @capgo/cli
          npx @capgo/cli channel create $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel $CHANNEL_NAME
```

### æš—å·åŒ–ã®ä½¿ç”¨

[Capgoã®æš—å·åŒ–æ©Ÿèƒ½](/docs/live-updates/encryption/)ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€CI/CDç’°å¢ƒã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’å®‰å…¨ã«ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ­ãƒ¼ã‚«ãƒ«ã§[æš—å·åŒ–ã‚­ãƒ¼ã‚’è¨­å®š](/docs/live-updates/encryption/#setting-up-encryption)ã—ãŸå¾Œã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã‚’GitHubã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«è¿½åŠ ã—ã¾ã™ï¼š

```shell
# ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã®å†…å®¹ã‚’è¡¨ç¤ºï¼ˆã“ã®å‡ºåŠ›ã‚’ã‚³ãƒ”ãƒ¼ï¼‰
cat .capgo_key_v2
```

ã“ã®å†…å®¹ã‚’`CAPGO_PRIVATE_KEY`ã¨ã—ã¦GitHubãƒªãƒã‚¸ãƒˆãƒªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«è¿½åŠ ã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ä½¿ç”¨ã—ã¾ã™ï¼š

```yaml
# Deploy with encryption
- name: Deploy to Capgo with Encryption
  run: |
    npm install -g @capgo/cli
    npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --key-data-v2 "${{ secrets.CAPGO_PRIVATE_KEY }}" --channel production
```

<Aside type="caution">

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:**
- `.capgo_key_v2`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã¯å®‰å…¨ãªCI/CDã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†ã«ã®ã¿ä¿å­˜ã—ã¦ãã ã•ã„
- ç•°ãªã‚‹ç’°å¢ƒã«ã¯ç•°ãªã‚‹ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

</Aside>

### ãƒãƒ«ãƒãƒãƒ£ãƒãƒ«æ§‹æˆ

è¤‡æ•°ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ã®è¨­å®šã¨ç®¡ç†ã«é–¢ã™ã‚‹åŒ…æ‹¬çš„ãªæƒ…å ±ã«ã¤ã„ã¦ã¯ã€[ãƒãƒ£ãƒãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](/docs/live-updates/channels/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

é–‹ç™ºç’°å¢ƒã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€æœ¬ç•ªç’°å¢ƒã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’å«ã‚€å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š

```yaml
# Complete multi-environment workflow
name: Deploy to Capgo

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - run: |
          npm ci
          npm run test
          npm run build

      - uses: actions/upload-artifact@v4
        with:
          name: dist
          path: dist/

  deploy-development:
    if: github.ref == 'refs/heads/develop'
    needs: build
    runs-on: ubuntu-latest
    environment: development
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel development

  deploy-pr:
    if: github.event_name == 'pull_request'
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - name: Deploy to PR channel
        run: |
          CHANNEL_NAME="pr-${{ github.event.number }}"
          npm install -g @capgo/cli
          npx @capgo/cli channel create $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel $CHANNEL_NAME

      - name: Comment PR
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `ğŸš€ This PR has been deployed to Capgo channel: \`pr-${{ github.event.number }}\`\n\nTo test this update in your app, configure it to use this channel. [Learn how to configure channels â†’](/docs/live-updates/channels/#configuring-the-channel-in-your-app)`
            })

  deploy-production:
    if: github.ref == 'refs/heads/main'
    needs: build
    runs-on: ubuntu-latest
    environment: production
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/

      - run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload --apikey ${{ secrets.CAPGO_TOKEN }} --channel production
```

<Aside type="tip">

**ãƒãƒ£ãƒãƒ«ã§ã®ãƒ†ã‚¹ãƒˆ**: PRã¾ãŸã¯é–‹ç™ºãƒãƒ£ãƒãƒ«ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸå¾Œã€ã‚¢ãƒ—ãƒªã‚’ç‰¹å®šã®ãƒãƒ£ãƒãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«æ§‹æˆã™ã‚‹ã“ã¨ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚è©³ã—ãã¯[ã‚¢ãƒ—ãƒªã§ãƒãƒ£ãƒãƒ«ã‚’æ§‹æˆã™ã‚‹æ–¹æ³•](/docs/live-updates/channels/#configuring-the-channel-in-your-app)ã‚’ã”è¦§ãã ã•ã„ã€‚

</Aside>

### ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒãƒ£ãƒãƒ«ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

ãƒ–ãƒ©ãƒ³ãƒãŒå‰Šé™¤ã•ã‚ŒãŸã¨ãã«ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒãƒ£ãƒãƒ«ã‚’è‡ªå‹•çš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼š

```yaml
name: Cleanup Feature Channels

on:
  delete:

jobs:
  cleanup:
    runs-on: ubuntu-latest
    if: github.event.ref_type == 'branch' && startsWith(github.event.ref, 'feature/')
    steps:
      - uses: actions/setup-node@v6
        with:
          node-version: '24'

      - name: Delete Capgo channel
        run: |
          CHANNEL_NAME=$(echo "${{ github.event.ref }}" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]')
          npm install -g @capgo/cli
          npx @capgo/cli channel delete $CHANNEL_NAME --apikey ${{ secrets.CAPGO_TOKEN }} || true
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ç’°å¢ƒä¿è­·ãƒ«ãƒ¼ãƒ«

GitHubã§ç’°å¢ƒä¿è­·ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šï¼š

<Steps>

1. ãƒªãƒã‚¸ãƒˆãƒªã®**Settings** â†’ **Environments**ã«ç§»å‹•
2. ç’°å¢ƒã‚’ä½œæˆï¼š`development`ã€`staging`ã€`production`
3. æœ¬ç•ªç’°å¢ƒã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
   - **Required reviewers**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’æ‰¿èªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‚’è¿½åŠ 
   - **Wait timer**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå‰ã®é…å»¶ã‚’è¿½åŠ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - **Deployment branches**: `main`ãƒ–ãƒ©ãƒ³ãƒã®ã¿ã«åˆ¶é™

</Steps>

### å®‰å…¨ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†

ç’°å¢ƒå›ºæœ‰ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ä½¿ç”¨ï¼š

```yaml
# Use different secrets per environment
deploy-production:
  environment: production
  steps:
    - name: Deploy to Production
      run: |
        npx @capgo/cli bundle upload \
          --apikey ${{ secrets.CAPGO_PROD_TOKEN }} \
          --app ${{ secrets.CAPGO_PROD_APP_ID }} \
          --channel production
```

## ç›£è¦–ã¨é€šçŸ¥

### Slackçµ±åˆ

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«Slacké€šçŸ¥ã‚’è¿½åŠ ï¼š

```yaml
name: Deploy with Notifications

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # ... deployment steps

      - name: Notify Slack on Success
        if: success()
        uses: 8398a7/action-slack@v3
        with:
          status: success
          text: 'âœ… Capgo deployment successful!'
          fields: repo,message,commit,author,action,eventName,ref,workflow
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}

      - name: Notify Slack on Failure
        if: failure()
        uses: 8398a7/action-slack@v3
        with:
          status: failure
          text: 'âŒ Capgo deployment failed!'
          fields: repo,message,commit,author,action,eventName,ref,workflow
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
```

### Discordçµ±åˆ

Discordã«é€šçŸ¥ã‚’é€ä¿¡ï¼š

```yaml
- name: Discord notification
  if: always()
  uses: Ilshidur/action-discord@master
  with:
    args: |
      Capgo deployment ${{ job.status }}!
      App: ${{ secrets.CAPGO_APP_ID }}
      Channel: ${{ github.ref_name }}
      Commit: ${{ github.sha }}
  env:
    DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
```

### ãƒ¡ãƒ¼ãƒ«é€šçŸ¥

ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’æ§‹æˆï¼š

```yaml
- name: Send email notification
  if: failure()
  uses: dawidd6/action-send-mail@v3
  with:
    server_address: smtp.gmail.com
    server_port: 465
    username: ${{ secrets.EMAIL_USERNAME }}
    password: ${{ secrets.EMAIL_PASSWORD }}
    subject: 'Capgo Deployment Failed - ${{ github.repository }}'
    to: team@yourcompany.com
    from: ci-cd@yourcompany.com
    body: |
      Deployment failed for ${{ github.repository }}
      Branch: ${{ github.ref_name }}
      Commit: ${{ github.sha }}
      Workflow: ${{ github.workflow }}
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ‡ãƒãƒƒã‚°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

å•é¡Œã‚’ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒãƒƒã‚°ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ ï¼š

```yaml
- name: Debug environment
  run: |
    echo "Node version: $(node --version)"
    echo "NPM version: $(npm --version)"
    echo "Working directory: $(pwd)"
    echo "Files in dist/: $(ls -la dist/ || echo 'No dist directory')"
    echo "Environment variables:"
    env | grep -E "(GITHUB_|CAPGO_)" | sort

- name: Test Capgo CLI
  run: |
    npx @capgo/cli --version
    npx @capgo/cli app debug --apikey ${{ secrets.CAPGO_TOKEN }} --app ${{ secrets.CAPGO_APP_ID }}
```

### ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºç­–

**ã€ŒCAPGO_TOKEN not foundã€ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå¤±æ•—:**

```yaml
- name: Verify secrets
  run: |
    if [ -z "${{ secrets.CAPGO_TOKEN }}" ]; then
      echo "ERROR: CAPGO_TOKEN secret is not set"
      exit 1
    fi
    echo "CAPGO_TOKEN is set (length: ${#CAPGO_TOKEN})"
  env:
    CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
```

**ãƒ“ãƒ«ãƒ‰ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„:**

```yaml
- name: Debug artifacts
  run: |
    echo "Checking for build artifacts..."
    ls -la dist/ || echo "No dist directory found"
    find . -name "*.js" -o -name "*.html" | head -10
```

**ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®å•é¡Œ:**

```yaml
- name: Test connectivity
  run: |
    ping -c 3 api.capgo.io || echo "Ping failed"
    curl -I https://api.capgo.io/health || echo "Health check failed"
```

## å†åˆ©ç”¨å¯èƒ½ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–“ã®ä¸€è²«æ€§ã®ãŸã‚ã«å†åˆ©ç”¨å¯èƒ½ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆï¼š

```yaml
# .github/workflows/reusable-capgo-deploy.yml
name: Reusable Capgo Deploy

on:
  workflow_call:
    inputs:
      environment:
        required: true
        type: string
      channel:
        required: true
        type: string
    secrets:
      CAPGO_TOKEN:
        required: true
      CAPGO_APP_ID:
        required: true

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ inputs.environment }}
    steps:
      - uses: actions/checkout@v6

      - name: Setup Node.js
        uses: actions/setup-node@v6
        with:
          node-version: '24'
          cache: 'npm'

      - name: Install and build
        run: |
          npm ci
          npm run build

      - name: Deploy to Capgo
        run: |
          npm install -g @capgo/cli
          npx @capgo/cli bundle upload \
            --apikey ${{ secrets.CAPGO_TOKEN }} \
            --app ${{ secrets.CAPGO_APP_ID }} \
            --channel ${{ inputs.channel }}
```

å†åˆ©ç”¨å¯èƒ½ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½¿ç”¨ï¼š

```yaml
# .github/workflows/deploy.yml
name: Deploy App

on:
  push:
    branches: [main, develop]

jobs:
  deploy-dev:
    if: github.ref == 'refs/heads/develop'
    uses: ./.github/workflows/reusable-capgo-deploy.yml
    with:
      environment: development
      channel: development
    secrets:
      CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
      CAPGO_APP_ID: ${{ secrets.CAPGO_APP_ID }}

  deploy-prod:
    if: github.ref == 'refs/heads/main'
    uses: ./.github/workflows/reusable-capgo-deploy.yml
    with:
      environment: production
      channel: production
    secrets:
      CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
      CAPGO_APP_ID: ${{ secrets.CAPGO_APP_ID }}
```

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- [ãƒãƒ£ãƒãƒ«](/docs/live-updates/channels/)ã«ã¤ã„ã¦å­¦ã³ã€ç•°ãªã‚‹ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç’°å¢ƒã‚’ç®¡ç†
- é«˜åº¦ãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚·ãƒŠãƒªã‚ªã®ãŸã‚ã®[ã‚«ã‚¹ã‚¿ãƒ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸](/docs/live-updates/custom-storage/)ã‚’æ¢ç´¢
- å®‰å…¨ãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ãŸã‚ã®[æš—å·åŒ–](/docs/live-updates/encryption/)ã‚’è¨­å®š
- ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®é©ç”¨æ–¹æ³•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã®[ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå‹•ä½œ](/docs/live-updates/update-behavior/)ã‚’æ§‹æˆ

GitHub Actionsçµ±åˆã«ã‚ˆã‚Šã€GitHubã®å¼·åŠ›ãªCI/CDãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ´»ç”¨ã—ã¦ã€çµ„ã¿è¾¼ã¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ç›£è¦–ã€ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’å‚™ãˆãŸCapgo Live Updatesã®é«˜åº¦ãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã§ãã¾ã™ã€‚
