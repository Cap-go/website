---
title: Guide de migration V7
locale: fr
description: Guide pour migrer des versions antérieures vers la V7 de @capgo/capacitor-social-login
sidebar:
    order: 4
---
import { Steps } from '@astrojs/starlight/components';

## Introduction

:::caution
Ce guide est destiné à la version `V1`/`V7` du plugin pour les personnes qui utilisaient encore ce plugin avec la version `0.x.x`.
:::

Ce guide couvrira les points suivants :

- Migration vers la version V1 depuis la version `main`
- Migration vers la version V1 depuis la version `development`

## Modifications importantes dans la V1

La V1 est simplement un portage de la version development vers main. Elle inclut cependant beaucoup de modifications importantes qui ne sont pas disponibles dans la version `main` V0. Ces modifications incluent :

- Scopes d'accès pour la connexion Google
- Mode hors ligne pour la connexion Google
- Unification des différentes implémentations
  - Des tests approfondis ont été menés pour s'assurer que toutes les implémentations du fournisseur Google se comportent de la même manière entre les plateformes

## Migration depuis la version V0 main

- Modifications dans le `MainActivity.java` pour Android
  - Veuillez suivre le [Guide de configuration Google](/docs/plugins/social-login/google/android/). Plus précisément, veuillez rechercher `MainActivity.java`

- Veuillez ajouter des URL de redirection dans la Google Console. Sans ajouter d'URL de redirection, la connexion Google ne fonctionnera pas.
  - Encore une fois, veuillez suivre le [Guide de configuration Google](/docs/plugins/social-login/google/android/). Plus précisément, veuillez rechercher `Authorized redirect URIs`

- Veuillez vous assurer que vous n'utilisez pas `grantOfflineAccess` dans la configuration. Cette fonctionnalité n'est pas prise en charge dans la V1.

- Veuillez vous assurer que l'authentification fonctionne sur toutes les plateformes.

## Migration depuis la version V0 development

- Modifications dans le `MainActivity.java` pour Android
  - Veuillez suivre le [Guide de configuration Google](/docs/plugins/social-login/google/android/). Plus précisément, veuillez rechercher `MainActivity.java`. Dans la V1, vous **DEVEZ** implémenter `ModifiedMainActivityForSocialLoginPlugin` dans votre activité principale. Ce changement est crucial pour que le plugin fonctionne

- Veuillez ajouter des URL de redirection dans la Google Console. Sans ajouter d'URL de redirection, la connexion Google ne fonctionnera pas.
  - Encore une fois, veuillez suivre le [Guide de configuration Google](/docs/plugins/social-login/google/android/). Plus précisément, veuillez rechercher `Authorized redirect URIs`

- Veuillez vous assurer que les types et les noms de variables sont corrects. Veuillez savoir que les types et les variables peuvent ne pas correspondre entre development et V1.

- Veuillez vous assurer que l'authentification fonctionne sur toutes les plateformes.
