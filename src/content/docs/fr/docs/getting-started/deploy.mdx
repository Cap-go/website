---
title: D√©ployer une mise √† jour en direct
sidebar:
  order: 3
locale: fr
---

import { Steps, LinkCard, Tabs, TabItem } from '@astrojs/starlight/components';

Utilisez la fonctionnalit√© Live Updates de Capgo pour mettre √† jour l'interface utilisateur et la logique m√©tier de votre application √† distance, en temps r√©el. Envoyez des mises √† jour du bundle JS directement √† vos utilisateurs sans passer par l'app store pour corriger instantan√©ment les bugs et d√©ployer de nouvelles fonctionnalit√©s.

Ce guide suppose que vous avez termin√© le [D√©marrage rapide Capgo](/docs/getting-started/quickstart) et que vous avez d√©j√† :

<Steps>

1. Install√© le SDK `@capgo/capacitor-updater` dans votre application Capacitor

2. Configur√© votre ID d'application et le canal de mise √† jour dans `capacitor.config.ts`

3. Ajout√© dans votre code la m√©thode `CapacitorUpdater.notifyAppReady()`

</Steps>

Si vous n'avez pas encore effectu√© ces √©tapes, veuillez revenir en arri√®re et compl√©ter d'abord le d√©marrage rapide.

<LinkCard href="/docs/getting-started/add-an-app/" title="Ajouter une application" description="Ajoutez une application √† votre compte Capgo et installez le plugin dans votre application" />

## T√©l√©versement d'un Bundle

Une fois le SDK Capgo install√© et configur√©, vous √™tes pr√™t √† t√©l√©verser votre premier bundle de mise √† jour en direct :

1. Construisez vos assets web :
   ```shell
   npm run build
   ```

2. T√©l√©versez le bundle vers Capgo :
    <Tabs>
      <TabItem label="Console">
        ```shell
      npx @capgo/cli@latest bundle upload --channel=Production
      ```
      </TabItem>
      <TabItem label="Github Actions">
      ```yml
      // github/workflows/build_and_deploy.yml
    name: Build source code and send to Capgo

    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: true

    on:
      push:
        branches:
          - main

    jobs:
      deploy_to_capgo:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v4
          - uses: actions/setup-node@v4
            with:
              node-version: 18
          - name: Install dependencies
            run: npm install
          - name: Build
            run: npm run build
          - name: Deploy to Capgo
            run: bunx @capgo/cli@latest bundle upload -a ${{ secrets.CAPGO_TOKEN }} --channel ${{ env.CHANNEL }}
            env:
              CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
      ```
      </TabItem>
      <TabItem label="Gitlab">
      ```yml
      // gitlab-ci.yml
      stages:
        - build

      build:
        stage: build
        image: node:18
        cache:
          - key:
              files:
                - package-lock.json
            paths:
              - node_modules/
        script:
          - npm install
          - npm run build
          - npx @capgo/cli@latest bundle upload -a $CAPGO_TOKEN --channel $CAPGO_CHANNEL
        artifacts:
          paths:
            - node_modules/
            - dist/
        only:
          - master
      ```
      </TabItem>
    </Tabs>
   Cela t√©l√©versera une nouvelle version du bundle vers le canal sp√©cifi√© dans la commande.

### D√©pannage des t√©l√©versements

Si votre t√©l√©versement √©choue, v√©rifiez :
- Que votre ID d'application dans `capacitor.config.ts` correspond √† votre application dans le tableau de bord Capgo
- Que vous ex√©cutez la commande de t√©l√©versement depuis la racine de votre projet Capacitor
- Que vos assets web sont construits et √† jour

Si vous rencontrez toujours des probl√®mes, consultez la section [D√©pannage](/docs/getting-started/troubleshooting/)

## R√©ception d'une mise √† jour sur un appareil

Une fois votre bundle t√©l√©vers√©, vous pouvez tester la mise √† jour en direct sur un appareil :

1. Synchronisez votre application avec l'appareil :
   ```shell
   npx cap sync ios
   ```

2. Ouvrez un autre terminal et ex√©cutez la commande suivante pour v√©rifier l'√©tat de la mise √† jour :
   ```shell
   npx @capgo/cli@latest app debug
   ```

3. Ex√©cutez votre application localement :
   ```shell
   npx cap run ios
   ```
   Ou ouvrez le projet iOS/Android dans Xcode/Android Studio et effectuez une ex√©cution native

4. Gardez l'application ouverte pendant environ 30 secondes pour permettre √† la mise √† jour de se t√©l√©charger en arri√®re-plan

5. Les logs prendront quelques secondes pour se mettre √† jour et afficher l'√©tat de la mise √† jour

6. Fermez et rouvrez l'application. Vous devriez voir votre mise √† jour en direct appliqu√©e !

R√©f√©rez-vous au [D√©marrage rapide Capgo](/docs/getting-started/quickstart#receiving-a-live-update-on-a-device) pour plus de d√©tails sur les tests des mises √† jour en direct

## Prochaines √©tapes

F√©licitations pour avoir d√©ploy√© votre premi√®re mise √† jour en direct avec Capgo ! üéâ

Pour en savoir plus, consultez le reste de la [documentation Live Updates de Capgo](/docs/live-updates). Quelques sujets cl√©s √† d√©couvrir ensuite :
- [Ciblage des mises √† jour avec les canaux](/docs/live-updates/channels)
- [Personnalisation du comportement des mises √† jour](/docs/live-updates/update-behavior)
- [Retours en arri√®re des mises √† jour en direct](/docs/live-updates/rollbacks)
