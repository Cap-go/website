---
title: Commencer
description: Cr√©ez votre premier build natif avec Capgo Cloud Build
locale: fr
sidebar:
  order: 1
---

import { Steps, Card, CardGrid } from '@astrojs/starlight/components';

Commencez avec Capgo Cloud Build et cr√©ez votre premier build natif iOS ou Android en quelques minutes.

## Ce dont vous aurez besoin

Avant de commencer, assurez-vous d'avoir :

- Une application Capacitor qui compile avec succ√®s localement
- Node.js 20 ou sup√©rieur install√©
- Un compte Capgo avec un abonnement actif
- Votre application d√©j√† enregistr√©e dans Capgo (ex√©cutez `npx @capgo/cli@latest app add` si ce n'est pas le cas)
- **Identifiants de build configur√©s** (certificats, keystores) - voir ci-dessous

## Avant votre premier build

<CardGrid>
  <Card title="‚ö†Ô∏è Configurez d'abord les identifiants" icon="warning">
    **Requis avant de compiler :** Vous devez configurer vos identifiants de build (certificats pour iOS, keystores pour Android).

    [Configurer les identifiants ‚Üí](/docs/cli/cloud-build/credentials/)
  </Card>
</CardGrid>

## D√©marrage rapide

<Steps>

1. **Configurer les identifiants de build**

   Avant de pouvoir compiler, vous devez enregistrer vos identifiants localement :

   **Pour iOS :**
   ```bash
   npx @capgo/cli build credentials save \
     --platform ios \
     --certificate ./cert.p12 \
     --p12-password "password" \
     --provisioning-profile ./profile.mobileprovision \
     --apple-key ./AuthKey.p8 \
     --apple-key-id "KEY123" \
     --apple-issuer-id "issuer-uuid" \
     --apple-team-id "team-id"
   ```

   **Pour Android :**
   ```bash
   npx @capgo/cli build credentials save \
     --platform android \
     --keystore ./release.keystore \
     --keystore-alias "my-key" \
     --keystore-key-password "key-pass" \
     --keystore-store-password "store-pass"
   ```

   Consultez le [guide complet des identifiants](/docs/cli/cloud-build/credentials/) pour plus de d√©tails.

2. **V√©rifier le build local**

   D'abord, assurez-vous que votre application compile localement sans erreurs :

   ```bash
   # Compiler vos assets web
   npm run build

   # Synchroniser avec Capacitor
   npx cap sync

   # Tester le build local (optionnel mais recommand√©)
   npx cap open ios    # Pour iOS
   npx cap open android # Pour Android
   ```

3. **S'authentifier avec Capgo**

   D√©finissez votre cl√© API Capgo (si ce n'est pas d√©j√† fait) :

   ```bash
   npx @capgo/cli@latest login
   ```

   Ou d√©finissez la variable d'environnement :
   ```bash
   export CAPGO_TOKEN=votre_cl√©_api_ici
   ```

4. **Ex√©cuter votre premier build**

   Commencez avec un build de d√©bogage Android (le plus rapide √† tester) :

   ```bash
   npx @capgo/cli@latest build com.example.app \
     --platform android \
     --build-mode debug
   ```

   Vous verrez les logs en temps r√©el au fur et √† mesure de la progression de votre build :
   ```
   ‚úî Cr√©ation du job de build...
   ‚úî T√©l√©versement du projet (15.2 MB)...
   ‚úî Build d√©marr√©

   üìù Logs de build :
   ‚Üí Installation des d√©pendances...
   ‚Üí Ex√©cution du build Gradle...
   ‚Üí Signature de l'APK...
   ‚úî Build r√©ussi en 3m 42s
   ```

5. **V√©rifier le statut du build**

   Le CLI interrogera et affichera automatiquement le statut du build. Une fois termin√©, vous verrez :

   - Temps de build
   - Statut de succ√®s/√©chec
   - Application soumise √† l'App Store/Play Store (si les identifiants sont configur√©s)

</Steps>

## Comprendre le processus de build

Lorsque vous ex√©cutez la commande de build, voici ce qui se passe :

```mermaid
graph LR
    A[Votre machine] -->|1. Zipper le projet| B[Temp local]
    B -->|2. T√©l√©verser| C[Capgo Cloud]
    C -->|3. Build| D[Serveur de build]
    D -->|4. Flux de logs| A
    D -->|5. Nettoyage| E[Suppression auto]
```

1. **Pr√©paration locale** - Votre projet est zipp√© (en excluant `node_modules` et les fichiers dotfiles)
2. **T√©l√©versement** - Le zip est t√©l√©vers√© vers un stockage cloud s√©curis√© (Cloudflare R2)
3. **Ex√©cution du build** - Votre application est compil√©e sur une infrastructure d√©di√©e
4. **Flux de logs** - Les logs en temps r√©el sont diffus√©s vers votre terminal via Server-Sent Events
5. **Nettoyage automatique** - Les artefacts de build sont supprim√©s (Android : instantan√©, iOS : 24 heures)

## Votre premier build de production

Une fois que vous avez v√©rifi√© que le processus fonctionne, cr√©ez un build de production :

### Android

```bash
npx @capgo/cli@latest build com.example.app \
  --platform android \
  --build-mode release
```

Vous devrez d'abord configurer les identifiants de signature. Voir [Configuration des builds Android](/docs/cli/cloud-build/android/).

### iOS

```bash
npx @capgo/cli@latest build com.example.app \
  --platform ios \
  --build-mode release
```

Les builds iOS n√©cessitent des certificats de signature et des profils de provisionnement. Voir [Configuration des builds iOS](/docs/cli/cloud-build/ios/).

## Ce qui est compil√©

**Important :** Capgo Cloud Build compile uniquement les **parties natives** de votre application (code natif iOS et Android).

Vous √™tes responsable de :
- Compiler vos assets web (`npm run build`)
- Ex√©cuter `npx cap sync` avant le build
- S'assurer que toutes les d√©pendances sont dans `package.json`

Nous g√©rons :
- Compilation native iOS (Xcode, Fastlane)
- Compilation native Android (Gradle)
- Signature du code
- Soumission √† l'app store (si configur√©e)

## Temps et co√ªts de build

Le temps de build est mesur√© du d√©but √† la fin :

- **Android** : Typiquement 3-5 minutes (multiplicateur de facturation 1√ó)
- **iOS** : Typiquement 5-10 minutes (multiplicateur de facturation 2√ó en raison des co√ªts du mat√©riel Mac)

Vous ne payez que pour le temps de build r√©ellement utilis√©. Pas de frais cach√©s.

## Cas d'utilisation courants

### Int√©gration CI/CD

Ajoutez √† votre workflow GitHub Actions :

```yaml
- name: Build native app
  env:
    CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
  run: |
    npm run build
    npx cap sync
    npx @capgo/cli@latest build ${{ secrets.APP_ID }} \
      --platform both \
      --build-mode release
```

### D√©veloppement local

Testez les builds localement avant de committer :

```bash
# Build de d√©bogage rapide pour les tests
npm run build && npx cap sync
npx @capgo/cli@latest build com.example.app \
  --platform android \
  --build-mode debug
```

### Builds multi-plateformes

Compilez pour les deux plateformes simultan√©ment :

```bash
npx @capgo/cli@latest build com.example.app \
  --platform both \
  --build-mode release
```

## Prochaines √©tapes

Maintenant que vous avez cr√©√© votre premier build :

- [Configurer les builds iOS](/docs/cli/cloud-build/ios/) - Configurer les certificats et profils
- [Configurer les builds Android](/docs/cli/cloud-build/android/) - Configurer les keystores et le Play Store
- [D√©pannage](/docs/cli/cloud-build/troubleshooting/) - Probl√®mes courants et solutions
- [R√©f√©rence CLI](/docs/cli/reference/build/) - Documentation compl√®te des commandes

## Besoin d'aide ?

- Consultez le [guide de d√©pannage](/docs/cli/cloud-build/troubleshooting/)
- Rejoignez notre [communaut√© Discord](https://discord.com/invite/VnYRvBfgA6)
- Envoyez un email au support √† support@capgo.app
