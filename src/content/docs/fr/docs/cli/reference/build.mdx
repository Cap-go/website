---
title: üèóÔ∏è build
description: Compilez des applications mobiles natives dans le cloud et soumettez-les directement √† l'App Store et au Play Store depuis votre CLI.
sidebar_label: build
locale: fr
sidebar:
  order: 5
---

import { Card, CardGrid } from '@astrojs/starlight/components';

üèóÔ∏è Compilez des applications mobiles natives dans le cloud et soumettez-les automatiquement √† l'App Store et au Play Store.

## Vue d'ensemble

La commande `build` vous permet de compiler votre application Capacitor pour iOS et Android dans l'infrastructure cloud de Capgo, de mani√®re similaire √† la fa√ßon dont Expo g√®re les builds. Votre application est compil√©e sur une infrastructure d√©di√©e et peut √™tre automatiquement soumise aux app stores.

**Statut actuel :** B√™ta publique

## Pourquoi utiliser Cloud Build ?

Traditionnellement, compiler des applications mobiles natives n√©cessite :
- **Du mat√©riel Mac** pour les builds iOS (1000$+ ou des minutes CI co√ªteuses)
- **Une configuration CI/CD complexe** avec mise en cache et identifiants
- **Une maintenance importante** pour Xcode, Android Studio et les SDK

Avec Capgo Cloud Build, vous obtenez :
- ‚úÖ **Pas de Mac requis** - Compilez des applications iOS depuis n'importe quelle machine
- ‚úÖ **Z√©ro configuration** - Aucune configuration CI/CD n√©cessaire
- ‚úÖ **√âprouv√© au combat** - Construit sur 3 ans d'utilisation interne en production
- ‚úÖ **S√©curis√©** - Pas de stockage de logs, nettoyage automatique
- ‚úÖ **Focus natif uniquement** - Votre JavaScript reste priv√©

## D√©marrage rapide

```bash
npx @capgo/cli@latest build com.example.app
```

C'est tout ! Votre application sera compil√©e dans le cloud et vous verrez les logs en temps r√©el.

## Sections de documentation

<CardGrid>
  <Card title="‚ö†Ô∏è Configurez d'abord les identifiants" icon="warning">
    **Requis avant de compiler :** Enregistrez vos identifiants iOS/Android localement.

    [Configurer les identifiants ‚Üí](/docs/cli/cloud-build/credentials/)
  </Card>

  <Card title="Commencer" icon="rocket">
    Cr√©ez votre premier build natif en quelques minutes.

    [Lire le guide ‚Üí](/docs/cli/cloud-build/getting-started/)
  </Card>

  <Card title="Builds iOS" icon="seti:apple">
    Configurez les certificats et compilez pour l'App Store.

    [Configurer iOS ‚Üí](/docs/cli/cloud-build/ios/)
  </Card>

  <Card title="Builds Android" icon="seti:android">
    Configurez les keystores et compilez pour le Play Store.

    [Configurer Android ‚Üí](/docs/cli/cloud-build/android/)
  </Card>

  <Card title="D√©pannage" icon="warning">
    Solutions aux probl√®mes de build courants.

    [Obtenir de l'aide ‚Üí](/docs/cli/cloud-build/troubleshooting/)
  </Card>
</CardGrid>

## R√©f√©rence de commande

### Utilisation de base

```bash
npx @capgo/cli@latest build [appId] [options]
```

### Exemples

Compiler pour les deux plateformes :
```bash
npx @capgo/cli@latest build com.example.app
```

Compiler uniquement pour iOS :
```bash
npx @capgo/cli@latest build com.example.app --platform ios
```

Compiler pour Android en mode debug :
```bash
npx @capgo/cli@latest build com.example.app --platform android --build-mode debug
```

Compiler depuis un r√©pertoire sp√©cifique :
```bash
npx @capgo/cli@latest build com.example.app --path ./my-app
```

### Options

| Option | Type | D√©faut | Description |
|--------|------|---------|-------------|
| `appId` | string | capacitor.config | ID de l'application (par ex., com.example.app) |
| `--path <path>` | string | R√©pertoire actuel | Chemin vers le r√©pertoire de votre projet |
| `--platform <platform>` | string | both | Plateforme cible : `ios`, `android` ou `both` |
| `--build-mode <mode>` | string | release | Mode de build : `debug` ou `release` |
| `--build-config <config>` | string | - | Configuration de build suppl√©mentaire en cha√Æne JSON |
| `-a, --apikey <apikey>` | string | - | Cl√© API (ou utilisez la variable d'env `CAPGO_TOKEN`) |
| `--supa-host <url>` | string | https://api.capgo.app | URL h√¥te Supabase personnalis√©e |
| `--supa-anon <key>` | string | - | Cl√© anon Supabase personnalis√©e |

## Comment √ßa fonctionne

```mermaid
sequenceDiagram
    participant Dev as D√©veloppeur
    participant CLI as Capgo CLI
    participant Cloud as Capgo Cloud
    participant iOS as Mac Builder
    participant Android as Android Builder

    Dev->>CLI: build com.example.app
    CLI->>CLI: Zipper le projet localement
    CLI->>Cloud: T√©l√©verser vers R2
    Cloud->>iOS: Provisionner Mac (iOS)
    Cloud->>Android: D√©marrer bac √† sable (Android)
    iOS-->>CLI: Flux de logs (SSE)
    Android-->>CLI: Flux de logs (SSE)
    iOS->>Cloud: Build termin√©
    Android->>Cloud: Build termin√©
    Cloud->>iOS: Nettoyage (24h plus tard)
    Cloud->>Android: Nettoyage (instantan√©)
    CLI->>Dev: Build r√©ussi
```

### Processus de build

1. **Pr√©paration locale** - Votre projet est zipp√© localement (en excluant `node_modules`, dotfiles)
2. **T√©l√©versement** - Fichier zip t√©l√©vers√© vers un stockage cloud s√©curis√© (Cloudflare R2)
3. **Ex√©cution du build** :
   - **iOS** : Machine Mac d√©di√©e provisionn√©e, Fastlane compile et signe
   - **Android** : Bac √† sable s√©curis√© cr√©√©, Gradle compile et signe
4. **Flux de logs** - Logs en temps r√©el via Server-Sent Events (non stock√©s !)
5. **Nettoyage automatique** :
   - **iOS** : Fichiers supprim√©s apr√®s 24 heures quand la machine est renvoy√©e
   - **Android** : Tout est supprim√© instantan√©ment apr√®s le build

## Notre expertise

Capgo Cloud Build n'est pas une nouvelle infrastructure - nous l'utilisons en interne depuis **3 ans** :

- ‚úÖ **Fastlane personnalis√©** - Construit sp√©cifiquement pour les applications Capacitor
- ‚úÖ **Des milliers de builds** - √âprouv√© au combat en production
- ‚úÖ **Experts Capacitor** - Connaissance approfondie de ce qui compte
- ‚úÖ **Focus natif uniquement** - Votre JavaScript ne touche jamais nos serveurs

## S√©curit√© et confidentialit√©

- **Pas de stockage de logs** - Les logs ne font que diffuser vers votre terminal, jamais sauvegard√©s
- **Pas de stockage d'artefacts** - Les applications sont envoy√©es directement √† l'App Store/Play Store, nous ne gardons rien
- **Identifiants auto-supprim√©s** - Utilis√©s uniquement pendant le build, supprim√©s apr√®s (max 24h)
- **Builds isol√©s** - Chaque build s'ex√©cute dans l'isolation
- **Votre code reste le v√¥tre** - Nous compilons uniquement les parties natives, JavaScript reste local

## Int√©gration CI/CD

Fonctionne partout - GitHub Actions, GitLab CI ou toute plateforme CI/CD :

```yaml
- name: Build native app
  env:
    CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
  run: |
    npm run build
    npx cap sync
    npx @capgo/cli@latest build com.example.app \
      --platform both \
      --build-mode release
```

Pas besoin de :
- Runners Mac
- Installation Android SDK
- Installation Xcode
- Mise en cache complexe
- Gestion des identifiants

## Tarification

Le temps de build est factur√© selon l'utilisation r√©elle :

- **Android** : Multiplicateur 1√ó (~$0.XX par minute)
- **iOS** : Multiplicateur 2√ó (~$0.XX par minute, d√ª au mat√©riel Mac)

**Co√ªts typiques :**
- Debug Android : 3 min √ó 1√ó = ~$X.XX
- Release iOS : 7 min √ó 2√ó = ~$X.XX

Ne payez que ce que vous utilisez. Pas de minimums, pas de surprises.

## Comparaison avec d'autres solutions

| Fonctionnalit√© | Capgo Cloud Build | GitHub Actions (Mac) | Expo EAS |
|---------|------------------|---------------------|----------|
| **Mac requis localement** | ‚ùå Non | ‚úÖ Oui | ‚ùå Non |
| **Complexit√© de configuration** | ‚≠ê Commande unique | ‚≠ê‚≠ê‚≠ê YAML complexe | ‚≠ê‚≠ê Fichiers de config |
| **Natif Capacitor** | ‚úÖ Optimis√© | ‚ö†Ô∏è G√©n√©rique | ‚ùå Expo uniquement |
| **Confidentialit√© de votre code** | ‚úÖ Jamais stock√© | ‚ö†Ô∏è Dans les runners | ‚ö†Ô∏è T√©l√©vers√© |
| **Co√ªt (iOS)** | üí∞ Base 2√ó | üí∞üí∞üí∞ 10√ó co√ªteux | üí∞üí∞ Premium |

## Ce qui est compil√©

**Important :** Capgo compile **uniquement les parties natives**.

‚úÖ **Nous compilons :**
- Code natif iOS (Swift, Objective-C, projets Xcode)
- Code natif Android (Java, Kotlin, projets Gradle)
- Signature du code et soumission √† l'app store

‚ùå **Vous compilez (localement) :**
- JavaScript, HTML, CSS (`npm run build`)
- Synchronisation Capacitor (`npx cap sync`)
- Vos assets web

Cette s√©paration assure :
- **Meilleure s√©curit√©** - Votre logique d'application reste priv√©e
- **Builds plus rapides** - Pas de builds web en double
- **Responsabilit√© claire** - Vous contr√¥lez votre code

## Limitations

Limitations actuelles pendant la b√™ta publique :

- **Timeout de build** : 10 minutes maximum
- **Timeout de t√©l√©versement** : 1 heure pour l'URL de t√©l√©versement
- **Machine iOS** : Exigence de bail de 24 heures, le build sur Mac sera mis en file d'attente pour assurer une utilisation optimale
- **Acc√®s** : B√™ta publique uniquement

## Commencer

Pr√™t √† compiler sans tracas ?

<CardGrid>
  <Card title="Cr√©er votre premier build" icon="rocket">
    Guide √©tape par √©tape pour votre premier build cloud.

    [Commencer ‚Üí](/docs/cli/cloud-build/getting-started/)
  </Card>

  <Card title="Rejoindre la b√™ta publique" icon="star">
    Cloud Build est en b√™ta publique. Rejoignez notre communaut√© pour obtenir un acc√®s.

    [Rejoindre Discord ‚Üí](https://discord.com/invite/VnYRvBfgA6)
  </Card>
</CardGrid>

## En savoir plus

- [Guide de d√©marrage](/docs/cli/cloud-build/getting-started/) - Cr√©er votre premier build
- [Configuration iOS](/docs/cli/cloud-build/ios/) - Configurer les builds iOS
- [Configuration Android](/docs/cli/cloud-build/android/) - Configurer les builds Android
- [D√©pannage](/docs/cli/cloud-build/troubleshooting/) - Probl√®mes courants et solutions
- [Blog : Pr√©sentation de Cloud Build](/blog/introducing-capgo-cloud-build/) - Annonce de la fonctionnalit√©

## Besoin d'aide ?

- üìö [Guide de d√©pannage](/docs/cli/cloud-build/troubleshooting/)
- üí¨ [Communaut√© Discord](https://discord.com/invite/VnYRvBfgA6)
- üìß Email : support@capgo.app
