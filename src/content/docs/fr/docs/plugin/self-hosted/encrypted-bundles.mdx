---
title: Paquets chiffrés
description: Comment utiliser le plugin de mise à jour manuelle en mode auto-hébergé
sidebar:
  order: 5
locale: fr
---

import { LinkCard, CardGrid } from '@astrojs/starlight/components';

## Chiffrement de bout en bout

À partir de la version 4150, le plugin permet d'envoyer des mises à jour chiffrées
Pour commencer, créez une clé privée
```bash title='Create a private key'
npx @capgo/cli key create
```

Ensuite, chiffrez votre zip
```bash title="Encrypt bundled zip"
npx @capgo/cli encrypt [path/to/zip]
```

La commande vous imprimera un `ivSessionKey` qui doit être envoyé avec votre payload de mise à jour dans la clé `session_key`

```json
{
"version": "123",
"url": "https://myservercom/app/updates/my-new-app-200zip",
"session_key": "encrypted_session_key",
}
```
Ensuite, votre application pourra utiliser la clé privée pour déchiffrer la `session_key` et utiliser la `session_key` déchiffrée pour déchiffrer la mise à jour

En savoir plus ici :

<LinkCard
	title="Mises à jour en direct auto-hébergées"
	href="https://capgo.app/blog/self-hosted-live-updates/"
/>
