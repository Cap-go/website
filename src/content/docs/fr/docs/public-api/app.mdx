---
title: Applications
description: >-
  Documentation détaillée pour le endpoint Applications, fournissant des
  informations complètes sur la gestion et l'interaction avec les applications
  Capacitor via la plateforme Capgo.
sidebar:
  order: 7
locale: fr
---

Les applications sont les entités fondamentales dans Capgo. Chaque application représente une application Capacitor unique que vous pouvez gérer et mettre à jour via la plateforme. L'API Applications vous permet de créer, récupérer, mettre à jour et supprimer des configurations d'applications.

## Comprendre les Applications

Une application dans Capgo représente votre application Capacitor et inclut :
- **App ID** : Identifiant unique pour votre application
- **Name** : Nom lisible pour votre application
- **Icons** : Identifiants visuels pour votre application dans le tableau de bord
- **Configuration** : Paramètres qui contrôlent comment les mises à jour sont livrées
- **Ownership** : Informations d'accès à l'organisation et à l'utilisateur
- **Usage Statistics** : Métriques sur les installations et les mises à jour

## Meilleures Pratiques

1. **Convention de Nommage** : Utilisez des noms clairs et identifiables pour vos applications
2. **Sécurité** : Protégez vos clés API et vos informations d'identification
3. **Organisation** : Regroupez les applications connexes sous la même organisation
4. **Surveillance** : Vérifiez régulièrement les statistiques et les performances des applications
5. **Sauvegarde** : Maintenez des sauvegardes de configuration pour les applications critiques

## Endpoints

### GET

`https://api.capgo.app/app/`

Récupérer des informations sur vos applications.

#### Paramètres de Requête
- `page` : Optionnel. Numéro de page pour la pagination
- `limit` : Optionnel. Nombre de résultats par page (par défaut : 50)
- `org_id` : Optionnel. Filtrer les applications par ID d'organisation. Si non fourni, renvoie les applications de toutes les organisations auxquelles l'utilisateur a accès

Pour obtenir une application spécifique :
- Utilisez l'ID de l'application dans le chemin URL : `https://api.capgo.app/app/:app_id`

#### Type de Réponse

```typescript
interface App {
  app_id: string
  created_at: string | null
  default_upload_channel: string
  icon_url: string
  id: string | null
  last_version: string | null
  name: string | null
  owner_org: string
  retention: number
  transfer_history: Json[] | null
  updated_at: string | null
  user_id: string | null
}
```

#### Exemple de Requête

```bash
# Obtenir toutes les applications
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/app/"

# Obtenir les applications d'une organisation spécifique
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/app/?org_id=046a36ac-e03c-4590-9257-bd6c9dba9ee8"

# Obtenir une application spécifique
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/app/com.demo.app"
```

#### Exemple de Réponse

```json
{
  "data": [
    {
      "app_id": "com.demo.app",
      "created_at": "2024-01-01T00:00:00Z",
      "default_upload_channel": "dev",
      "icon_url": "https://example.com/icon.png",
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "last_version": "1.0.0",
      "name": "Demo App",
      "owner_org": "046a36ac-e03c-4590-9257-bd6c9dba9ee8",
      "retention": 2592000,
      "transfer_history": null,
      "updated_at": "2024-01-01T00:00:00Z",
      "user_id": "6aa76066-55ef-4238-ade6-0b32334a4097"
    }
  ]
}
```

### POST

`https://api.capgo.app/app/`

Créer une nouvelle application.

#### Request Body

```typescript
interface CreateApp {
  app_id: string
  name: string
  icon?: string
  owner_org: string
}
```

#### Exemple de Requête

```bash
# Créer une nouvelle application
curl -X POST \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "My New App",
    "app_id": "com.demo.myapp", // cet ID est unique dans Capgo et ne peut pas être réutilisé par aucun compte.
    "icon": "https://example.com/icon.png",
    "owner_org": "046a36ac-e03c-4590-9257-bd6c9dba9ee8"
  }' \
  https://api.capgo.app/app/
```

#### Réponse de Succès

```json
{
  "app_id": "My New App",
  "created_at": "2024-01-01T00:00:00Z",
  "default_upload_channel": "dev",
  "icon_url": "https://example.com/icon.png",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "name": "My New App",
  "owner_org": "046a36ac-e03c-4590-9257-bd6c9dba9ee8",
  "retention": 2592000,
  "updated_at": "2024-01-01T00:00:00Z"
}
```

### PUT

`https://api.capgo.app/app/:app_id`

Mettre à jour une application existante. L'ID de l'application est spécifié dans le chemin URL.

#### Request Body

```typescript
interface UpdateApp {
  name?: string
  icon?: string
  retention?: number
}
```

#### Exemple de Requête

```bash
curl -X PUT \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Updated App Name",
    "icon": "https://example.com/updated-icon.png",
    "retention": 45
  }' \
  https://api.capgo.app/app/com.demo.app
```

#### Réponse de Succès

```json
{
  "app_id": "com.demo.app",
  "created_at": "2024-01-01T00:00:00Z",
  "default_upload_channel": "dev",
  "icon_url": "https://example.com/updated-icon.png",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "name": "Updated App Name",
  "owner_org": "046a36ac-e03c-4590-9257-bd6c9dba9ee8",
  "retention": 45,
  "updated_at": "2024-01-01T00:00:00Z"
}
```

### DELETE

`https://api.capgo.app/app/:app_id`

Supprimer une application et toutes les ressources associées. L'ID de l'application est spécifié dans le chemin URL. Utilisez avec une extrême prudence car cette action ne peut pas être annulée.

#### Exemple de Requête

```bash
curl -X DELETE \
  -H "authorization: your-api-key" \
  https://api.capgo.app/app/com.demo.app
```

#### Réponse de Succès

```json
{
  "status": "ok"
}
```

## Gestion des Erreurs

Scénarios d'erreur courants et leurs réponses :

```json
// Application non trouvée
{
  "error": "App not found",
  "status": "KO"
}

// ID personnalisé en double
{
  "error": "Custom ID already in use",
  "status": "KO"
}

// Paramètres invalides
{
  "error": "Invalid app configuration",
  "status": "KO"
}

// Permission refusée
{
  "error": "Insufficient permissions to manage app",
  "status": "KO"
}

// Accès à l'organisation refusé
{
  "status": "You do not have access to this organization"
}
```

## Cas d'Usage Courants

1. **Créer une Nouvelle Application**
```typescript
// Configurer une nouvelle application
{
  "name": "Production App",
  "owner_org": "046a36ac-e03c-4590-9257-bd6c9dba9ee8"
}
```

2. **Mettre à Jour la Configuration de l'Application**
```typescript
// Changer le nom et l'icône de l'application
{
  "name": "Rebranded App Name",
  "icon": "https://example.com/new-icon.png"
}
```

3. **Définir la Politique de Rétention**
```typescript
// Configurer le nettoyage automatique des bundles
{
  "retention": 30 // Conserver les bundles pendant 30 jours
}
```

4. **Obtenir les Applications par Organisation**
```bash
# Lister toutes les applications dans une organisation spécifique
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/app/?org_id=046a36ac-e03c-4590-9257-bd6c9dba9ee8"
```

## Gestion des Ressources

1. **Optimisation du Stockage** : Surveillez l'utilisation du stockage et définissez des politiques de rétention appropriées
2. **Organisation** : Regroupez les applications connexes sous une seule organisation
3. **Contrôle d'Accès** : Gérez quels membres de l'équipe peuvent modifier les paramètres de l'application
4. **Stratégie de Sauvegarde** : Sauvegardez les configurations et les paramètres critiques de l'application
