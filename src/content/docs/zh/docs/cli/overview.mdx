---
title: "概述"
description: "本文档提供 Capgo CLI 的全面概述,以及如何利用它通过启用无缝实时更新来增强应用开发过程"
sidebar:
  order: 1
prev: false
next: false
locale: zh
---

import { Steps, CardGrid, Card, Aside } from '@astrojs/starlight/components';

使用 Capgo 的实时更新功能远程实时更新应用的 JavaScript bundle。直接向用户推送 JS 更新,无需通过应用商店审核流程即可立即修复错误和发布新功能。

<Aside>

实时更新仅限于 JavaScript bundle 更改。如果您需要更新原生代码,例如添加或删除插件或更改原生项目配置,则需要向应用商店提交新的原生二进制构建。

</Aside>

## 实时更新的工作原理

Capgo 的实时更新系统有两个关键组件:

1. Capgo SDK,您将其安装在应用中。SDK 检查可用更新并在后台下载它们。

2. 频道,让您将更新定向到特定的用户组。您可以使用频道来管理不同的发布轨道,例如 `Production`、`Staging` 和 `Dev`。

当您上传新的 JS bundle 到 Capgo 并将其分配给频道时,为该频道配置的应用中的 Capgo SDK 将检测到更新并下载它。下次应用重新启动时,将加载新的 bundle。

## 入门

要开始使用实时更新,请按照以下步骤操作:

<Steps>

1. 完成 [Capgo 快速入门](/docs/getting-started/quickstart)以在 Capgo 中设置您的应用并安装 Capgo SDK。

2. In your app code, call `CapacitorUpdater.notifyAppReady()` after your app has finished initializing. This tells the Capgo SDK that your app is ready to receive updates.

3. Build your JS bundle and upload it to Capgo:
   ```shell
   npm run build
   npx @capgo/cli@latest bundle upload --channel=production 
   ```

4. Open your app and wait for the update to download. You can check the status with:
   ```shell
   npx @capgo/cli@latest app debug
   ```

5. Once the update is downloaded, close and reopen your app to load the new bundle.

</Steps>

See the [Deploying Live Updates](/docs/getting-started/deploy) guide for more details.

## The Capgo CLI

The Capgo CLI is a powerful tool that allows developers to interact with Capgo's services from their own CI/CD pipelines. With the CLI, you have granular control over when builds are produced and deployed, enabling you to integrate Capgo into your existing enterprise workflows.

### What is the Capgo CLI for?

The Capgo CLI is designed for developers and teams who need more control and flexibility in their live update workflows. By using the CLI in your CI/CD pipelines, you can:

- Decide exactly when to build and deploy updates, rather than relying on Capgo's built-in automation
- Insert your own processes, such as code signing, QA testing, or manager approvals, between the build and deploy steps
- Integrate Capgo into your existing DevOps tooling and workflows

### Authentication

To use the Capgo CLI, you'll need to authenticate with your API key. You can generate an API key in your Capgo account settings.

To log in and securely store your API key, run:

```shell
npx @capgo/cli@latest login [API_KEY]
```

This command will then be saved for future use. You won't need to provide your API key with each command after logging in.

### Key Differences from Other CLI Tools

If you're familiar with other live update CLI tools, there are a few key things to note about Capgo's CLI:

- Capgo uses a single CLI for both development and CI/CD use cases, as Capgo is focused solely on the live update feature set.

- The Capgo CLI doesn't require a separate installation step. It's bundled with the `@capgo/cli` package and can be run directly using `npx`.

- Capgo's CLI is designed specifically for the live update workflow, so it may not include some features or commands found in more general-purpose CLI tools.

## Next Steps

<CardGrid stagger>
  <a href="/docs/live-updates/channels/">
    <Card title="Channels" icon="bars">
      Learn how to use channels to manage different release tracks and target updates to specific users.
    </Card>
  </a>

  <a href="/docs/live-updates/rollbacks/">
    <Card title="Rollbacks" icon="left-arrow">
      Discover how to roll back to a previous JS bundle version if an update causes issues.
    </Card>
  </a>

  <a href="/docs/live-updates/update-behavior/">
    <Card title="Update Behavior" icon="setting">
      Customize how and when updates are downloaded and applied in your app.  
    </Card>
  </a>
  <a href="/docs/live-updates/differentials/">
    <Card title="Fast Updates" icon="starlight">
      Learn how to use fast updates to speed up the update process.
    </Card>
  </a>
</CardGrid>
