---
title: "ğŸ¤– mcp"
description: "ğŸ¤– å¯åŠ¨ Capgo MCP (Model Context Protocol) æœåŠ¡å™¨ä»¥è¿›è¡Œ AI ä»£ç†é›†æˆã€‚"
sidebar_label: mcp
sidebar:
  order: 12
locale: zh
---

import { Steps, Tabs, TabItem, Aside } from '@astrojs/starlight/components';

ğŸ¤– å¯åŠ¨ Capgo MCP (Model Context Protocol) æœåŠ¡å™¨ä»¥è¿›è¡Œ AI ä»£ç†é›†æˆã€‚

MCP æœåŠ¡å™¨å°† Capgo çš„åŠŸèƒ½ä»¥å·¥å…·å½¢å¼æš´éœ²ç»™ AI ä»£ç†(å¦‚ Claudeã€Cursor æˆ–å…¶ä»–å…¼å®¹ MCP çš„å®¢æˆ·ç«¯),ä»¥ä¾¿é€šè¿‡ç¨‹åºåŒ–æ–¹å¼ç®¡ç†æ‚¨çš„å®æ—¶æ›´æ–°ã€‚

```bash
npx @capgo/cli@latest mcp
```

<Aside type="tip">
MCP æœåŠ¡å™¨éœ€è¦èº«ä»½éªŒè¯ã€‚è¯·å…ˆè¿è¡Œ `npx @capgo/cli login` ä¿å­˜æ‚¨çš„ API keyã€‚
</Aside>

## ä»€ä¹ˆæ˜¯ MCP?

[Model Context Protocol (MCP)](https://modelcontextprotocol.io/) æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†,å…è®¸ AI åŠ©æ‰‹ä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡äº¤äº’ã€‚é€šè¿‡è¿è¡Œ Capgo MCP æœåŠ¡å™¨,æ‚¨å¯ä»¥è®© AI ä»£ç†:

- ä¸Šä¼ å’Œç®¡ç†åº”ç”¨åŒ…
- åˆ›å»ºå’Œé…ç½®åˆ†å‘æ¸ é“
- ç›‘æ§è®¾å¤‡ç»Ÿè®¡å’Œæ—¥å¿—
- è¯·æ±‚åŸç”Ÿæ„å»º
- ä»¥åŠæ›´å¤š...

## è®¾ç½®

<Tabs>
<TabItem label="Claude Desktop">

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "capgo": {
      "command": "npx",
      "args": ["@capgo/cli", "mcp"]
    }
  }
}
```

**é…ç½®æ–‡ä»¶ä½ç½®:**
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`

</TabItem>
<TabItem label="Cursor">

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ `.cursor/mcp.json`:

```json
{
  "mcpServers": {
    "capgo": {
      "command": "npx",
      "args": ["@capgo/cli", "mcp"]
    }
  }
}
```

</TabItem>
<TabItem label="Other Clients">

å¯¹äºå…¶ä»–å…¼å®¹ MCP çš„å®¢æˆ·ç«¯,é…ç½®å®ƒä»¬è¿è¡Œ:

```bash
npx @capgo/cli mcp
```

æœåŠ¡å™¨é€šè¿‡ stdio(æ ‡å‡†è¾“å…¥/è¾“å‡º)é€šä¿¡ã€‚

</TabItem>
</Tabs>

## å¯ç”¨å·¥å…·

MCP æœåŠ¡å™¨æä¾› 21 ä¸ªå·¥å…·,æŒ‰ç±»åˆ«ç»„ç»‡:

### ğŸ“± åº”ç”¨ç®¡ç†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_list_apps` | åˆ—å‡ºæ‚¨ Capgo Cloud è´¦å·ä¸‹çš„æ‰€æœ‰åº”ç”¨ |
| `capgo_add_app` | åœ¨ Capgo Cloud ä¸­æ³¨å†Œæ–°åº”ç”¨ |
| `capgo_update_app` | æ›´æ–°ç°æœ‰åº”ç”¨çš„è®¾ç½® |
| `capgo_delete_app` | ä» Capgo Cloud ä¸­åˆ é™¤åº”ç”¨ |

### ğŸ“¦ åŒ…ç®¡ç†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_upload_bundle` | ä¸Šä¼ æ–°çš„åº”ç”¨åŒ…ç”¨äºåˆ†å‘ |
| `capgo_list_bundles` | åˆ—å‡ºåº”ç”¨å·²ä¸Šä¼ çš„æ‰€æœ‰åŒ… |
| `capgo_delete_bundle` | åˆ é™¤æŒ‡å®šçš„åŒ… |
| `capgo_cleanup_bundles` | åˆ é™¤æ—§åŒ…,ä»…ä¿ç•™æœ€è¿‘ç‰ˆæœ¬ |
| `capgo_check_compatibility` | æ£€æŸ¥åŒ…ä¸æ¸ é“çš„å…¼å®¹æ€§ |

### ğŸ“¢ æ¸ é“ç®¡ç†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_list_channels` | åˆ—å‡ºåº”ç”¨çš„æ‰€æœ‰æ¸ é“ |
| `capgo_add_channel` | åˆ›å»ºæ–°çš„åˆ†å‘æ¸ é“ |
| `capgo_update_channel` | æ›´æ–°æ¸ é“è®¾ç½®å’Œå…³è”åŒ… |
| `capgo_delete_channel` | åˆ é™¤æ¸ é“ |
| `capgo_get_current_bundle` | è·å–æ¸ é“å½“å‰å…³è”çš„åŒ… |

### ğŸ¢ ç»„ç»‡ç®¡ç†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_list_organizations` | åˆ—å‡ºæ‚¨æœ‰è®¿é—®æƒé™çš„æ‰€æœ‰ç»„ç»‡ |
| `capgo_add_organization` | åˆ›å»ºæ–°çš„ç»„ç»‡ç”¨äºå›¢é˜Ÿåä½œ |

### ğŸ”§ è´¦å·ä¸è¯Šæ–­

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_get_account_id` | è·å–å½“å‰ API key å¯¹åº”çš„è´¦å· ID |
| `capgo_doctor` | è¿è¡Œ Capgo å®‰è£…è¯Šæ–­ |
| `capgo_get_stats` | è·å–è®¾å¤‡ç»Ÿè®¡ä¸æ—¥å¿—ä»¥ä¾¿æ’æŸ¥é—®é¢˜ |

### ğŸ—ï¸ æ„å»ºç®¡ç†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_request_build` | ä» Capgo Cloud è¯·æ±‚ iOS/Android åŸç”Ÿæ„å»º |

### ğŸ” åŠ å¯†

| å·¥å…· | æè¿° |
| ---- | ----------- |
| `capgo_generate_encryption_keys` | ç”Ÿæˆç”¨äºç«¯åˆ°ç«¯åŠ å¯†çš„ RSA å¯†é’¥å¯¹ |

## å·¥å…·å‚æ•°

### capgo_upload_bundle

ä¸Šä¼ æ–°çš„åº”ç”¨åŒ…åˆ° Capgo Cloud è¿›è¡Œåˆ†å‘ã€‚

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
| --------- | ---- | -------- | ----------- |
| `appId` | string | Yes | åå‘åŸŸåæ ¼å¼çš„ App ID(ä¾‹å¦‚ com.example.app) |
| `path` | string | Yes | è¦ä¸Šä¼ çš„æ„å»ºç›®å½•è·¯å¾„ |
| `bundle` | string | No | åŒ…ç‰ˆæœ¬å· |
| `channel` | string | No | è¦å…³è”çš„æ¸ é“ |
| `comment` | string | No | æ­¤ç‰ˆæœ¬çš„å¤‡æ³¨æˆ–å‘å¸ƒè¯´æ˜ |
| `minUpdateVersion` | string | No | æ›´æ–°åˆ°æ­¤ç‰ˆæœ¬æ‰€éœ€çš„æœ€ä½ç‰ˆæœ¬ |
| `autoMinUpdateVersion` | boolean | No | åŸºäºåŸç”ŸåŒ…è‡ªåŠ¨è®¾ç½®æœ€ä½æ›´æ–°ç‰ˆæœ¬ |
| `encrypt` | boolean | No | ä¸ºåŒ…å¯ç”¨åŠ å¯† |

### capgo_update_channel

æ›´æ–°æ¸ é“è®¾ç½®,åŒ…æ‹¬å…³è”åŒ…ä¸å®šå‘é€‰é¡¹ã€‚

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
| --------- | ---- | -------- | ----------- |
| `appId` | string | Yes | App ID |
| `channelId` | string | Yes | è¦æ›´æ–°çš„æ¸ é“åç§°/ID |
| `bundle` | string | No | è¦å…³è”åˆ°æ­¤æ¸ é“çš„åŒ…ç‰ˆæœ¬ |
| `state` | string | No | æ¸ é“çŠ¶æ€:"default" æˆ– "normal" |
| `downgrade` | boolean | No | å…è®¸é™çº§åˆ°ä½äºåŸç”Ÿç‰ˆæœ¬ |
| `ios` | boolean | No | ä¸º iOS è®¾å¤‡å¯ç”¨æ›´æ–° |
| `android` | boolean | No | ä¸º Android è®¾å¤‡å¯ç”¨æ›´æ–° |
| `selfAssign` | boolean | No | å…è®¸è®¾å¤‡è‡ªåˆ†é… |
| `disableAutoUpdate` | string | No | æŒ‰ç±»å‹é˜»æ­¢æ›´æ–°: majorã€minorã€metadataã€patch æˆ– none |
| `dev` | boolean | No | ä¸ºå¼€å‘æ„å»ºå¯ç”¨æ›´æ–° |
| `emulator` | boolean | No | ä¸ºæ¨¡æ‹Ÿå™¨å¯ç”¨æ›´æ–° |
| `device` | boolean | No | ä¸ºçœŸæœºå¯ç”¨æ›´æ–° |
| `prod` | boolean | No | ä¸ºç”Ÿäº§æ„å»ºå¯ç”¨æ›´æ–° |

### capgo_get_stats

ä» Capgo åç«¯è·å–è®¾å¤‡ç»Ÿè®¡å’Œæ—¥å¿—ç”¨äºæ’æŸ¥é—®é¢˜ã€‚

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
| --------- | ---- | -------- | ----------- |
| `appId` | string | Yes | éœ€è¦è·å–ç»Ÿè®¡çš„ App ID |
| `deviceIds` | string[] | No | æŒ‰æŒ‡å®šè®¾å¤‡ ID è¿‡æ»¤ |
| `limit` | number | No | è¿”å›ç»“æœçš„æœ€å¤§æ•°é‡ |
| `rangeStart` | string | No | è¿‡æ»¤èŒƒå›´çš„å¼€å§‹æ—¥æœŸ/æ—¶é—´(ISO å­—ç¬¦ä¸²) |
| `rangeEnd` | string | No | è¿‡æ»¤èŒƒå›´çš„ç»“æŸæ—¥æœŸ/æ—¶é—´(ISO å­—ç¬¦ä¸²) |

### capgo_cleanup_bundles

åˆ é™¤æ—§åŒ…,ä»…ä¿ç•™æœ€è¿‘ç‰ˆæœ¬ã€‚

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
| --------- | ---- | -------- | ----------- |
| `appId` | string | Yes | éœ€è¦æ¸…ç†åŒ…çš„ App ID |
| `keep` | number | No | ä¿ç•™ç‰ˆæœ¬æ•°é‡(é»˜è®¤: 4) |
| `bundle` | string | No | è¦æ¸…ç†çš„åŒ…ç‰ˆæœ¬æ¨¡å¼ |
| `force` | boolean | No | å¼ºåˆ¶åˆ é™¤ä¸éœ€ç¡®è®¤ |
| `ignoreChannel` | boolean | No | å³ä½¿åŒ…å·²å…³è”æ¸ é“ä¹Ÿåˆ é™¤ |

### capgo_request_build

ä» Capgo Cloud è¯·æ±‚ iOS/Android åŸç”Ÿæ„å»ºã€‚

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
| --------- | ---- | -------- | ----------- |
| `appId` | string | Yes | è¦æ„å»ºçš„ App ID |
| `platform` | string | Yes | ç›®æ ‡å¹³å°:"ios" æˆ– "android" |
| `path` | string | No | é¡¹ç›®ç›®å½•è·¯å¾„ |

<Aside>
é€šè¿‡ MCP è¯·æ±‚æ„å»ºå‰,è¯·å…ˆä½¿ç”¨ CLI é¢„å…ˆä¿å­˜æ„å»ºå‡­è¯ã€‚
</Aside>

## ç¤ºä¾‹å¯¹è¯

é…ç½®å®Œæˆå,æ‚¨å¯ä»¥è¿™æ ·è¯¢é—®æ‚¨çš„ AI åŠ©æ‰‹:

- "åˆ—å‡ºæˆ‘çš„æ‰€æœ‰ Capgo åº”ç”¨"
- "å°† ./dist ä¸­çš„æ„å»ºä¸Šä¼ åˆ° com.example.app çš„ production æ¸ é“"
- "ä¸ºæˆ‘çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„ staging æ¸ é“"
- "production æ¸ é“å½“å‰å…³è”çš„åŒ…æ˜¯ä»€ä¹ˆ?"
- "æ¸…ç†æ—§åŒ…,åªä¿ç•™æœ€è¿‘ 3 ä¸ªç‰ˆæœ¬"
- "æ˜¾ç¤ºè¿‡å» 24 å°æ—¶çš„è®¾å¤‡ç»Ÿè®¡"

AI å°†ä½¿ç”¨ç›¸åº”çš„ MCP å·¥å…·å®Œæˆè¿™äº›ä»»åŠ¡ã€‚

## æ•…éšœæ’é™¤

### è®¤è¯é—®é¢˜

å¦‚æœå‡ºç°è®¤è¯é”™è¯¯,è¯·ç¡®ä¿å·²ç™»å½•:

```bash
npx @capgo/cli login YOUR_API_KEY
```

### æœåŠ¡å™¨æ— æ³•å¯åŠ¨

ç¡®ä¿å·²å®‰è£… Node.js 18+ å¹¶å¯ä»¥è¿è¡Œ npx å‘½ä»¤ã€‚

### æ‰¾ä¸åˆ°å·¥å…·

ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ @capgo/cli:

```bash
npx @capgo/cli@latest mcp
```
