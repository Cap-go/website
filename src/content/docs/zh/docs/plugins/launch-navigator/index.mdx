---
title: "@capgo/capacitor-launch-navigator"
description: ç”¨äº Capacitor åº”ç”¨çš„å¯¼èˆªåº”ç”¨å¯åŠ¨æ’ä»¶ï¼Œæ”¯æŒ Google Mapsã€Apple Mapsã€Waze å’Œå…¶ä»–å¯¼èˆªæœåŠ¡ã€‚
locale: zh
tableOfContents: false
next: false
prev: false
sidebar:
  order: 1
  label: "ä»‹ç»"
hero:
  tagline: å¯åŠ¨å¯¼èˆªåº”ç”¨å¹¶æä¾›è½¬å¼¯æç¤ºï¼Œæ”¯æŒå¤šä¸ªåœ°å›¾æä¾›å•†å’Œè‡ªå®šä¹‰è·¯çº¿é€‰é¡¹ã€‚
  image:
    file: ~public/icons/plugins/launch-navigator.svg
  actions:
    - text: å¼€å§‹ä½¿ç”¨
      link: /docs/plugins/launch-navigator/getting-started/
      icon: right-arrow
      variant: primary
    - text: Github
      link: https://github.com/Cap-go/capacitor-launch-navigator/
      icon: external
      variant: minimal
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## æ¦‚è¿°

Capacitor Launch Navigator æ’ä»¶å¯åœ¨ iOS å’Œ Android è®¾å¤‡ä¸Šå¯åŠ¨åŸç”Ÿå¯¼èˆªåº”ç”¨ï¼Œæ”¯æŒåŸºäºåæ ‡çš„å¯¼èˆªã€‚æ­¤æ’ä»¶æä¾›ä¸æµè¡Œåœ°å›¾åº”ç”¨çš„æ— ç¼é›†æˆï¼Œå¹¶æ”¯æŒå¤šç§äº¤é€šæ–¹å¼ï¼Œæä¾›å…¨é¢çš„å¯¼èˆªè§£å†³æ–¹æ¡ˆã€‚

<CardGrid stagger>
  <Card title="å¤šåº”ç”¨æ”¯æŒ" icon="rocket">
    Google Mapsã€Apple Mapsã€Wazeã€Citymapper ç­‰ ğŸ—ºï¸
  </Card>
  <Card title="äº¤é€šæ–¹å¼" icon="magnifier">
    é©¾è½¦ã€æ­¥è¡Œã€å…¬äº¤å’Œéª‘è¡Œè·¯çº¿ ğŸ§­
  </Card>
  <Card title="åº”ç”¨æ£€æµ‹" icon="magnifier">
    æ£€æŸ¥å¯ç”¨æ€§å¹¶åˆ—å‡ºå·²å®‰è£…çš„å¯¼èˆªåº”ç”¨ ğŸ”
  </Card>
  <Card title="åŸºäºåæ ‡" icon="star">
    ä½¿ç”¨çº¬åº¦/ç»åº¦åæ ‡å¯¼èˆª ğŸ“
  </Card>
</CardGrid>

## å®‰è£…

```bash
npm install @capgo/capacitor-launch-navigator
npx cap sync
```

## iOS é…ç½®

å°† URL schemes æ·»åŠ åˆ°æ‚¨çš„ `Info.plist` ä»¥æ£€æµ‹å·²å®‰è£…çš„å¯¼èˆªåº”ç”¨ï¼š

```xml
<key>LSApplicationQueriesSchemes</key>
<array>
    <string>googlemaps</string>
    <string>waze</string>
    <string>citymapper</string>
    <!-- æ·»åŠ å…¶ä»–å¯¼èˆªåº”ç”¨çš„ schemes -->
</array>
```

## æ ¸å¿ƒ API æ–¹æ³•

### å¯¼èˆª
- `navigate(options)` - å¯åŠ¨åˆ°æŒ‡å®šåæ ‡çš„å¯¼èˆª
- `isAppAvailable(options)` - æ£€æŸ¥æ˜¯å¦å·²å®‰è£…ç‰¹å®šå¯¼èˆªåº”ç”¨
- `getAvailableApps()` - åˆ—å‡ºè®¾å¤‡ä¸Šæ‰€æœ‰å¯ç”¨çš„å¯¼èˆªåº”ç”¨
- `getSupportedApps()` - è·å–å½“å‰å¹³å°æ”¯æŒçš„æ‰€æœ‰åº”ç”¨

## ä½¿ç”¨ç¤ºä¾‹

```typescript
import { LaunchNavigator, TransportMode } from '@capgo/capacitor-launch-navigator';

// åŸºæœ¬å¯¼èˆªåˆ°åæ ‡
await LaunchNavigator.navigate({
  destination: [37.7749, -122.4194], // æ—§é‡‘å±±åæ ‡
});

// å¸¦é€‰é¡¹çš„é«˜çº§å¯¼èˆª
await LaunchNavigator.navigate({
  destination: [37.7749, -122.4194],
  options: {
    start: [37.7849, -122.4094], // å¯é€‰èµ·ç‚¹
    transportMode: TransportMode.DRIVING,
    app: 'google_maps', // é¦–é€‰å¯¼èˆªåº”ç”¨
    appDisplayName: 'Google Maps'
  }
});

// æ£€æŸ¥ç‰¹å®šåº”ç”¨æ˜¯å¦å¯ç”¨
const result = await LaunchNavigator.isAppAvailable({
  app: 'google_maps'
});

if (result.available) {
  console.log('Google Maps is installed');
} else {
  console.log('Google Maps is not available');
}

// è·å–æ‰€æœ‰å¯ç”¨çš„å¯¼èˆªåº”ç”¨
const availableApps = await LaunchNavigator.getAvailableApps();
console.log('Available navigation apps:', availableApps);

// è·å–å¹³å°æ”¯æŒçš„æ‰€æœ‰åº”ç”¨
const supportedApps = await LaunchNavigator.getSupportedApps();
console.log('Supported apps:', supportedApps);
```

## å¯¼èˆªé€‰é¡¹

```typescript
interface NavigationOptions {
  start?: [number, number];      // èµ·å§‹åæ ‡ [çº¬åº¦, ç»åº¦]
  transportMode?: TransportMode; // äº¤é€šæ–¹å¼
  app?: string;                  // é¦–é€‰å¯¼èˆªåº”ç”¨
  appDisplayName?: string;       // åº”ç”¨çš„æ˜¾ç¤ºåç§°
  launchMode?: LaunchMode;       // å¦‚ä½•å¯åŠ¨åº”ç”¨
}
```

## äº¤é€šæ–¹å¼

```typescript
enum TransportMode {
  DRIVING = 'driving',
  WALKING = 'walking',
  TRANSIT = 'transit',
  CYCLING = 'cycling'
}
```

## æ”¯æŒçš„å¯¼èˆªåº”ç”¨

### iOS
- Apple Mapsï¼ˆå†…ç½®ï¼‰
- Google Maps
- Waze
- Citymapper
- Transit
- Moovit
- Uber
- Lyft
- ä»¥åŠæ›´å¤š...

### Android
- Google Mapsï¼ˆå†…ç½®ï¼‰
- Waze
- Citymapper
- HERE WeGo
- Sygic
- MapQuest
- Moovit
- ä»¥åŠæ›´å¤š...

## åæ ‡è¦æ±‚

> âš ï¸ **é‡è¦**ï¼šæ­¤æ’ä»¶ä»…æ¥å—çº¬åº¦/ç»åº¦åæ ‡è¿›è¡Œå¯¼èˆªã€‚ä½¿ç”¨ [@capgo/capacitor-nativegeocoder](https://github.com/Cap-go/capacitor-nativegeocoder) å°†åœ°å€è½¬æ¢ä¸ºåæ ‡ã€‚

```typescript
// ä½¿ç”¨åœ°ç†ç¼–ç çš„ç¤ºä¾‹
import { NativeGeocoder } from '@capgo/capacitor-nativegeocoder';

// å°†åœ°å€è½¬æ¢ä¸ºåæ ‡
const geocodeResult = await NativeGeocoder.forwardGeocode({
  address: '1600 Amphitheatre Parkway, Mountain View, CA'
});

if (geocodeResult.results.length > 0) {
  const coords = geocodeResult.results[0];

  // ä½¿ç”¨åœ°ç†ç¼–ç åæ ‡å¯åŠ¨å¯¼èˆª
  await LaunchNavigator.navigate({
    destination: [coords.latitude, coords.longitude]
  });
}
```

## åº”ç”¨æ£€æµ‹å’Œé€‰æ‹©

```typescript
// æ£€æŸ¥å¤šä¸ªåº”ç”¨å¹¶ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨çš„
const appsToCheck = ['google_maps', 'waze', 'apple_maps'];
let selectedApp = null;

for (const app of appsToCheck) {
  const result = await LaunchNavigator.isAppAvailable({ app });
  if (result.available) {
    selectedApp = app;
    break;
  }
}

if (selectedApp) {
  await LaunchNavigator.navigate({
    destination: [37.7749, -122.4194],
    options: { app: selectedApp }
  });
} else {
  console.log('No supported navigation apps found');
}
```

## é”™è¯¯å¤„ç†

```typescript
try {
  await LaunchNavigator.navigate({
    destination: [37.7749, -122.4194],
    options: {
      app: 'google_maps',
      transportMode: TransportMode.DRIVING
    }
  });
} catch (error) {
  console.error('Navigation failed:', error);
  // å¤„ç†é”™è¯¯ - åº”ç”¨ä¸å¯ç”¨ã€æ— æ•ˆåæ ‡ç­‰
}
```

## ç”¨ä¾‹

- **åŸºäºä½ç½®çš„æœåŠ¡**ï¼šå°†ç”¨æˆ·å¯¼èˆªåˆ°å…´è¶£ç‚¹
- **é…é€åº”ç”¨**ï¼šå¼•å¯¼å¸æœºåˆ°è¾¾é…é€ä½ç½®
- **æ´»åŠ¨åº”ç”¨**ï¼šå¼•å¯¼å‚ä¸è€…åˆ°è¾¾åœºé¦†ä½ç½®
- **æˆ¿åœ°äº§åº”ç”¨**ï¼šå¯¼èˆªåˆ°ç‰©ä¸šä½ç½®
- **æ—…æ¸¸åº”ç”¨**ï¼šå¼•å¯¼æ¸¸å®¢åˆ°è¾¾æ™¯ç‚¹

## æœ€ä½³å®è·µ

- åœ¨å°è¯•å¯¼èˆªä¹‹å‰å§‹ç»ˆæ£€æŸ¥åº”ç”¨å¯ç”¨æ€§
- åœ¨é¦–é€‰åº”ç”¨ä¸å¯ç”¨æ—¶æä¾›å¤‡ç”¨é€‰é¡¹
- ä¸ºç”¨æˆ·é€‰æ‹©ä½¿ç”¨æœ‰æ„ä¹‰çš„åº”ç”¨æ˜¾ç¤ºåç§°
- é€šè¿‡ç”¨æˆ·å‹å¥½çš„æ¶ˆæ¯ä¼˜é›…åœ°å¤„ç†é”™è¯¯
- è€ƒè™‘ç”¨æˆ·å¯¹é»˜è®¤å¯¼èˆªåº”ç”¨çš„åå¥½

## æ–‡æ¡£

æŸ¥çœ‹[å®Œæ•´æ–‡æ¡£](/docs/plugins/launch-navigator/getting-started/)äº†è§£è¯¦ç»†çš„å®ç°æŒ‡å—å’Œé«˜çº§å¯¼èˆªæ¨¡å¼ã€‚