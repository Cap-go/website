---
title: "Anggota"
description: "Panduan komprehensif untuk mengelola anggota organisasi di Capgo, mencakup peran, izin, dan praktik terbaik untuk keamanan dan kolaborasi."
sidebar:
  order: 4
---

Anggota organisasi adalah pengguna yang memiliki akses ke organisasi Capgo Anda. Setiap anggota memiliki peran spesifik yang menentukan izin mereka dalam organisasi. Mengelola anggota secara efektif sangat penting untuk menjaga keamanan dan kolaborasi dalam tim Anda.

## Peran Anggota

### Peran Reguler
- **read**: Dapat melihat sumber daya tetapi tidak dapat membuat perubahan
- **upload**: Dapat mengunggah bundle baru dan melihat sumber daya
- **write**: Dapat memodifikasi sumber daya dan mengunggah bundle
- **admin**: Dapat mengelola pengaturan organisasi dan anggota
- **super_admin**: Memiliki kontrol penuh atas organisasi

### Peran Undangan
- **invite_read**: Undangan tertunda untuk akses baca
- **invite_upload**: Undangan tertunda untuk akses unggah
- **invite_write**: Undangan tertunda untuk akses tulis
- **invite_admin**: Undangan tertunda untuk akses admin
- **invite_super_admin**: Undangan tertunda untuk akses super admin

## Praktik Terbaik

1. **Penugasan Peran**: Ikuti prinsip hak istimewa paling rendah saat menugaskan peran
2. **Audit Reguler**: Tinjau secara berkala akses anggota dan hapus akun yang tidak digunakan
3. **Orientasi**: Miliki proses yang jelas untuk menambahkan anggota baru dan menugaskan peran
4. **Pemberhentian**: Segera hapus akses untuk anggota yang meninggalkan organisasi

## Endpoint

### POST

`https://api.capgo.app/organization/members/`

Tambahkan anggota baru ke organisasi atau perbarui peran anggota yang ada. Perhatikan bahwa Anda hanya dapat mengundang pengguna yang sudah memiliki akun Capgo - email harus sesuai dengan pengguna Capgo yang ada.

#### Request Body

```typescript
interface MemberCreate {
  orgId: string
  email: string
  role: "read" | "upload" | "write" | "admin" | "super_admin"
}
```

#### Contoh Permintaan

```bash
curl -X POST \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "newmember@example.com",
    "role": "write"
  }' \
  https://api.capgo.app/organization/members/
```

#### Respons Sukses

```json
{
  "status": "OK",
  "data": {
    "uid": "user_789",
    "email": "newmember@example.com",
    "role": "invite_write",
    "image_url": null
  }
}
```

Catatan: 
- Saat menambahkan anggota baru, mereka akan menerima email undangan. Peran mereka akan diawali dengan "invite_" sampai mereka menerima undangan.
- Pengguna harus sudah memiliki akun Capgo sebelum dapat diundang. Jika mereka tidak memiliki akun, mereka harus membuat satu terlebih dahulu di https://console.capgo.app/register/

### GET 

`https://api.capgo.app/organization/members/`

Ambil semua anggota dari sebuah organisasi.

#### Parameter Query

```typescript
interface MemberQuery {
  orgId: string
}
```

#### Tipe Respons

```typescript
interface Member {
  uid: string;
  email: string;
  image_url: string;
  role: "invite_read" | "invite_upload" | "invite_write" | "invite_admin" | "invite_super_admin" | "read" | "upload" | "write" | "admin" | "super_admin";
}
```

#### Contoh Permintaan

```bash
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/organization/members/?orgId=org_123"
```

#### Contoh Respons

```json
{
  "data": [
    {
      "uid": "user_123",
      "email": "john@example.com",
      "image_url": "https://example.com/avatar.png",
      "role": "admin"
    },
    {
      "uid": "user_456",
      "email": "jane@example.com",
      "image_url": "https://example.com/avatar2.png",
      "role": "write"
    },
    {
      "uid": "user_789",
      "email": "bob@example.com",
      "image_url": null,
      "role": "invite_read"
    }
  ]
}
```

### DELETE

`https://api.capgo.app/organization/members/`

Hapus anggota dari organisasi. Ini akan segera mencabut akses mereka.

#### Request Body

```typescript
interface MemberDelete {
  orgId: string
  email: string
}
```

#### Contoh Permintaan

```bash
curl -X DELETE \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "user@example.com"
  }' \
  https://api.capgo.app/organization/members/
```

#### Respons Sukses

```json
{
  "status": "OK"
}
```

## Penanganan Kesalahan

Skenario kesalahan umum dan responsnya:

```json
// Anggota tidak ditemukan
{
  "error": "Member not found",
  "status": "KO"
}

// Peran tidak valid
{
  "error": "Invalid role specified",
  "status": "KO"
}

// Izin ditolak
{
  "error": "Insufficient permissions to manage members",
  "status": "KO"
}

// Tidak dapat menghapus admin terakhir
{
  "error": "Cannot remove the last admin from the organization",
  "status": "KO"
}

// Email tidak valid
{
  "error": "Invalid email format",
  "status": "KO"
}

// Anggota sudah ada
{
  "error": "Member already exists in organization",
  "status": "KO"
}
```

## Kasus Penggunaan Umum

1. **Ekspansi Tim**: Menambahkan anggota tim baru dengan peran yang sesuai
2. **Kontrol Akses**: Mengelola izin anggota saat tanggung jawab berubah
3. **Audit Keamanan**: Meninjau daftar anggota dan peran secara berkala
4. **Restrukturisasi Tim**: Memperbarui peran selama perubahan organisasi
