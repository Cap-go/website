---
title: Mengelola Kredensial
description: Simpan dan kelola kredensial build secara lokal untuk build iOS dan Android
locale: id
sidebar:
  order: 5
---

import { Steps, Aside } from '@astrojs/starlight/components';

Kelola kredensial build iOS dan Android Anda secara lokal untuk cloud build yang nyaman.

## Gambaran Umum

Capgo CLI memungkinkan Anda menyimpan kredensial build secara lokal di mesin Anda dalam folder `.capgo-credentials`. Saat Anda menjalankan build, kredensial ini otomatis digunakan dan dikirim dengan aman ke server build Capgo.

<Aside type="tip" title="Butuh Bantuan Mendapatkan Kredensial?">
Jika Anda belum memiliki sertifikat dan kredensial, periksa panduan komprehensif ini:

**iOS:**
- [Cara Mendapatkan Sertifikat iOS](/docs/cli/cloud-build/ios/#how-to-get-ios-certificates-and-provisioning-profiles) - Panduan langkah demi langkah
- [Panduan Sertifikat iOS (Capgo)](https://capgo.app/cloud/native-builds/certificates/ios/) - Tutorial detail dengan screenshot
- [Blog: Build iOS Otomatis](https://capgo.app/blog/automatic-capacitor-ios-build-github-action/) - Setup CI/CD lengkap

**Android:**
- [Membuat Keystore](/docs/cli/cloud-build/android/#creating-a-keystore) - Panduan langkah demi langkah
- [Panduan Sertifikat Android (Capgo)](https://capgo.app/cloud/native-builds/certificates/android/) - Tutorial detail dengan screenshot
- [Blog: Build Android Otomatis](https://capgo.app/blog/automatic-capacitor-android-build-github-action/) - Setup CI/CD lengkap
</Aside>

<Aside type="caution" title="Jaminan Keamanan">
**Kredensial Anda TIDAK PERNAH disimpan secara permanen di server Capgo:**
- âœ… Digunakan HANYA selama proses build aktif
- âœ… Otomatis dihapus setelah build selesai
- âœ… Retensi maksimal: 24 jam (bahkan jika build gagal)
- âœ… Aplikasi dikirim langsung ke App Store/Play Store - kami TIDAK menyimpan apa pun
- âœ… Ditransmisikan dengan aman melalui HTTPS
</Aside>

## Commands

### Simpan Kredensial

Simpan kredensial build Anda secara lokal untuk penggunaan otomatis:

```bash
npx @capgo/cli build credentials save --platform <ios|android> [options]
```

### Daftar Kredensial

Lihat kredensial yang tersimpan saat ini (password di-mask):

```bash
npx @capgo/cli build credentials list
```

### Hapus Kredensial

Hapus kredensial yang tersimpan dari mesin lokal Anda:

```bash
# Hapus semua kredensial
npx @capgo/cli build credentials clear

# Hapus hanya kredensial iOS
npx @capgo/cli build credentials clear --platform ios

# Hapus hanya kredensial Android
npx @capgo/cli build credentials clear --platform android
```

## Menyimpan Kredensial iOS

<Aside type="note">
**Belum punya sertifikat iOS?** Lihat [panduan build iOS](/docs/cli/cloud-build/ios/#how-to-get-ios-certificates-and-provisioning-profiles) untuk instruksi membuat sertifikat dan provisioning profile.
</Aside>

### Contoh Lengkap

```bash
npx @capgo/cli build credentials save \
  --platform ios \
  --certificate ./cert.p12 \
  --p12-password "YourP12Password" \
  --provisioning-profile ./profile.mobileprovision \
  --apple-key ./AuthKey_ABC1234567.p8 \
  --apple-key-id "ABC1234567" \
  --apple-issuer-id "00000000-0000-0000-0000-000000000000" \
  --apple-team-id "TEAM123456"
```

### Opsi iOS

| Opsi | Deskripsi | Wajib |
|--------|-------------|----------|
| `--certificate <path>` | Path ke file sertifikat .p12 | Ya (release) |
| `--p12-password <password>` | Password untuk sertifikat .p12 | Ya (release) |
| `--provisioning-profile <path>` | Path ke file .mobileprovision | Ya (release) |
| `--provisioning-profile-prod <path>` | Production provisioning profile (opsional) | Tidak |
| `--apple-key <path>` | Path ke API .p8 key App Store Connect | Ya (submission) |
| `--apple-key-id <id>` | App Store Connect API Key ID | Ya (submission) |
| `--apple-issuer-id <id>` | App Store Connect API Issuer ID (UUID) | Ya (submission) |
| `--apple-team-id <id>` | App Store Connect Team ID | Ya (submission) |
| `--apple-id <email>` | Email Apple ID (auth alternatif) | Tidak |
| `--apple-app-password <password>` | App-specific password (auth alternatif) | Tidak |

### Apa yang Disimpan

Saat Anda menyimpan kredensial iOS, CLI:
1. Membaca file sertifikat dan provisioning profile
2. Mengkonversi ke encoding base64
3. Menyimpan kredensial ke folder `.capgo-credentials`
4. Menyimpan password dan ID sebagai plain text (file lokal saja)

Struktur file yang disimpan:
```json
{
  "ios": {
    "BUILD_CERTIFICATE_BASE64": "...",
    "BUILD_PROVISION_PROFILE_BASE64": "...",
    "APPLE_KEY_CONTENT": "...",
    "P12_PASSWORD": "...",
    "APPLE_KEY_ID": "ABC1234567",
    "APPLE_ISSUER_ID": "...",
    "APP_STORE_CONNECT_TEAM_ID": "TEAM123456"
  }
}
```

## Menyimpan Kredensial Android

<Aside type="note">
**Belum punya keystore?** Lihat [panduan build Android](/docs/cli/cloud-build/android/#creating-a-keystore) untuk instruksi membuat keystore dan setup kredensial Play Store.
</Aside>

### Contoh Lengkap

```bash
npx @capgo/cli build credentials save \
  --platform android \
  --keystore ./release.keystore \
  --keystore-alias "my-key-alias" \
  --keystore-key-password "KeyPassword123" \
  --keystore-store-password "StorePassword123" \
  --play-config ./play-store-service-account.json
```

### Opsi Android

| Opsi | Deskripsi | Wajib |
|--------|-------------|----------|
| `--keystore <path>` | Path ke file .keystore atau .jks | Ya (release) |
| `--keystore-alias <alias>` | Key alias di keystore | Ya (release) |
| `--keystore-key-password <password>` | Password untuk key alias | Ya (release) |
| `--keystore-store-password <password>` | Password untuk keystore | Ya (release) |
| `--play-config <path>` | Path ke JSON service account Play Store | Ya (submission) |

### Apa yang Disimpan

Saat Anda menyimpan kredensial Android, CLI:
1. Membaca file keystore dan service account JSON
2. Mengkonversi ke encoding base64
3. Menyimpan kredensial ke folder `.capgo-credentials`
4. Menyimpan password dan alias sebagai plain text (file lokal saja)

Struktur file yang disimpan:
```json
{
  "android": {
    "ANDROID_KEYSTORE_FILE": "...",
    "PLAY_CONFIG_JSON": "...",
    "KEYSTORE_KEY_ALIAS": "my-key-alias",
    "KEYSTORE_KEY_PASSWORD": "...",
    "KEYSTORE_STORE_PASSWORD": "..."
  }
}
}
```

## Menggunakan Kredensial yang Tersimpan

Setelah Anda menyimpan kredensial, mereka otomatis digunakan saat Anda build:

```bash
# Kredensial otomatis dimuat dari folder .capgo-credentials
npx @capgo/cli build com.example.app --platform ios
```

Anda juga dapat override kredensial yang tersimpan menggunakan environment variables:

```bash
# Environment variables memiliki prioritas lebih tinggi dari kredensial yang tersimpan
BUILD_CERTIFICATE_BASE64="..." \
P12_PASSWORD="different-password" \
npx @capgo/cli build com.example.app --platform ios
```

**Urutan prioritas:**
1. Environment variables (prioritas tertinggi)
2. Kredensial yang tersimpan di folder `.capgo-credentials`
3. Tidak ada kredensial (prioritas terendah)

## Melihat Kredensial yang Tersimpan

Daftar kredensial apa yang telah Anda simpan:

```bash
npx @capgo/cli build credentials list
```

Contoh output:
```
ðŸ“‹ Saved Build Credentials:

iOS Credentials:
  âœ“ Certificate (base64)
  âœ“ Provisioning Profile (base64)
  âœ“ Apple Key Content (base64)
  âœ“ P12 Password: ********
  âœ“ Apple Key ID: ABC1234567
  âœ“ Apple Issuer ID: 00000000-0000-0000-0000-000000000000
  âœ“ Team ID: TEAM123456

Android Credentials:
  âœ“ Keystore (base64)
  âœ“ Play Store Config (base64)
  âœ“ Keystore Alias: my-key-alias
  âœ“ Key Password: ********
  âœ“ Store Password: ********

Location: .capgo-credentials/

ðŸ”’ These credentials are stored locally on your machine only.
   When building, they are sent to Capgo but NEVER stored there.
   They are auto-deleted after build completion (max 24 hours).
```

## Best Practices Keamanan

### Keamanan Penyimpanan Lokal

1. **Permission File**
   ```bash
   # Pastikan folder credentials tidak dapat dibaca oleh orang lain
   chmod 700 .capgo-credentials
   chmod 600 .capgo-credentials/*
   ```

2. **Jangan Commit Kredensial**
   ```bash
   # Tambahkan ke .gitignore
   echo ".capgo-credentials/" >> .gitignore
   ```

3. **Pisahkan Kredensial**
   - Gunakan kredensial berbeda untuk development lokal vs CI/CD
   - Rotasi kredensial secara teratur
   - Jangan bagikan kredensial antar anggota tim

### Penggunaan CI/CD

Untuk lingkungan CI/CD, **lebih baik gunakan environment variables** daripada kredensial yang tersimpan:

```yaml
# GitHub Actions
env:
  BUILD_CERTIFICATE_BASE64: ${{ secrets.IOS_CERTIFICATE }}
  P12_PASSWORD: ${{ secrets.P12_PASSWORD }}
  # ... secrets lainnya
```

Ini lebih aman karena:
- Secrets dikelola oleh platform CI/CD Anda
- Tidak ada file kredensial di runners
- Rotasi mudah dan kontrol akses
- Audit trails untuk penggunaan secret

### Rotasi Kredensial

Rotasi kredensial Anda secara teratur:

1. **iOS**: Generate sertifikat dan API key baru setiap tahun
2. **Android**: Ubah password keystore setiap tahun
3. **Setelah perubahan tim**: Rotasi saat anggota tim keluar

Update kredensial yang tersimpan:
```bash
# Jalankan ulang command save dengan kredensial baru
npx @capgo/cli build credentials save --platform ios --certificate ./new-cert.p12 ...
```

## Troubleshooting

### "No credentials found"

Jika build mengatakan tidak ada kredensial yang ditemukan:

1. **Periksa apakah kredensial tersimpan**:
   ```bash
   npx @capgo/cli build credentials list
   ```

2. **Simpan kredensial jika hilang**:
   ```bash
   npx @capgo/cli build credentials save --platform ios ...
   ```

3. **Verifikasi folder credentials ada**:
   ```bash
   ls -la .capgo-credentials/
   ```

### "Permission denied" saat membaca kredensial

Perbaiki permission file:

```bash
chmod 700 .capgo-credentials
chmod 600 .capgo-credentials/*
```

### Kredensial tidak digunakan

Periksa bahwa platform yang benar sudah dispesifikasikan:

```bash
# Pastikan --platform cocok dengan kredensial yang tersimpan
npx @capgo/cli build com.example.app --platform ios  # Menggunakan kredensial ios
npx @capgo/cli build com.example.app --platform android  # Menggunakan kredensial android
```

### Hapus dan simpan ulang kredensial

Jika kredensial tampak rusak:

```bash
# Hapus semua kredensial
npx @capgo/cli build credentials clear

# Simpan lagi
npx @capgo/cli build credentials save --platform ios ...
```

## Migrasi dari Environment Variables

Jika Anda saat ini menggunakan environment variables, Anda dapat migrasi ke kredensial yang tersimpan:

<Steps>

1. **Ekstrak environment variables Anda saat ini**
   ```bash
   echo $BUILD_CERTIFICATE_BASE64  # Verifikasi mereka ada
   ```

2. **Decode file base64 kembali ke file asli** (jika diperlukan)
   ```bash
   echo "$BUILD_CERTIFICATE_BASE64" | base64 -d > cert.p12
   echo "$BUILD_PROVISION_PROFILE_BASE64" | base64 -d > profile.mobileprovision
   ```

3. **Simpan menggunakan CLI**
   ```bash
   npx @capgo/cli build credentials save \
     --platform ios \
     --certificate ./cert.p12 \
     --provisioning-profile ./profile.mobileprovision \
     --p12-password "$P12_PASSWORD" \
     --apple-key-id "$APPLE_KEY_ID" \
     --apple-issuer-id "$APPLE_ISSUER_ID" \
     --apple-team-id "$APP_STORE_CONNECT_TEAM_ID"
   ```

4. **Test build**
   ```bash
   npx @capgo/cli build com.example.app --platform ios
   ```

5. **Hapus environment variables** (opsional)
   ```bash
   unset BUILD_CERTIFICATE_BASE64 BUILD_PROVISION_PROFILE_BASE64
   ```

</Steps>

## Lokasi File

Kredensial disimpan di folder `.capgo-credentials`:
- **macOS/Linux**: `.capgo-credentials/` (di root proyek atau home directory Anda)
- **Windows**: `.capgo-credentials\` (di root proyek atau home directory Anda)

Folder otomatis dibuat saat Anda menyimpan kredensial untuk pertama kalinya.

## Langkah Selanjutnya

- [Getting Started](/docs/cli/cloud-build/getting-started/) - Buat build pertama Anda
- [Build iOS](/docs/cli/cloud-build/ios/) - Konfigurasi build spesifik iOS
- [Build Android](/docs/cli/cloud-build/android/) - Konfigurasi build spesifik Android
- [Troubleshooting](/docs/cli/cloud-build/troubleshooting/) - Masalah umum dan solusi

## Butuh Bantuan?

- ðŸ“š [Panduan troubleshooting](/docs/cli/cloud-build/troubleshooting/)
- ðŸ’¬ [Komunitas Discord](https://discord.com/invite/VnYRvBfgA6)
- ðŸ“§ Email: support@capgo.app
