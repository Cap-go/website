---
title: "Memulai dengan Barometer"
description: "Pelajari cara mengintegrasikan penginderaan tekanan barometrik ke dalam aplikasi Capacitor Anda"
sidebar:
  order: 2
locale: id
---

Panduan ini akan memandu Anda mengintegrasikan plugin Capacitor Barometer ke dalam aplikasi Anda.

## Instalasi

Instal plugin menggunakan npm:

```bash
npm install @capgo/capacitor-barometer
npx cap sync
```

## Konfigurasi iOS

Tambahkan berikut ke `Info.plist` Anda:

```xml
<key>NSMotionUsageDescription</key>
<string>This app uses the barometer to measure atmospheric pressure</string>
```

## Konfigurasi Android

Tidak diperlukan konfigurasi tambahan. Plugin secara otomatis meminta izin yang diperlukan.

## Penggunaan Dasar

### Impor Plugin

```typescript
import { Barometer } from '@capgo/capacitor-barometer';
```

### Periksa Ketersediaan Sensor

```typescript
const checkBarometer = async () => {
  const { available } = await Barometer.isAvailable();
  console.log('Barometer available:', available);
};
```

### Mulai Memantau Tekanan

```typescript
const startMonitoring = async () => {
  await Barometer.start({
    interval: 1000 // Update interval in milliseconds
  });

  console.log('Barometer monitoring started');
};
```

### Dengarkan Event Tekanan

```typescript
Barometer.addListener('pressureChange', (data) => {
  console.log('Pressure (hPa):', data.pressure);
  console.log('Relative altitude (m):', data.relativeAltitude);
  console.log('Timestamp:', data.timestamp);
});
```

### Dapatkan Pembacaan Saat Ini

```typescript
const getCurrentPressure = async () => {
  const reading = await Barometer.getCurrentReading();
  console.log('Current pressure:', reading.pressure, 'hPa');
  console.log('Relative altitude:', reading.relativeAltitude, 'm');
};
```

### Hentikan Pemantauan

```typescript
const stopMonitoring = async () => {
  await Barometer.stop();
  console.log('Barometer monitoring stopped');
};
```

## Contoh Lengkap

Berikut adalah contoh lengkap yang menunjukkan integrasi barometer:

```typescript
import { Barometer } from '@capgo/capacitor-barometer';

class BarometerService {
  private listener: any;

  async initialize() {
    // Check availability
    const { available } = await Barometer.isAvailable();
    if (!available) {
      console.error('Barometer not available on this device');
      return;
    }

    // Start monitoring
    await Barometer.start({ interval: 1000 });

    // Add listener
    this.listener = Barometer.addListener('pressureChange', (data) => {
      this.handlePressureChange(data);
    });
  }

  handlePressureChange(data: any) {
    console.log('Pressure:', data.pressure, 'hPa');
    console.log('Altitude:', data.relativeAltitude, 'm');

    // Update UI or process data
    this.updateDisplay(data);
  }

  updateDisplay(data: any) {
    // Convert hPa to other units
    const inHg = (data.pressure * 0.02953).toFixed(2);
    const mmHg = (data.pressure * 0.750062).toFixed(1);

    console.log(`Pressure: ${data.pressure.toFixed(1)} hPa`);
    console.log(`         ${inHg} inHg`);
    console.log(`         ${mmHg} mmHg`);
    console.log(`Altitude: ${data.relativeAltitude.toFixed(1)} m`);
  }

  async cleanup() {
    // Remove listener
    if (this.listener) {
      this.listener.remove();
    }

    // Stop monitoring
    await Barometer.stop();
  }
}

// Usage
const barometerService = new BarometerService();
barometerService.initialize();

// Cleanup when done
// barometerService.cleanup();
```

## Memahami Pembacaan

### Tekanan Atmosfer
- Diukur dalam hektopascal (hPa) atau milibar (mb)
- Tekanan permukaan laut standar: 1013.25 hPa
- Ketinggian lebih tinggi = tekanan lebih rendah
- Sistem cuaca mempengaruhi pembacaan tekanan

### Ketinggian Relatif
- Dihitung dari perubahan tekanan
- Relatif terhadap titik referensi awal
- Akurasi: Â±10-30 meter
- Bekerja paling baik untuk pelacakan jangka pendek

## Praktik Terbaik

1. **Periksa Ketersediaan**: Selalu verifikasi ketersediaan sensor sebelum digunakan
2. **Interval yang Wajar**: Jangan polling terlalu sering (1000ms sudah bagus)
3. **Hapus Listener**: Bersihkan listener saat tidak diperlukan
4. **Kalibrasi**: Gunakan ketinggian yang diketahui untuk pembacaan yang akurat
5. **Dampak Baterai**: Pantau penggunaan baterai dengan penginderaan berkelanjutan

## Masalah Umum

### Sensor Tidak Tersedia
```typescript
try {
  const { available } = await Barometer.isAvailable();
  if (!available) {
    // Fallback to GPS altitude or manual input
    showAlternativeMethod();
  }
} catch (error) {
  console.error('Barometer check failed:', error);
}
```

### Data Berisik
```typescript
class PressureFilter {
  private readings: number[] = [];
  private maxReadings = 5;

  addReading(pressure: number): number {
    this.readings.push(pressure);
    if (this.readings.length > this.maxReadings) {
      this.readings.shift();
    }

    // Return moving average
    const sum = this.readings.reduce((a, b) => a + b, 0);
    return sum / this.readings.length;
  }
}
```

## Langkah Selanjutnya

- Jelajahi [Referensi API](https://github.com/Cap-go/capacitor-barometer#api) untuk dokumentasi metode lengkap
- Lihat [aplikasi contoh](https://github.com/Cap-go/capacitor-barometer/tree/main/example) untuk penggunaan lanjutan
- Lihat [tutorial](/plugins-tutorials/capacitor-barometer) untuk contoh implementasi lengkap
