---
title: Firebase Google Login di iOS
locale: id
description: Pelajari cara mengatur Google Sign-In dengan Firebase Authentication di iOS menggunakan plugin Capacitor Social Login.
sidebar:
    order: 3
---
import { Steps } from '@astrojs/starlight/components';

## Pengantar

Panduan ini akan membantu Anda mengintegrasikan Google Sign-In dengan Firebase Authentication di iOS. Saya berasumsi Anda telah menyelesaikan [pengaturan Firebase Google umum](./general/).

:::note
Saya akan berasumsi bahwa Anda belum membuat aplikasi iOS di Firebase Console. Jika sudah, langkah-langkah Anda akan sedikit berbeda.
:::

## Langkah Pengaturan

<Steps>
1. Buka project overview Anda di [console.cloud.google.com](https://console.cloud.google.com/)
    <img src="/social-login-assets/firebase_project_overview.webp" alt="Firebase Project Overview" />

2. Klik tombol `Add app`
    <img src="/social-login-assets/firebase_project_add_app.webp" alt="Firebase Add App Button" />

    :::note
    Ada kemungkinan Anda harus mencari tombol ini di sini. Ini hanya berlaku jika Anda telah membuat aplikasi berbeda di Firebase Console.
    :::

    <img src="/social-login-assets/firebase_project_add_app_2.webp" alt="Firebase Add App Button" />
3. Pilih `iOS`
    <img src="/social-login-assets/firebase_project_add_app_ios.webp" alt="Firebase Add App iOS Button" />

4. Isi bagian pertama formulir
   1. Isi `Apple bundle ID`
      1. Buka Xcode di aplikasi Anda menggunakan `npx cap open ios`
      2. Klik dua kali pada `App`
         <img src="/social-login-assets/xcode_app_click.png" alt="App target in Xcode project navigator" />
      3. Pastikan Anda berada di `Targets -> App`
         <img src="/social-login-assets/xcode_targets_app.png" alt="Targets section in Xcode with App selected" />
      4. Temukan `Bundle Identifier` Anda
          <img src="/social-login-assets/xcode_bundle_id.png" alt="Bundle Identifier field in Xcode project settings" />
          :::note
          ID yang ditampilkan di sini akan berbeda dari yang akan saya gunakan untuk sisa panduan. Saya akan menggunakan `app.capgo.plugin.SocialLogin` untuk sisa panduan.
          :::
      5. Salin `Bundle Identifier` dan tempelkan di Firebase console
         <img src="/social-login-assets/firebase_project_add_app_ios_bundle_id.webp" alt="Firebase Add App iOS Bundle ID Field" />
   2. Klik tombol `Register app`
         <img src="/social-login-assets/firebase_project_add_app_ios_register.webp" alt="Firebase Add App iOS Register Button" />
5. Lewati langkah `Download config file`
    <img src="/social-login-assets/firebase_project_add_app_ios_skip_download.webp" alt="Firebase Add App iOS Skip Download Button" />
6. Lewati langkah `Add firebase SDK`
    <img src="/social-login-assets/firebase_project_add_app_ios_skip_download_firebase_sdk_2.webp" alt="Firebase Add App iOS Skip Download Firebase SDK Button" />
7. Lewati langkah `Add initialization code`
    <img src="/social-login-assets/firebase_project_add_app_ios_skip_download_firebase_sdk.webp" alt="Firebase Add App iOS Skip Add Initialization Code Button" />
8. Klik tombol `Continue to console`
    <img src="/social-login-assets/firebase_project_add_app_ios_continue_to_console.webp" alt="Firebase Add App iOS Continue to Console Button" />
9. Dapatkan iOS client ID dan `YOUR_DOT_REVERSED_IOS_CLIENT_ID` Anda
   1. Buka Google Cloud Console di [console.cloud.google.com](https://console.cloud.google.com/)
   2. Temukan proyek Anda
      1. Klik pada pemilih proyek
         <img src="/social-login-assets/firebase_double_check_gc_project_select.webp" alt="Google Cloud Console Project Selector" />
      2. Cari proyek Anda dengan nama persis dari proyek Firebase Anda dan klik di atasnya. Dalam kasus saya, ini adalah `sociallogin-tutorial-app`.
         <img src="/social-login-assets/firebase_gc_project_select_project.webp" alt="Firebase Project Selector Project" />
   3. Buka search bar dan buka `credentials`
      1. Buka search bar
         <img src="/social-login-assets/firebase_double_check_gc_search_bar.webp" alt="Google Cloud Console Search Bar" />
      2. Cari `credentials` dan klik yang `APIs and Services` (nomor 2 pada screenshot)
         <img src="/social-login-assets/firebase_gc_credentials_search.webp" alt="Google Cloud Console Credentials Search" />
   4. Klik pada `iOS client for [YOUR_APP_ID] (auto created by Google Service)`. Dalam kasus saya, ini adalah `sociallogin-tutorial-app`.
      <img src="/social-login-assets/firebase_gc_credentials_ios_client_id.webp" alt="Google Cloud Console Credentials iOS Client ID" />
   5. Salin `Client ID` serta `iOS URL scheme`. Ini akan masing-masing menjadi `iOSClientId` dan `YOUR_DOT_REVERSED_IOS_CLIENT_ID` Anda.

      :::note
      Anda akan melewatkan `iOSClientId` dalam metode `initialize` plugin, sementara Anda akan menggunakan `YOUR_DOT_REVERSED_IOS_CLIENT_ID` dalam file `Info.plist` aplikasi Anda, seperti dijelaskan di bagian selanjutnya dari panduan ini.
      :::

      <img src="/social-login-assets/firebase_gc_credentials_ios_client_id_copy.webp" alt="Google Cloud Console Credentials iOS Client ID Copy" />
10. Dapatkan web client ID Anda
    1. Kembali ke Firebase console dan buka `Build` -> `Authentication`
        <img src="/social-login-assets/firebase_select_authentication.webp" alt="Firebase Authentication Menu" />
    2. Klik tombol `Sign-in method`
        <img src="/social-login-assets/firebase_select_authentication_sign_in_method.webp" alt="Firebase Authentication Sign-in Method Button" />
    3. Klik provider `Google`
        <img src="/social-login-assets/firebase_select_authentication_sign_in_method_google.webp" alt="Firebase Authentication Sign-in Method Google Provider" />
    4. Klik tombol `Web SDK configuration`
        <img src="/social-login-assets/firebase_select_authentication_sign_in_method_web_sdk_configuration.webp" alt="Firebase Authentication Sign-in Method Web SDK Configuration Button" />
    5. Salin `Web client ID`. Ini akan menjadi `webClientId` Anda dalam metode `initialize` plugin.
        <img src="/social-login-assets/firebase_select_authentication_sign_in_method_web_sdk_configuration_web_client_id.webp" alt="Firebase Authentication Sign-in Method Web SDK Configuration Web Client ID" />
11. Modifikasi Info.plist aplikasi Anda
    1. Buka Xcode dan temukan file `Info.plist`
        <img src="/social-login-assets/xcode_info_file.png" alt="Info.plist file in Xcode project navigator" />
    2. Klik kanan file ini dan buka sebagai source code
        <img src="/social-login-assets/xcode_open_as_src_code.png" alt="Right-click menu showing Open As Source Code option" />
    3. Di bagian bawah file `Plist` Anda, Anda akan melihat tag `</dict>`
        <img src="/social-login-assets/xcode_dict_tag.png" alt="Closing dict tag in Info.plist file" />
    4. Masukkan fragmen berikut tepat sebelum tag `</dict>` penutup
        <img src="/social-login-assets/xcode_plist_inserted.png" alt="Info.plist with URL schemes code inserted before closing dict tag" />

        ```xml
        <key>CFBundleURLTypes</key>
        <array>
        <dict>
          <key>CFBundleURLSchemes</key>
          <array>
            <string>YOUR_DOT_REVERSED_IOS_CLIENT_ID</string>
          </array>
        </dict>
        </array>
        <key>GIDClientID</key>
        <string>YOUR_IOS_CLIENT_ID.apps.googleusercontent.com</string>
        ```

    5. Ubah `YOUR_DOT_REVERSED_IOS_CLIENT_ID` ke nilai yang disalin di langkah 9 (iOS URL scheme)
        <img src="/social-login-assets/xcode_plist_final.png" alt="Info.plist with actual reversed client ID inserted in URL schemes" />

        :::caution
        Pastikan bahwa nilai ini **DIMULAI** dengan `com.googleusercontent.apps`
        :::

   6. Ubah `YOUR_IOS_CLIENT_ID` ke iOS Client ID yang Anda salin di langkah 9

   7. Simpan file dengan `Command + S`

12. Modifikasi `AppDelegate.swift`
    1. Buka AppDelegate
        <img src="/social-login-assets/xcode_app_deleg.png" alt="AppDelegate.swift file in Xcode project navigator" />
    2. Masukkan `import GoogleSignIn` di bagian atas file
        <img src="/social-login-assets/xcode_app_deleg_google_sign_in.png" alt="AppDelegate.swift with GoogleSignIn import added" />
    3. Temukan fungsi `func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey: Any] = [:])`
        <img src="/social-login-assets/xcode_app_deleg_app_fn.png" alt="Original application openURL function in AppDelegate" />
    4. Modifikasi fungsi agar terlihat seperti ini

        ```swift
        func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey: Any] = [:]) -> Bool {
            // Called when the app was launched with a url. Feel free to add additional processing here,
            // but if you want the App API to support tracking app url opens, make sure to keep this call

            var handled: Bool

            handled = GIDSignIn.sharedInstance.handle(url)
            if handled {
              return true
            }

            return ApplicationDelegateProxy.shared.application(app, open: url, options: options)
        }
        ```

        <img src="/social-login-assets/xcode_app_deleg_app_fn_mod.png" alt="Modified application openURL function with GoogleSignIn handling" />

    5. Simpan file dengan `Command + S`

15. Menggunakan login Google di aplikasi Anda

    Pada langkah ini, Anda siap menggunakan login Google di aplikasi Anda.
    Silakan gunakan file [authUtils.ts](https://github.com/Cap-go/capacitor-social-login/blob/main/example-app/src/authUtils.ts) dari aplikasi contoh untuk mengautentikasi dengan Google.
</Steps>

 Pengguna akan secara otomatis dibuat di Firebase Auth pada sign-in pertama

## Pemecahan Masalah

Jika autentikasi macet atau gagal:

- Verifikasi audience `idToken` cocok dengan Firebase web client ID Anda
- Periksa bahwa Google Sign-In diaktifkan di Firebase Console
- Pastikan Info.plist memiliki URL scheme dan GIDClientID yang benar
- Verifikasi `iOSServerClientId` cocok dengan web client ID Anda
- Tinjau [kode aplikasi contoh](https://github.com/Cap-go/capacitor-social-login/tree/main/example-app/src/authUtils.ts) sebagai referensi
