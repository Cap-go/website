---
title: "Encrypted Bundles"
locale: id
description: "Panduan komprehensif tentang pemanfaatan plugin pembaruan manual dalam lingkungan self-hosted, merinci langkah-langkah dan proses yang terlibat dalam mengelola encrypted bundles untuk pembaruan yang aman dan efisien."
sidebar:
  order: 5
---
import { LinkCard, CardGrid } from '@astrojs/starlight/components';

## Enkripsi End-to-end

Mulai dari versi 4.15.0, plugin memungkinkan Anda mengirim pembaruan terenkripsi.

### Langkah 1: Buat private key
```bash title='Buat private key'
npx @capgo/cli key create
```

### Langkah 2: Buat dan zip bundle Anda
```bash title="Buat bundle zip dengan checksum"
npx @capgo/cli bundle zip [appId] --key-v2 --json
```

Flag `--key-v2` menggunakan sistem enkripsi baru dengan checksum yang lebih baik, dan flag `--json` akan mengoutput informasi bundle termasuk checksum yang akan Anda perlukan untuk enkripsi.

### Langkah 3: Enkripsi bundle Anda
```bash title="Enkripsi zip bundle dengan checksum"
npx @capgo/cli encrypt [path/to/zip] [checksum]
```

Parameter `checksum` adalah checksum SHA256 yang dihasilkan oleh perintah zip pada langkah 2. Perintah encrypt akan mengembalikan `ivSessionKey` dan menghasilkan checksum terenkripsi. Ingat untuk mengganti nama kunci `ivSessionKey` menjadi `session_key` dalam payload pembaruan.

### Langkah 4: Gunakan dalam payload pembaruan Anda
```json
{
"version": "1.2.3",
"url": "https://myserver.com/app/updates/my-new-app-2.0.0.zip",
"session_key": "encrypted_session_key",
"checksum": "encrypted_checksum_from_encrypt_command"
}
```

`session_key` adalah `ivSessionKey` yang dikembalikan oleh perintah encrypt, dan `checksum` adalah checksum terenkripsi yang dihasilkan selama enkripsi (bukan checksum asli dari perintah zip).

Kemudian aplikasi Anda akan dapat menggunakan private key untuk mendekripsi `session_key` dan menggunakan `session_key` yang didekripsi untuk mendekripsi pembaruan. Checksum terenkripsi memastikan verifikasi integritas bundle.

## Pelajari Lebih Lanjut

<CardGrid>
<LinkCard
	title="Panduan Enkripsi End-to-End"
	href="https://capgo.app/blog/introducing-end-to-end-security-to-capacitor-updater-with-code-signing/"
	description="Pelajari lebih dalam bagaimana sistem enkripsi Capgo bekerja dengan kriptografi RSA + AES"
/>
<LinkCard
	title="Live Updates Self-hosted"
	href="https://capgo.app/blog/self-hosted-live-updates/"
	description="Alur kerja lengkap untuk mengatur pembaruan self-hosted"
/>
</CardGrid>
