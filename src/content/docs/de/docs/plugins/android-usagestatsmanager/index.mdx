---
title: "@capgo/capacitor-android-usagestatsmanager"
description: Android Nutzungsstatistik-Plugin f√ºr Capacitor Apps mit App-Nutzungsverfolgung, Bildschirmzeit-√úberwachung und Nutzungsanalysen.
tableOfContents: false
next: false
prev: false
sidebar:
  order: 1
  label: "Einf√ºhrung"
hero:
  tagline: Zugriff auf Android-Nutzungsstatistiken zur √úberwachung von App-Nutzung, Bildschirmzeit und Benutzerverhalten mit Daten auf Systemebene.
  image:
    file: ~public/icons/plugins/android-usagestatsmanager.svg
  actions:
    - text: Erste Schritte
      link: /docs/plugins/android-usagestatsmanager/getting-started/
      icon: right-arrow
      variant: primary
    - text: Github
      link: https://github.com/Cap-go/capacitor-android-usagestatsmanager/
      icon: external
      variant: minimal
locale: de
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## √úberblick

Das Capacitor Android Usage Stats Manager Plugin stellt das UsageStatsManager SDK von Android f√ºr Capacitor-Anwendungen bereit und erm√∂glicht den Zugriff auf detaillierte App-Nutzungsstatistiken und Ger√§tenutzungsdaten. Dieses Plugin erm√∂glicht es Entwicklern, App-Nutzungsmuster, Bildschirmzeit und Benutzerverhalten auf Android-Ger√§ten zu verfolgen.

<CardGrid stagger>
  <Card title="Nutzungsstatistiken" icon="rocket">
    Zugriff auf Android UsageStatsManager SDK-Daten üì±
  </Card>
  <Card title="App-√úberwachung" icon="moon">
    Verfolgen Sie individuelle App-Nutzungszeit und -H√§ufigkeit üïê
  </Card>
  <Card title="Berechtigungsverwaltung" icon="approve-check">
    Nahtlose Verwaltung von Nutzungsstatistik-Berechtigungen üõ°Ô∏è
  </Card>
  <Card title="Paketinformationen" icon="puzzle">
    Abfrage installierter Paketdetails und Metadaten üì¶
  </Card>
</CardGrid>

## Installation

```bash
npm install @capgo/capacitor-android-usagestatsmanager
npx cap sync
```

## Erforderliche Berechtigungen

F√ºgen Sie diese Berechtigungen zu Ihrer `android/app/src/main/AndroidManifest.xml` hinzu:

```xml
<uses-permission android:name="android.permission.PACKAGE_USAGE_STATS" />
<uses-permission android:name="android.permission.QUERY_ALL_PACKAGES" />
```

## Kern-API-Methoden

### Nutzungsstatistiken
- `queryAndAggregateUsageStats(options)` - Detaillierte Nutzungsstatistiken f√ºr installierte Apps abrufen
- `isUsageStatsPermissionGranted()` - Pr√ºfen, ob die Berechtigung f√ºr Nutzungsstatistiken erteilt wurde
- `openUsageStatsSettings()` - Systemeinstellungen f√ºr Nutzungsstatistik-Berechtigung √∂ffnen

### Paketinformationen
- `queryAllPackages()` - Informationen √ºber alle installierten Pakete abrufen

## Verwendungsbeispiel

```typescript
import { AndroidUsageStatsManager } from '@capgo/capacitor-android-usagestatsmanager';

// Pr√ºfen, ob die Berechtigung erteilt wurde
const permissionResult = await AndroidUsageStatsManager.isUsageStatsPermissionGranted();
if (!permissionResult.granted) {
  // Einstellungen √∂ffnen, um die Berechtigung zu erteilen
  await AndroidUsageStatsManager.openUsageStatsSettings();
  return;
}

// Nutzungsstatistiken abfragen
const statsOptions = {
  intervalType: 0, // INTERVAL_DAILY
  startTime: Date.now() - (7 * 24 * 60 * 60 * 1000), // vor 7 Tagen
  endTime: Date.now()
};

const usageStats = await AndroidUsageStatsManager.queryAndAggregateUsageStats(statsOptions);
console.log('Nutzungsstatistiken:', usageStats);

// Alle installierten Pakete abrufen
const packages = await AndroidUsageStatsManager.queryAllPackages();
console.log('Installierte Pakete:', packages);
```

## Berechtigungsverwaltung

Das Plugin erfordert spezielle Berechtigungen, die nicht √ºber normale Laufzeit-Berechtigungsanforderungen erteilt werden k√∂nnen:

1. **PACKAGE_USAGE_STATS**: Erm√∂glicht den Zugriff auf Nutzungsstatistiken
2. **QUERY_ALL_PACKAGES**: Erforderlich f√ºr Paketinformationen (Android 11+)

Benutzer m√ºssen diese Berechtigungen manuell √ºber die Systemeinstellungen erteilen. Verwenden Sie `openUsageStatsSettings()`, um Benutzer zur entsprechenden Einstellungsseite zu leiten.

## Datentypen

### Nutzungsstatistiken
- App-Nutzungszeit und -H√§ufigkeit
- Erste und letzte Verwendung
- Gesamtzeit im Vordergrund
- Anzahl der Starts

### Paketinformationen
- Paketname und Version
- Installationszeit
- App-Bezeichnungen und Icons
- System- vs. Benutzer-Apps

## Anwendungsf√§lle

- **Digital Wellbeing Apps**: Bildschirmzeit und App-Nutzung √ºberwachen
- **Kindersicherung**: Ger√§tenutzung von Kindern verfolgen
- **Produktivit√§ts-Apps**: Arbeitsmuster und Fokuszeiten analysieren
- **Analytics**: Benutzerverhalten und App-Engagement verstehen

## Android-Kompatibilit√§t

- **Minimale Android-Version**: API Level 21 (Android 5.0)
- **Erweiterte Funktionen**: API Level 29+ (Android 10+) f√ºr erweiterte Statistiken
- **Paketabfragen**: API Level 30+ (Android 11+) erfordert QUERY_ALL_PACKAGES

## Sicherheits√ºberlegungen

- Berechtigung f√ºr Nutzungsstatistiken ist sensibel und erfordert Benutzerzustimmung
- Ber√ºcksichtigen Sie die Privatsph√§re der Benutzer beim Sammeln von Nutzungsdaten
- Implementieren Sie ordnungsgem√§√üe Datenverarbeitungs- und Speicherpraktiken
- Befolgen Sie die Google Play-Richtlinien f√ºr die Erfassung von Nutzungsdaten

## Dokumentation

Siehe die [vollst√§ndige Dokumentation](/docs/plugins/android-usagestatsmanager/getting-started/) f√ºr detaillierte Implementierungsanleitungen und erweiterte Nutzungsmuster.
