---
title: Erste Schritte
description: Erfahren Sie, wie Sie das Native Biometric-Plugin für sichere biometrische Authentifizierung in Ihrer Capacitor-App installieren und verwenden.
locale: de
sidebar:
  order: 2
---

import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Code, Steps } from '@astrojs/starlight/components';
import { PackageManagers } from 'starlight-package-managers'

<Steps>
1. **Installieren Sie das Paket**
   <PackageManagers pkg="@capgo/capacitor-native-biometric" pkgManagers={['npm', 'pnpm', 'yarn', 'bun']} />

2. **Synchronisieren Sie mit nativen Projekten**
   <PackageManagers type="exec" pkg="cap" args="sync" pkgManagers={['npm', 'pnpm', 'yarn', 'bun']} />

3. **Berechtigungen konfigurieren**

   ### iOS
   Fügen Sie die Face ID-Nutzungsbeschreibung zu Ihrer `Info.plist` hinzu:
   ```xml
   <key>NSFaceIDUsageDescription</key>
   <string>For secure authentication</string>
   ```

   ### Android
   Fügen Sie die biometrische Berechtigung zu Ihrer `AndroidManifest.xml` hinzu:
   ```xml
   <uses-permission android:name="android.permission.USE_BIOMETRIC" />
   ```
</Steps>

## Verwendung

Importieren Sie das Plugin und verwenden Sie seine Methoden für biometrische Authentifizierung:

```typescript
import { NativeBiometric } from '@capgo/capacitor-native-biometric';

// Überprüfen, ob biometrische Authentifizierung verfügbar ist
const checkBiometric = async () => {
  const result = await NativeBiometric.isAvailable();

  if (result.isAvailable) {
    console.log(`Biometrischer Typ: ${result.biometryType}`);
  }
};

// Biometrische Verifizierung durchführen
const verify = async () => {
  const verified = await NativeBiometric.verifyIdentity({
    reason: "Für sicheren Zugriff auf Ihr Konto",
    title: "Authentifizierung",
    subtitle: "Verifizieren Sie Ihre Identität",
    description: "Legen Sie Ihren Finger auf den Sensor"
  })
    .then(() => true)
    .catch(() => false);

  if (verified) {
    console.log("Authentifizierung erfolgreich");
  }
};

// Anmeldedaten sicher speichern
const saveCredentials = async () => {
  await NativeBiometric.setCredentials({
    username: "user@example.com",
    password: "securepassword",
    server: "https://api.example.com"
  });
};

// Gespeicherte Anmeldedaten abrufen
const getCredentials = async () => {
  const credentials = await NativeBiometric.getCredentials({
    server: "https://api.example.com"
  });

  console.log(credentials.username);
  console.log(credentials.password);
};

// Gespeicherte Anmeldedaten löschen
const deleteCredentials = async () => {
  await NativeBiometric.deleteCredentials({
    server: "https://api.example.com"
  });
};
```

## API-Referenz

### isAvailable()

Überprüft, ob biometrische Authentifizierung auf dem Gerät verfügbar ist.

```typescript
interface AvailableResult {
  isAvailable: boolean;
  biometryType?: BiometryType;
  errorCode?: number;
}

enum BiometryType {
  NONE = 0,
  TOUCH_ID = 1,
  FACE_ID = 2,
  FINGERPRINT = 3,
  FACE_AUTHENTICATION = 4,
  IRIS_AUTHENTICATION = 5
}
```

### verifyIdentity(options)

Führt biometrische Authentifizierung durch.

```typescript
interface BiometricOptions {
  reason?: string;
  title?: string;
  subtitle?: string;
  description?: string;
  fallbackTitle?: string;
  useFallback?: boolean;
  maxAttempts?: number;
}
```

### setCredentials(options)

Speichert Anmeldedaten sicher mit biometrischem Schutz.

```typescript
interface Credentials {
  username: string;
  password: string;
  server: string;
}
```

### getCredentials(options)

Ruft gespeicherte Anmeldedaten nach biometrischer Authentifizierung ab.

```typescript
interface GetCredentialOptions {
  server: string;
}
```

### deleteCredentials(options)

Löscht gespeicherte Anmeldedaten.

```typescript
interface DeleteCredentialOptions {
  server: string;
}
```

## Best Practices

1. **Immer zuerst Verfügbarkeit prüfen**
   ```typescript
   const result = await NativeBiometric.isAvailable();
   if (!result.isAvailable) {
     // Auf Passwort-Authentifizierung zurückgreifen
   }
   ```

2. **Klare Gründe angeben**
   Erklären Sie immer, warum Sie biometrische Authentifizierung benötigen, um Vertrauen aufzubauen.

3. **Fehler elegant behandeln**
   ```typescript
   try {
     await NativeBiometric.verifyIdentity({
       reason: "Zugriff auf Ihre sicheren Daten"
     });
   } catch (error) {
     // Abbruch oder Fehler behandeln
     console.log("Authentifizierung fehlgeschlagen oder abgebrochen");
   }
   ```

4. **Geeignete Fallbacks verwenden**
   Aktivieren Sie Passcode-Fallback für Geräte, bei denen die Biometrie fehlschlagen kann.

## Plattform-Unterschiede

### iOS
- Unterstützt Touch ID und Face ID
- Erfordert `NSFaceIDUsageDescription` für Face ID
- Fallback zum Gerätepasscode verfügbar

### Android
- Unterstützt Fingerabdruck-, Gesichts- und Iris-Erkennung
- Erfordert `USE_BIOMETRIC`-Berechtigung
- Biometric Prompt API für Android 9+
