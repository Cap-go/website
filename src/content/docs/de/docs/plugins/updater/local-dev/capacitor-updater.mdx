---
title: "Verwendung des capacitor updater mit selbst gehostetem Capgo"
locale: de
description: "Wie Sie den capacitor updater mit selbst gehostetem Capgo verwenden, um mit Ihrer eigenen Instanz von Capgo vollständig autonom zu sein"
sidebar:
    order: 4
---

## Was wird dieses Tutorial abdecken?

Dieses Tutorial zeigt, wie man capacitor updater in einer Entwicklungsumgebung mit selbst gehostetem Capgo verwendet.

## Anforderungen

 1. [Geklontes Capgo](https://github.com/Cap-go/capgo)

## Erste Schritte

Um den capacitor updater mit selbst gehostetem Capgo zu verwenden, bearbeiten Sie die `capacitor.config.ts` aus Ihrem App-Verzeichnis und setzen Sie es wie folgt:

```ts
const config: CapacitorConfig = {
  appId: 'com.demo.app',
  appName: 'demoApp',
  webDir: 'dist',
  bundledWebRuntime: false,
  plugins: {
    CapacitorUpdater : {
      statsUrl: "https://localhost:54321/functions/v1/stats",
      channelUrl: "https://localhost:54321/functions/v1/channel_self",
      updateUrl: "https://localhost:54321/functions/v1/updates"
    },
  },
};
```

Dies ermöglicht es Ihnen, lokales Capgo in der Entwicklung zu verwenden. Standardmäßig reicht dies jedoch nicht aus.

> Standardmäßig erwarten sowohl iOS als auch Android, dass Sie HTTPS verwenden. Sie müssen ein Tool wie Ngrock oder localcan verwenden, um Ihre API in HTTPS zu proxyen.

Es gibt eine Möglichkeit in Android, [Klartext-Kommunikation](https://developer.android.com/topic/security/risks/cleartext) zu aktivieren.
Dies kann erreicht werden, indem [AndroidManifest.xml](https://github.com/Cap-go/capacitor-updater/blob/main/android/src/main/AndroidManifest.xml) modifiziert und `android:usesCleartextTraffic="true"` im `application`-Tag hinzugefügt wird.
Ein vollständiges Beispiel dieser Änderung kann [hier](https://gist.github.com/WcaleNieWolny/061a015acdebe35eaf3afd7030797701) eingesehen werden.

Es könnte auch ein Problem geben, das verhindert, dass die Android-App eine Verbindung herstellt. Wenn Sie keine Anfragen an Edge-Funktionen sehen, führen Sie Folgendes aus:
```bash
adb reverse tcp:54321 tcp:54321
```
