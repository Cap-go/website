---
title: Mitglieder
description: >-
  Umfassender Leitfaden zur Verwaltung von Organisationsmitgliedern in Capgo,
  einschließlich Rollen, Berechtigungen und Best Practices für Sicherheit und
  Zusammenarbeit.
sidebar:
  order: 4
locale: de
---

Organisationsmitglieder sind Benutzer, die Zugriff auf Ihre Capgo-Organisation haben. Jedes Mitglied hat eine spezifische Rolle, die seine Berechtigungen innerhalb der Organisation bestimmt. Die effektive Verwaltung von Mitgliedern ist entscheidend für die Aufrechterhaltung von Sicherheit und Zusammenarbeit in Ihrem Team.

## Mitgliederrollen

### Reguläre Rollen
- **read**: Kann Ressourcen anzeigen, aber keine Änderungen vornehmen
- **upload**: Kann neue Bundles hochladen und Ressourcen anzeigen
- **write**: Kann Ressourcen ändern und Bundles hochladen
- **admin**: Kann Organisationseinstellungen und Mitglieder verwalten
- **super_admin**: Hat volle Kontrolle über die Organisation

### Einladungsrollen
- **invite_read**: Ausstehende Einladung für Lesezugriff
- **invite_upload**: Ausstehende Einladung für Upload-Zugriff
- **invite_write**: Ausstehende Einladung für Schreibzugriff
- **invite_admin**: Ausstehende Einladung für Admin-Zugriff
- **invite_super_admin**: Ausstehende Einladung für Super-Admin-Zugriff

## Best Practices

1. **Rollenzuweisung**: Befolgen Sie das Prinzip der geringsten Privilegien bei der Zuweisung von Rollen
2. **Regelmäßige Überprüfungen**: Überprüfen Sie regelmäßig den Mitgliederzugriff und entfernen Sie ungenutzte Konten
3. **Onboarding**: Haben Sie einen klaren Prozess für das Hinzufügen neuer Mitglieder und die Zuweisung von Rollen
4. **Offboarding**: Entfernen Sie umgehend den Zugriff für Mitglieder, die die Organisation verlassen

## Endpunkte

### POST

`https://api.capgo.app/organization/members/`

Fügen Sie ein neues Mitglied zu einer Organisation hinzu oder aktualisieren Sie die Rolle eines bestehenden Mitglieds. Beachten Sie, dass Sie nur Benutzer einladen können, die bereits ein Capgo-Konto haben - die E-Mail muss einem bestehenden Capgo-Benutzer entsprechen.

#### Request Body

```typescript
interface MemberCreate {
  orgId: string
  email: string
  role: "read" | "upload" | "write" | "admin" | "super_admin"
}
```

#### Beispielanfrage

```bash
curl -X POST \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "newmember@example.com",
    "role": "write"
  }' \
  https://api.capgo.app/organization/members/
```

#### Erfolgsantwort

```json
{
  "status": "OK",
  "data": {
    "uid": "user_789",
    "email": "newmember@example.com",
    "role": "invite_write",
    "image_url": null
  }
}
```

Hinweise: 
- Beim Hinzufügen eines neuen Mitglieds erhält dieses eine Einladungs-E-Mail. Seine Rolle wird mit "invite_" vorangestellt, bis es die Einladung annimmt.
- Der Benutzer muss bereits ein Capgo-Konto haben, bevor er eingeladen werden kann. Wenn er kein Konto hat, sollte er zuerst eines unter https://console.capgo.app/register/ erstellen

### GET 

`https://api.capgo.app/organization/members/`

Abrufen aller Mitglieder einer Organisation.

#### Query-Parameter

```typescript
interface MemberQuery {
  orgId: string
}
```

#### Antworttyp

```typescript
interface Member {
  uid: string;
  email: string;
  image_url: string;
  role: "invite_read" | "invite_upload" | "invite_write" | "invite_admin" | "invite_super_admin" | "read" | "upload" | "write" | "admin" | "super_admin";
}
```

#### Beispielanfrage

```bash
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/organization/members/?orgId=org_123"
```

#### Beispielantwort

```json
{
  "data": [
    {
      "uid": "user_123",
      "email": "john@example.com",
      "image_url": "https://example.com/avatar.png",
      "role": "admin"
    },
    {
      "uid": "user_456",
      "email": "jane@example.com",
      "image_url": "https://example.com/avatar2.png",
      "role": "write"
    },
    {
      "uid": "user_789",
      "email": "bob@example.com",
      "image_url": null,
      "role": "invite_read"
    }
  ]
}
```

### DELETE

`https://api.capgo.app/organization/members/`

Entfernen Sie ein Mitglied aus einer Organisation. Dies widerruft sofort seinen Zugriff.

#### Request Body

```typescript
interface MemberDelete {
  orgId: string
  email: string
}
```

#### Beispielanfrage

```bash
curl -X DELETE \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "user@example.com"
  }' \
  https://api.capgo.app/organization/members/
```

#### Erfolgsantwort

```json
{
  "status": "OK"
}
```

## Fehlerbehandlung

Häufige Fehlerszenarien und ihre Antworten:

```json
// Mitglied nicht gefunden
{
  "error": "Member not found",
  "status": "KO"
}

// Ungültige Rolle
{
  "error": "Invalid role specified",
  "status": "KO"
}

// Berechtigung verweigert
{
  "error": "Insufficient permissions to manage members",
  "status": "KO"
}

// Letzter Admin kann nicht entfernt werden
{
  "error": "Cannot remove the last admin from the organization",
  "status": "KO"
}

// Ungültige E-Mail
{
  "error": "Invalid email format",
  "status": "KO"
}

// Mitglied existiert bereits
{
  "error": "Member already exists in organization",
  "status": "KO"
}
```

## Häufige Anwendungsfälle

1. **Team-Erweiterung**: Hinzufügen neuer Teammitglieder mit geeigneten Rollen
2. **Zugriffskontrolle**: Verwaltung von Mitgliederberechtigungen bei sich ändernden Verantwortlichkeiten
3. **Sicherheitsaudit**: Regelmäßige Überprüfung der Mitgliederliste und Rollen
4. **Team-Umstrukturierung**: Aktualisierung von Rollen bei organisatorischen Änderungen
