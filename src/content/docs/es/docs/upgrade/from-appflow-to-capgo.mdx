---
title: Migrar de AppFlow a Capgo
description: Tutorial detallado para mover un proyecto de Ionic AppFlow a Capgo. Cada paso se corresponde con las tareas est√°ndar de migraci√≥n de AppFlow para que puedas comparar l√≠nea por l√≠nea y ver cu√°les Capgo ya maneja por ti.
sidebar:
  order: 7
locale: es
---

> üö¶ Ionic anunci√≥ que los productos comerciales de AppFlow, incluidas las Actualizaciones en Vivo, est√°n cerrando. Los proyectos existentes pueden ejecutarse hasta el **31 de diciembre de 2027**, pero no se aceptan nuevos clientes y no se planean nuevas funciones. Esta gu√≠a te gu√≠a a trav√©s de las acciones necesarias para migrar a Capgo y destaca la automatizaci√≥n nativa que obtienes.

## Resumen de la migraci√≥n

Capgo maneja canales, retenci√≥n de Paquetes, Reversiones, an√°lisis y cargas CLI por ti. La migraci√≥n se reduce a instalar el Plugin, llamar a `CapacitorUpdater.notifyAppReady()` y, si lo deseas, configurar controles manuales opcionales. Las secciones a continuaci√≥n describen cada tarea directamente.

## Paso 0 ‚Äì Captura tu configuraci√≥n actual de AppFlow

- Anota tu **ID de aplicaci√≥n** de AppFlow, canales existentes y claves de firma.
- Exporta cualquier historial de Paquetes que desees archivar.
- Si est√°s usando GitHub Actions u otro proveedor de CI, mant√©n esos pipelines: seguir√°n funcionando con Capgo.

## Paso 1 ‚Äì Reemplaza el SDK de AppFlow con Capgo

```bash
npm uninstall @capacitor/live-updates
npm install @capgo/capacitor-updater
npx cap sync
```

Eso es todo. Capgo incluye el c√≥digo nativo para iOS y Android; no se requieren helpers de JavaScript adicionales.

## Paso 2 ‚Äì Configuraci√≥n m√≠nima (sin campos manuales)

El bloque de configuraci√≥n existente es extenso. Capgo detecta autom√°ticamente tu proyecto y canales, por lo que la configuraci√≥n m√≠nima es:

```ts title="capacitor.config.ts"
import { CapacitorConfig } from '@capacitor/cli'

const config: CapacitorConfig = {
  plugins: {
    CapacitorUpdater: {
      autoUpdate: true,
      autoDeletePrevious: true,
    },
  },
}

export default config
```

### Referencia r√°pida de configuraci√≥n

| Configuraci√≥n de Ionic AppFlow | Equivalente en Capgo | ¬øNecesitas configurarlo? |
| --- | --- | --- |
| `appId` | Gestionado en el panel de Capgo | Se proporciona autom√°ticamente cuando creas el proyecto |
| `channel` / `defaultChannel` | Reglas de canal en el panel/API | Anulaci√≥n opcional; los valores predeterminados provienen del servidor |
| `autoUpdateMethod` | `autoUpdate: true` | Habilitado por defecto |
| `maxVersions` | Pol√≠tica de retenci√≥n | Configurado centralmente (1 mes por defecto, 24 meses m√°ximo) |
| `enabled` | No requerido | Capgo alterna la disponibilidad por canal |

## Paso 3 ‚Äì Llama a `notifyAppReady()` (el √∫nico hook requerido)

En la gu√≠a de Ionic conectas `sync`, `download` y `reload`, luego ocultas la pantalla de inicio manualmente. Capgo realiza esas acciones de forma nativa. Solo necesitas confirmar que la aplicaci√≥n est√° lista:

```ts
import { CapacitorUpdater } from '@capgo/capacitor-updater'

CapacitorUpdater.notifyAppReady()
```

Si la confirmaci√≥n nunca llega, Capgo revierte el Paquete autom√°ticamente.

**Eso es todo: Capgo maneja las comprobaciones en segundo plano, la visibilidad de la pantalla de inicio y los Reversiones por ti.**

<details>
<summary>Opcional: ejecuta l√≥gica antes de que se oculte la pantalla de inicio</summary>

```ts
import { CapacitorUpdater } from '@capgo/capacitor-updater'
import { SplashScreen } from '@capacitor/splash-screen'

CapacitorUpdater.addListener('appReady', () => {
  // Registra diagn√≥sticos o ejecuta c√≥digo personalizado si es necesario
  SplashScreen.hide()
})

CapacitorUpdater.notifyAppReady()
```

</details>

## Paso 4 ‚Äì Estrategias de actualizaci√≥n traducidas

AppFlow documenta tres estrategias. As√≠ es como se corresponden con Capgo:

### Background (predeterminado)
- **AppFlow**: configura `autoUpdateMethod = background`, llama a `sync()` manualmente.
- **Capgo**: habilitado por defecto. No se requiere JavaScript.

### Always latest (siempre la √∫ltima)
- **AppFlow**: agrega un manejador `App.addListener('resume')` que descarga y recarga.
- **Capgo**: la actualizaci√≥n autom√°tica se ejecuta al reanudar autom√°ticamente. Agrega el manejador solo si deseas una ventana de tiempo personalizada.

<details>
<summary>Opcional: verificaci√≥n manual al reanudar</summary>

```ts
import { App } from '@capacitor/app'
import { CapacitorUpdater } from '@capgo/capacitor-updater'

App.addListener('resume', async () => {
  const bundle = await CapacitorUpdater.download()
  if (bundle) {
    await CapacitorUpdater.set({ id: bundle.id })
  }
})
```

</details>

### Force Actualizar (actualizaci√≥n forzada)
- **AppFlow**: solicita al usuario y llama a `reload()`.
- **Capgo**: marca el Paquete como "obligatorio" en el panel, luego escucha el evento `majorAvailable` (emitido despu√©s de `notifyAppReady()`) para solicitar o forzar a los usuarios dentro de tu aplicaci√≥n.

## Paso 5 ‚Äì Mapeo de llamadas API

| M√©todo de AppFlow | Equivalente en Capgo | ¬øLo necesitas? |
| --- | --- | --- |
| `LiveUpdates.sync()` | Manejado autom√°ticamente | La actualizaci√≥n autom√°tica nativa de Capgo se ejecuta sin una llamada de sincronizaci√≥n manual |
| `LiveUpdates.download()` | `CapacitorUpdater.download()` | Opcional para flujos personalizados |
| `LiveUpdates.reload()` | `CapacitorUpdater.set()` | Opcional; los toggles del panel manejan actualizaciones forzadas |
| `LiveUpdates.getVersion()` | `CapacitorUpdater.current()` | Diagn√≥sticos opcionales |

## Paso 6 ‚Äì Despliega usando la CLI o API de Capgo

Finaliza la migraci√≥n cargando Paquetes con la CLI o API de Capgo. El flujo de trabajo refleja lo que puedes haber programado antes, pero ahora incluye salvaguardas nativas:

```bash
capgo login                # autentica una vez
capgo bundle upload \
  --path dist \
  --channel production     # etiqueta autom√°ticamente plataforma/versi√≥n
```

Capgo autom√°ticamente:
- Mantiene registros de auditor√≠a a nivel de dispositivo para cada instalaci√≥n.
- Env√≠a correos electr√≥nicos proactivos cuando te acercas a los l√≠mites del plan.
- Proporciona cr√©ditos de r√°faga para que nunca te bloquees en medio de un lanzamiento.
- Publica m√©tricas de latencia para 18 regiones globales en [status.capgo.app/history](https://status.capgo.app/history).

## Preguntas frecuentes

### ¬øPor qu√© AppFlow est√° cerrando las actualizaciones en vivo?
Ionic est√° descontinuando los productos comerciales, incluido AppFlow, para centrarse en su framework de c√≥digo abierto. Los clientes existentes pueden continuar usando actualizaciones en vivo hasta el **31 de diciembre de 2027**, pero no se aceptan nuevas funciones o clientes. Capgo llena ese vac√≠o con una plataforma OTA nativa dedicada.

### ¬øCu√°nto tiempo lleva la migraci√≥n?
La mayor√≠a de los equipos completan el cambio en menos de un d√≠a. Conceptos como canales, despliegues y reglas de lanzamiento se mapean directamente, y nuestro equipo proporciona documentaci√≥n m√°s soporte pr√°ctico. En muchos casos, simplemente instalas el Plugin, llamas a `notifyAppReady()` y cargas tu primer Paquete.

### ¬øAhorraremos dinero?
S√≠. Las actualizaciones en vivo de AppFlow comienzan en **$499/mes**. Capgo comienza en **$14/mes** con precios basados en uso que caen a aproximadamente **$0.001 por MAU**. Tambi√©n obtienes cifrado, Reversiones autom√°ticos y monitoreo de latencia mundial.

### ¬øCu√°ndo deber√≠amos migrar?
Dado que AppFlow ahora est√° en modo de mantenimiento, migrar antes te da acceso a la innovaci√≥n continua de Capgo. Recomendamos cambiar cuando se ajuste a tu calendario de lanzamiento. Nuestro equipo de ingenier√≠a te ayudar√° a planificar el cambio para que tu CI/CD y despliegues sigan funcionando.

## ¬øNecesitas ayuda?

- Reserva una sesi√≥n de migraci√≥n: [cal.com/team/capgo/demo](https://cal.com/team/capgo/demo)
- √önete a la comunidad: [Discord de Capgo](https://discord.gg/VCXxSVjefW)
- Rastrea problemas / solicita funciones: [github.com/Cap-go/capacitor-updater](https://github.com/Cap-go/capacitor-updater)

Capgo est√° dise√±ado para empresas que necesitan actualizaciones delta nativas, Paquetes cifrados e innovaci√≥n continua. Una vez que migres, puedes eliminar el c√≥digo de pegamento de AppFlow, confiar en la automatizaci√≥n nativa y seguir enviando sin interrupciones.
