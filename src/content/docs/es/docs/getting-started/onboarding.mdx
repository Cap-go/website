---
title: Gu√≠a de Incorporaci√≥n CLI
description: >-
  Gu√≠a completa paso a paso para incorporar tu aplicaci√≥n con Capgo usando la
  CLI interactiva
sidebar:
  order: 2
next: true
prev: true
locale: es
---

import { Aside, Card, CardGrid } from '@astrojs/starlight/components';

## Resumen R√°pido

La CLI de Capgo proporciona una incorporaci√≥n interactiva que configura actualizaciones en vivo para tu aplicaci√≥n Capacitor. Podr√°s:

1. ‚úÖ Registrar tu aplicaci√≥n en Capgo
2. üîå Instalar y configurar el plugin de actualizaci√≥n
3. üöÄ Implementar tu primera actualizaci√≥n en vivo
4. üì± Probar la actualizaci√≥n en tu dispositivo

**Tiempo estimado:** 10-20 minutos (var√≠a seg√∫n tu velocidad de internet y tiempo de compilaci√≥n)

<Aside type="tip">
La incorporaci√≥n es totalmente reanudable: sal en cualquier momento y contin√∫a m√°s tarde desde donde lo dejaste.
</Aside>

## Iniciar la Incorporaci√≥n

Ejecuta el comando de incorporaci√≥n con tu clave API:

```bash
npx @capgo/cli@latest init [APIKEY]
```

Ver√°s el mensaje de bienvenida:

```
Capgo onboarding üõ´
```

## Qu√© Sucede Durante la Incorporaci√≥n

La CLI te guiar√° a trav√©s de 13 pasos interactivos:

**Fase de Configuraci√≥n (Pasos 1-6):**
- Verificar tu entorno de desarrollo (Xcode/Android Studio)
- Agregar tu aplicaci√≥n a Capgo y crear un canal de producci√≥n
- Instalar el plugin `@capgo/capacitor-updater`
- Inyectar el c√≥digo requerido en tu aplicaci√≥n
- Opcionalmente habilitar cifrado de extremo a extremo
- Elegir una plataforma para pruebas (iOS o Android)

**Fase de Pruebas (Pasos 7-12):**
- Compilar tu aplicaci√≥n y ejecutarla en un dispositivo/simulador
- Hacer un cambio de c√≥digo visible (autom√°tico o manual)
- Subir el bundle actualizado a Capgo
- Ver la actualizaci√≥n en vivo aparecer en tu dispositivo en tiempo real

**Finalizaci√≥n (Paso 13):**
- ¬°Tu aplicaci√≥n est√° lista para actualizaciones en vivo! üéâ

## El Proceso de Incorporaci√≥n de 13 Pasos

### Paso 1: Verificar Requisitos Previos

La CLI verifica tu entorno de desarrollo para asegurar que tienes las herramientas necesarias instaladas.

**Qu√© se verifica:**
- **Xcode** (solo macOS) - para desarrollo iOS
- **Android SDK** - para desarrollo Android

**Resultados posibles:**

‚úÖ **Ambos entornos encontrados:**
```
‚úÖ Xcode detected - iOS development ready
‚úÖ Android SDK detected - Android development ready
```

‚ö†Ô∏è **Ning√∫n entorno encontrado:**
```
‚ö†Ô∏è Xcode not found
‚ö†Ô∏è Android SDK not found
‚ùå No development environment detected

üì± To develop mobile apps with Capacitor, you need:
   ‚Ä¢ For iOS: Xcode (macOS only) - https://developer.apple.com/xcode/
   ‚Ä¢ For Android: Android Studio - https://developer.android.com/studio
```

<Aside type="caution">
Si no se detecta ning√∫n entorno de desarrollo, se te preguntar√° si deseas continuar. Se recomienda instalar al menos una plataforma antes de continuar.
</Aside>

### Paso 2: Agregar Tu Aplicaci√≥n

La CLI te conectar√° a Capgo y agregar√° tu aplicaci√≥n a tu cuenta.

```
(spinner) Running: npm @capgo/cli@latest login ***
Login Done ‚úÖ

‚ùì Add {appId} in Capgo?
```

**Si tu ID de aplicaci√≥n ya est√° en uso:**

La CLI sugerir√° alternativas:
```
‚ùå App ID "com.example.app" is already taken
üí° Here are some suggestions:
   1. com.example.app2
   2. com.example.app3
   3. com.example.app.new
   4. com.example.app.app

‚ùì What would you like to do?
```

Puedes elegir una sugerencia o ingresar un ID de aplicaci√≥n personalizado.

<Aside type="note">
Los IDs de aplicaci√≥n deben seguir la notaci√≥n de dominio inverso (ej., `com.example.myapp`)
</Aside>

### Paso 3: Crear Canal de Producci√≥n

Los canales te permiten gestionar diferentes flujos de actualizaci√≥n para tu aplicaci√≥n.

```
‚ùì Create default channel production for {appId} in Capgo?
```

<Aside type="tip">
**¬°No te preocupes!** Esto es solo para pruebas locales durante la incorporaci√≥n. Crear un canal de "producci√≥n" no significa que tus actualizaciones se enviar√°n inmediatamente a los clientes. Tienes control total sobre cu√°ndo se implementan las actualizaciones. Selecciona **S√≠** a menos que tengas requisitos espec√≠ficos de canal.
</Aside>

**Si seleccionas S√≠:**
```
(spinner) Running: npm @capgo/cli@latest channel add production {appId} --default
Channel add Done ‚úÖ  (or "Channel already added ‚úÖ")
```

Se crear√° un canal de producci√≥n y se establecer√° como predeterminado. Esta es la opci√≥n recomendada para la mayor√≠a de los usuarios.

**Si seleccionas No:**
```
If you change your mind, run it for yourself with: "npm @capgo/cli@latest channel add production {appId} --default"
```

Necesitar√°s crear y configurar canales manualmente m√°s tarde. Alternativamente, puedes:
- Establecer el canal en tu archivo `capacitor.config.ts`
- Usar el m√©todo JavaScript `setChannel()` para establecer el canal din√°micamente
- Configurar canales m√°s tarde desde la consola web de Capgo

### Paso 4: Instalar Plugin de Actualizaci√≥n

La CLI instalar√° el plugin `@capgo/capacitor-updater` compatible con tu versi√≥n de Capacitor.

```
‚ùì Automatic Install "@capgo/capacitor-updater" dependency in {appId}?
```

**Compatibilidad de versiones:**

- **Capacitor 5**: Instala `@capgo/capacitor-updater` v5
- **Capacitor 6**: Instala `@capgo/capacitor-updater` v6
- **Capacitor 7**: Instala `@capgo/capacitor-updater` v7
- **Capacitor 8+**: Instala la √∫ltima versi√≥n

<Aside type="caution">
Capgo solo soporta Capacitor v5 y superior. Si est√°s usando una versi√≥n anterior, necesitar√°s actualizar primero.
</Aside>

**Opci√≥n de actualizaciones instant√°neas:**

Despu√©s de la instalaci√≥n, se te preguntar√°:
```
‚ùì Do you want to set instant updates in {appId}?
   Read more: https://capgo.app/docs/live-updates/update-behavior/#applying-updates-immediately
```

<Aside type="tip">
**¬øQu√© son las actualizaciones instant√°neas?** Con las actualizaciones instant√°neas habilitadas, tu aplicaci√≥n aplica actualizaciones inmediatamente cuando se pone en segundo plano y se vuelve a abrir. Esto funciona sin problemas porque Capgo puede distribuir actualizaciones en todo el mundo en menos de 300ms. Sin esto (modo est√°ndar), las actualizaciones se descargan en segundo plano y se aplican en el pr√≥ximo reinicio de la aplicaci√≥n. Las actualizaciones instant√°neas son excelentes para iteraci√≥n m√°s r√°pida durante el desarrollo y correcciones cr√≠ticas de errores en producci√≥n.
</Aside>

**Si seleccionas S√≠:**
- Las actualizaciones se configurar√°n para aplicarse inmediatamente cuando la aplicaci√≥n se ponga en segundo plano y se vuelva a abrir
- `directUpdate: 'always'` y `autoSplashscreen: true` se agregar√°n a tu configuraci√≥n
- Tu `capacitor.config.ts` se actualizar√° autom√°ticamente
- **Actualizaciones Delta** se habilitar√°n autom√°ticamente - esto env√≠a solo los archivos que cambiaron entre actualizaciones en lugar del bundle completo, haciendo las actualizaciones mucho m√°s r√°pidas

**Si seleccionas No:**
- Las actualizaciones usar√°n el comportamiento est√°ndar (descarga en segundo plano, aplicaci√≥n en el pr√≥ximo reinicio)
- Siempre puedes habilitar actualizaciones instant√°neas m√°s tarde modificando tu `capacitor.config.ts`

### Paso 5: Agregar C√≥digo de Integraci√≥n

La CLI inyectar√° autom√°ticamente el c√≥digo requerido en tu archivo principal de aplicaci√≥n.

```
‚ùì Automatic Add "CapacitorUpdater.notifyAppReady()" code and import in {appId}?
```

**Qu√© se agrega:**
```typescript
import { CapacitorUpdater } from '@capgo/capacitor-updater'

CapacitorUpdater.notifyAppReady()
```

**Detecci√≥n de tipo de proyecto:**

- **Nuxt.js**: Crea `plugins/capacitorUpdater.client.ts`
- **Otros frameworks**: Agrega a tu archivo de entrada principal

<Aside type="tip">
**Si la inyecci√≥n autom√°tica falla**, puedes agregar el c√≥digo manualmente a tu archivo principal de aplicaci√≥n:

**Para Nuxt.js:**
Crea `plugins/capacitorUpdater.client.ts`:
```typescript
import { CapacitorUpdater } from '@capgo/capacitor-updater'

export default defineNuxtPlugin(() => {
  CapacitorUpdater.notifyAppReady()
})
```

**Para otros frameworks:**
Agrega a tu archivo de entrada principal (ej., `main.ts`, `index.js`, `App.tsx`):
```typescript
import { CapacitorUpdater } from '@capgo/capacitor-updater'

CapacitorUpdater.notifyAppReady()
```

Coloca este c√≥digo despu√©s de tus importaciones y antes de la inicializaci√≥n de tu aplicaci√≥n. Para m√°s detalles, consulta la [gu√≠a Agregar una Aplicaci√≥n](/docs/getting-started/add-an-app/).
</Aside>

### Paso 6: Configurar Cifrado (Opcional)

El cifrado de extremo a extremo agrega una capa adicional de seguridad para tus actualizaciones.

```
üîê End-to-end encryption
   ‚úÖ Use this for: Banking, healthcare, or apps with legal encryption requirements
   ‚ö†Ô∏è  Note: Makes debugging harder - skip if you don't need it

‚ùì Enable end-to-end encryption for {appId} updates?
```

<Aside type="note">
El cifrado solo est√° disponible para Capacitor v6 y superior.
</Aside>

Si habilitas el cifrado, la CLI:
1. Generar√° claves de cifrado
2. Ofrecer√° sincronizar tu configuraci√≥n de Capacitor

### Paso 7: Seleccionar Plataforma

Elige con qu√© plataforma probar durante la incorporaci√≥n.

```
üì± Platform selection for onboarding
   This is just for testing during onboarding - your app will work on all platforms

‚ùì Which platform do you want to test with during this onboarding?
   Options:
   - iOS
   - Android
```

<Aside type="tip">
Esto solo afecta el proceso de incorporaci√≥n. Tu aplicaci√≥n final soportar√° todas las plataformas.
</Aside>

### Paso 8: Compilar Tu Proyecto

La CLI compilar√° tu aplicaci√≥n y la sincronizar√° con Capacitor.

```
‚ùì Automatic build {appId} with "npm run build"?
```

**Qu√© sucede:**
1. Detecta tu tipo de proyecto
2. Ejecuta tu script de compilaci√≥n
3. Ejecuta `npx cap sync {platform}`

**Si falta el script de compilaci√≥n:**

Se te preguntar√° si deseas omitir la compilaci√≥n o agregar un script de compilaci√≥n a tu `package.json`.

### Paso 9: Ejecutar en Dispositivo

Prueba la versi√≥n inicial de tu aplicaci√≥n en un dispositivo o simulador.

```
‚ùì Run {appId} on {PLATFORM} device now to test the initial version?
```

Si seleccionas **S√≠**:
```
(spinner) Running: npx cap run {platform}
(device picker appears)
App started ‚úÖ
üì± Your app should now be running on your {platform} device with Capgo integrated
üîÑ This is your baseline version - we'll create an update next
```

### Paso 10: Hacer un Cambio de Prueba

Ahora es momento de probar el sistema de actualizaci√≥n de Capgo haciendo un cambio visible.

```
üéØ Now let's test Capgo by making a visible change and deploying an update!

‚ùì How would you like to test the update?
   Options:
   - Auto: Let Capgo CLI make a visible change for you
   - Manual: I'll make changes myself
```

**Modo autom√°tico:**
La CLI modificar√° autom√°ticamente tus archivos para agregar un banner de prueba visible o un cambio.

**Modo manual:**
Haces tus propios cambios (ej., cambiar texto, colores o agregar elementos).

**Manejo de versi√≥n:**
```
‚ùì How do you want to handle the version for this update?
   Options:
   - Auto: Bump patch version ({currentVersion} ‚Üí {nextVersion})
   - Manual: I'll provide the version number
```

**Compilar con cambios:**
```
‚ùì Build {appId} with changes before uploading?
```

<Aside type="tip">
Si necesitas compilar manualmente en otra terminal, selecciona "No" y compila t√∫ mismo, luego contin√∫a.
</Aside>

### Paso 11: Subir Bundle

Sube tu bundle de aplicaci√≥n actualizado a Capgo.

```
‚ùì Upload the updated {appId} bundle (v{version}) to Capgo?
```

La CLI ejecuta:
```bash
npx @capgo/cli@latest bundle upload
```

<Aside type="tip">
**Actualizaciones Delta con Direct Update:** Si habilitaste actualizaciones instant√°neas (Direct Update) en el Paso 4, la CLI preguntar√° autom√°ticamente si deseas habilitar actualizaciones delta. Las actualizaciones delta env√≠an solo los archivos que cambiaron entre versiones en lugar del bundle completo. Como normalmente solo cambian algunos archivos entre actualizaciones, esto hace las descargas mucho m√°s r√°pidas. Selecciona **S√≠** para la mejor experiencia con actualizaciones instant√°neas.
</Aside>

**Solicitud de actualizaciones delta (si Direct Update est√° habilitado):**
```
üí° Direct Update (instant updates) is enabled in your config
   Delta updates send only changed files instead of the full bundle

‚ùì Enable delta updates for this upload? (Recommended with Direct Update)
```

<Aside type="caution">
Para monorepos, es posible que necesites proporcionar rutas adicionales a tu `package.json` y `node_modules`.
</Aside>

**√âxito:**
```
‚úÖ Update v{version} uploaded successfully!
üéâ Your updated bundle is now available on Capgo
```

### Paso 12: Probar Actualizaci√≥n en Dispositivo

¬°Hora de ver la actualizaci√≥n en acci√≥n!

```
üß™ Time to test the Capgo update system!
üì± Go to your device where the app is running
```

**Para actualizaciones instant√°neas:**
```
üîÑ IMPORTANT: Background your app (swipe up/press home button) and then reopen it
‚è±Ô∏è  The update should be downloaded and applied automatically
```

**Para actualizaciones est√°ndar:**
```
üì± With standard updates, you will need to:
   1. Background the app (swipe up/press home button) to start download
   2. Wait a few seconds for download to complete
   3. Background and foreground again to see the update
```

**Monitorear registros:**
```
‚ùì Monitor Capgo logs to verify the update worked?
```

Si seleccionas **S√≠**, ver√°s registros en vivo desde tu dispositivo mostrando el proceso de actualizaci√≥n.

### Paso 13: Finalizaci√≥n

```
Welcome onboard ‚úàÔ∏è!
```

¬°Felicitaciones! Has configurado exitosamente las actualizaciones en vivo de Capgo para tu aplicaci√≥n.

## Lo Que Has Logrado

Despu√©s de completar la incorporaci√≥n, tienes:

<CardGrid>
  <Card title="‚úÖ Aplicaci√≥n Registrada" icon="rocket">
    Tu aplicaci√≥n est√° registrada en Capgo con un canal de producci√≥n
  </Card>
  <Card title="‚úÖ Plugin Instalado" icon="puzzle">
    El plugin Capacitor Updater est√° instalado y configurado
  </Card>
  <Card title="‚úÖ C√≥digo Integrado" icon="seti:config">
    El c√≥digo de integraci√≥n est√° agregado a tu aplicaci√≥n
  </Card>
  <Card title="‚úÖ Actualizaci√≥n Probada" icon="approve-check">
    Has implementado y recibido exitosamente una actualizaci√≥n en vivo
  </Card>
</CardGrid>

## Flujo de Trabajo Diario

Para actualizaciones posteriores, usa:

```bash
npm run build
npx @capgo/cli@latest bundle upload --channel=production
```

Para m√°s opciones de implementaci√≥n, consulta [Implementar una Actualizaci√≥n en Vivo](/docs/getting-started/deploy/).

## Reanudar la Incorporaci√≥n

Si sales del proceso de incorporaci√≥n, puedes reanudarlo en cualquier momento:

```bash
npx @capgo/cli@latest init [APIKEY]
```

Ver√°s:
```
You have already got to the step {stepNumber}/13 in the previous session
‚ùì Would you like to continue from where you left off?
```

<Aside type="tip">
El progreso se guarda localmente, por lo que puedes salir y reanudar el proceso de incorporaci√≥n de forma segura.
</Aside>

## Soluci√≥n de Problemas

### Sin Entorno de Desarrollo

**Problema:** No se detecta ni Xcode ni Android SDK.

**Soluci√≥n:**
- **Para iOS**: Instala [Xcode](https://developer.apple.com/xcode/) (solo macOS)
- **Para Android**: Instala [Android Studio](https://developer.android.com/studio)

### ID de Aplicaci√≥n Ya en Uso

**Problema:** Tu ID de aplicaci√≥n ya est√° registrado.

**Soluci√≥n:** Elige una de las alternativas sugeridas o ingresa un ID de aplicaci√≥n personalizado en notaci√≥n de dominio inverso.

### Falta Script de Compilaci√≥n

**Problema:** No se encuentra script de compilaci√≥n en `package.json`.

**Soluci√≥n:** Agrega un script de compilaci√≥n a tu `package.json`:
```json
{
  "scripts": {
    "build": "your-build-command"
  }
}
```

### Inyecci√≥n Autom√°tica Fall√≥

**Problema:** La CLI no puede inyectar autom√°ticamente el c√≥digo de integraci√≥n.

**Soluci√≥n:** Agrega el c√≥digo manualmente a tu archivo principal:
```typescript
import { CapacitorUpdater } from '@capgo/capacitor-updater'

CapacitorUpdater.notifyAppReady()
```

### Versi√≥n de Capacitor Muy Antigua

**Problema:** Tu versi√≥n de Capacitor est√° por debajo de v5.

**Soluci√≥n:** Actualiza Capacitor a v5 o superior:
- [Actualizar a Capacitor 5](https://capacitorjs.com/docs/updating/5-0)
- [Actualizar a Capacitor 6](https://capacitorjs.com/docs/updating/6-0)
- [Actualizar a Capacitor 7](https://capacitorjs.com/docs/updating/7-0)

## Pr√≥ximos Pasos

Ahora que has completado la incorporaci√≥n, explora estos temas:

<CardGrid>
  <a href="/docs/getting-started/deploy/"><Card title="Implementar Actualizaciones" icon="rocket">
    Aprende c√≥mo implementar actualizaciones desde el panel de Capgo
  </Card></a>
  <a href="/docs/live-updates/update-types/"><Card title="Tipos de Actualizaci√≥n" icon="book">
    Referencia de todos los tipos de actualizaci√≥n OTA: momento de aplicaci√≥n, condiciones de retraso, bloqueo de versi√≥n y entrega
  </Card></a>
  <a href="/docs/getting-started/cicd-integration/"><Card title="Integraci√≥n CI/CD" icon="setting">
    Automatiza tus implementaciones de actualizaci√≥n con CI/CD
  </Card></a>
  <a href="/docs/live-updates/channels/"><Card title="Canales" icon="list-format">
    Gestiona m√∫ltiples flujos de actualizaci√≥n con canales
  </Card></a>
  <a href="/docs/live-updates/encryption/"><Card title="Cifrado" icon="approve-check-circle">
    Asegura tus actualizaciones con cifrado de extremo a extremo
  </Card></a>
  <a href="/docs/live-updates/update-behavior/"><Card title="Comportamiento de Actualizaci√≥n" icon="setting">
    Personaliza cu√°ndo y c√≥mo se aplican las actualizaciones (direct, delta, etc.)
  </Card></a>
</CardGrid>

## Obtener Ayuda

Si encuentras problemas durante la incorporaci√≥n:

- Consulta la [Gu√≠a de Soluci√≥n de Problemas](/docs/getting-started/troubleshooting/)
- √önete a la [Comunidad Discord](https://discord.capgo.app)
- Revisa las [Preguntas Frecuentes](/docs/faq/)
- Contacta al [Soporte](/docs/getting-help/)
