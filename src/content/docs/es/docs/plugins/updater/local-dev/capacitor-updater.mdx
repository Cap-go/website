---
title: "Usando el Capacitor updater con Capgo auto-hospedado"
locale: es
description: "Cómo usar el Capacitor updater con Capgo auto-hospedado, ser completamente autónomo con tu propia instancia de Capgo"
sidebar:
    order: 4
---

## ¿Qué cubrirá este Tutorial?

Este Tutorial mostrará cómo usar el Capacitor updater en un entorno de desarrollo con Capgo auto-hospedado

## Requisitos

 1. [Capgo clonado](https://github.com/Cap-go/capgo)

## Comenzando

Para usar el Capacitor updater con Capgo auto-hospedado, edita el `capacitor.config.ts` desde el directorio de tu aplicación y configúralo así:

```ts
const config: CapacitorConfig = {
  appId: 'com.demo.app',
  appName: 'demoApp',
  webDir: 'dist',
  bundledWebRuntime: false,
  plugins: {
    CapacitorUpdater : {
      statsUrl: "https://localhost:54321/functions/v1/stats",
      channelUrl: "https://localhost:54321/functions/v1/channel_self",
      updateUrl: "https://localhost:54321/functions/v1/updates"
    },
  },
};
```

Esto te permitirá usar Capgo local en desarrollo. Sin embargo, por defecto, esto no es suficiente.

> Por defecto, tanto iOS como Android esperan que uses HTTPS, necesitas usar una herramienta como Ngrock o localcan para hacer proxy de tu API en HTTPS.

Hay una manera en Android de habilitar [comunicación de texto plano](https://developer.android.com/topic/security/risks/cleartext).
Esto se puede lograr modificando [AndroidManifest.xml](https://github.com/Cap-go/capacitor-updater/blob/main/android/src/main/AndroidManifest.xml) y agregando `android:usesCleartextTraffic="true"` en la etiqueta `application`
Un ejemplo completo de este cambio se puede ver [aquí](https://gist.github.com/WcaleNieWolny/061a015acdebe35eaf3afd7030797701)

También podría haber un problema que impida que la aplicación de Android se conecte. Si no ves ninguna solicitud siendo enviada a las funciones edge, ejecuta
```bash
adb reverse tcp:54321 tcp:54321
```
