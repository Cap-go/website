---
title: Inicio de sesi贸n de Apple con Supabase - Configuraci贸n general
description: Aprende a integrar el inicio de sesi贸n de Apple con la autenticaci贸n de Supabase usando el plugin Capacitor Social Login.
sidebar:
    order: 1
---
import { Steps } from '@astrojs/starlight/components';

## Descripci贸n general

Esta gu铆a te ayudar谩 a integrar el inicio de sesi贸n de Apple con la autenticaci贸n de Supabase. El inicio de sesi贸n de Apple proporciona un m茅todo de autenticaci贸n seguro y centrado en la privacidad que funciona en las plataformas iOS, Android y Web.

## Requisitos previos

Antes de comenzar, aseg煤rate de tener:

1. [Creado un proyecto de Supabase](https://database.new/)
2. Le铆do la gu铆a de [Configuraci贸n general de inicio de sesi贸n de Apple](/docs/plugins/social-login/apple/general/) para configurar las credenciales de OAuth de Apple
3. Seguido las gu铆as espec铆ficas de cada plataforma respectivas para configurar las credenciales de OAuth de Apple para tu plataforma objetivo:
    - [Configuraci贸n de Android](/docs/plugins/social-login/apple/android/)
    - [Configuraci贸n de iOS](/docs/plugins/social-login/apple/ios/)
    - [Configuraci贸n de Web](/docs/plugins/social-login/apple/web/)

    :::note
        Antes de comenzar el tutorial de Supabase, necesitas generar los IDs de cliente para las plataformas que planeas usar.


        Para iOS, el ID de cliente es el mismo que tu ID de aplicaci贸n.
        Para Android y Web, el ID de cliente es el mismo que tu ID de servicio.
        Los usar谩s en el paso 7 de esta gu铆a.
    :::

## Habilitar el proveedor OAuth de Apple en Supabase

<Steps>
1. Ve a tu [Panel de Supabase](https://app.supabase.com/)
2. Haz clic en tu proyecto
    <img src="/social-login-assets/supabase_project_select.webp" alt="Selector de proyecto de Supabase" />
3. Ve al men煤 `Authentication` (Autenticaci贸n)
    <img src="/social-login-assets/supabase_authentication_menu.webp" alt="Men煤 de autenticaci贸n de Supabase" />
4. Haz clic en la pesta帽a `Providers` (Proveedores)
    <img src="/social-login-assets/supabase_providers_tab.webp" alt="Pesta帽a de proveedores de Supabase" />
5. Encuentra el proveedor `Apple`
    <img src="/social-login-assets/supabase_apple_provider.webp" alt="Proveedor de Apple de Supabase" />
6. Habilita el proveedor `Apple`
    <img src="/social-login-assets/supabase_apple_provider_enable.webp" alt="Habilitar proveedor de Apple de Supabase" />
7. Completa la configuraci贸n del ID de cliente:

    :::note
      Si est谩s usando el inicio de sesi贸n de Apple para iOS, el ID de cliente es el mismo que tu ID de aplicaci贸n.
      Si est谩s usando el inicio de sesi贸n de Apple para Android o Web, el ID de cliente es el mismo que tu ID de servicio.
      Si est谩s usando ambos, necesitas proporcionar tanto el ID de aplicaci贸n como el ID de servicio.
    :::

    <img src="/social-login-assets/supabase_apple_provider_client_id.webp" alt="ID de cliente del proveedor de Apple de Supabase" />
8. Haz clic en el bot贸n `Save` (Guardar)
    <img src="/social-login-assets/supabase_apple_provider_save.webp" alt="Guardar proveedor de Apple de Supabase" />


    :::note
      __**NO TIENES QUE**__ configurar la `Secret key (for OAuth)` (Clave secreta para OAuth). Haremos una implementaci贸n backend personalizada para manejar el inicio de sesi贸n de Apple.
    :::
</Steps>

隆Voil, ahora has habilitado el inicio de sesi贸n de Apple con la autenticaci贸n de Supabase! 

## Usar el ayudante de autenticaci贸n

La implementaci贸n completa incluye una funci贸n auxiliar `authenticateWithAppleSupabase()` que maneja todo el flujo de inicio de sesi贸n de Apple con Supabase. Esta funci贸n:

- Inicializa el inicio de sesi贸n de Apple con configuraci贸n espec铆fica de la plataforma
- Maneja el flujo de autenticaci贸n (nativo en iOS, redirecci贸n OAuth en Android/Web)
- Extrae el token de identidad de Apple
- Inicia sesi贸n en Supabase con el token de identidad

:::tip[Implementaci贸n completa]
La implementaci贸n completa est谩 disponible en el archivo [`supabaseAuthUtils.ts` de la aplicaci贸n de ejemplo](https://github.com/Cap-go/capacitor-social-login/blob/main/example-app/src/supabaseAuthUtils.ts).
:::

### Uso b谩sico

```typescript
import { authenticateWithAppleSupabase } from './supabaseAuthUtils';

const result = await authenticateWithAppleSupabase();
if (result.success) {
  console.log('Sesi贸n iniciada:', result.user);
  // Navega a tu 谩rea autenticada
} else {
  console.error('Error:', result.error);
}
```

### C贸mo funciona

La funci贸n auxiliar maneja autom谩ticamente las diferencias espec铆ficas de la plataforma:

- **iOS**: Usa el inicio de sesi贸n de Apple nativo (no necesita URL de redirecci贸n, usa el ID de paquete autom谩ticamente)
- **Android**: Usa el flujo de redirecci贸n OAuth con funci贸n edge backend (requiere ID de servicio)
- **Web**: Usa el flujo de ventana emergente OAuth (requiere ID de servicio y URL de p谩gina actual como redirecci贸n)

La funci贸n devuelve un token de identidad de Apple, que luego se usa para autenticarse con Supabase usando `supabase.auth.signInWithIdToken()`.
