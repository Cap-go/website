---
title: Comenzar
description: Aprende cómo instalar y usar el plugin Native Market para redirigir usuarios a Google Play Store o Apple App Store desde tu aplicación Capacitor.
locale: es
sidebar:
  order: 2
---

import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Code, Steps } from '@astrojs/starlight/components';
import { PackageManagers } from 'starlight-package-managers'

<Steps>
1. **Instalar el paquete**
   <PackageManagers pkg="@capgo/native-market" pkgManagers={['npm', 'pnpm', 'yarn', 'bun']} />

2. **Sincronizar con proyectos nativos**
   <PackageManagers type="exec" pkg="cap" args="sync" pkgManagers={['npm', 'pnpm', 'yarn', 'bun']} />
</Steps>

## Uso

Importa el plugin y usa sus métodos para redirigir usuarios a las tiendas de aplicaciones:

```typescript
import { NativeMarket } from '@capgo/native-market';

// Abrir listado en la tienda de aplicaciones
const openAppStore = async () => {
  await NativeMarket.openStoreListing({
    appId: 'com.example.app' // El ID de paquete de tu aplicación
  });
};

// Solicitar reseña de la aplicación
const requestReview = async () => {
  await NativeMarket.requestReview();
};

// Abrir búsqueda en la tienda de aplicaciones
const searchInStore = async () => {
  await NativeMarket.search({
    terms: 'fitness app' // Términos de búsqueda
  });
};
```

## Referencia de API

### openStoreListing(options)

Abre el listado de la tienda de aplicaciones para la aplicación especificada.

```typescript
interface OpenStoreListingOptions {
  appId: string; // Bundle ID en iOS, Nombre de paquete en Android
}
```

### requestReview()

Solicita una reseña dentro de la aplicación del usuario. En iOS 10.3+, esto muestra el diálogo de calificación sin salir de la aplicación.

### search(options)

Abre la tienda de aplicaciones con resultados de búsqueda.

```typescript
interface SearchOptions {
  terms: string; // Términos de búsqueda a usar
}
```

## Notas de Plataforma

### iOS
- Usa `SKStoreReviewController` para reseñas dentro de la aplicación en iOS 10.3+
- Vuelve a abrir App Store para versiones anteriores

### Android
- Abre Google Play Store
- Usa la API de reseñas dentro de la aplicación cuando está disponible

## Ejemplo

```typescript
import { NativeMarket } from '@capgo/native-market';
import { Capacitor } from '@capacitor/core';

export class AppService {
  async rateApp() {
    try {
      // Intentar reseña dentro de la aplicación primero
      await NativeMarket.requestReview();
    } catch (error) {
      // Alternativa a abrir el listado de la tienda
      const platform = Capacitor.getPlatform();
      const appId = platform === 'ios'
        ? 'id123456789' // Tu ID de aplicación iOS
        : 'com.example.app'; // Tu nombre de paquete Android

      await NativeMarket.openStoreListing({ appId });
    }
  }
}
