---
title: üèóÔ∏è Construir
description: Compila aplicaciones m√≥viles nativas en la nube y env√≠alas a Aplicaci√≥n Store y Play Store directamente desde tu CLI.
sidebar_label: Construir
locale: es
sidebar:
  order: 5
---

import { Card, CardGrid } from '@astrojs/starlight/components';

üèóÔ∏è Compila aplicaciones m√≥viles nativas en la nube y env√≠alas autom√°ticamente a Aplicaci√≥n Store y Play Store.

## Descripci√≥n General

El comando `build` te permite compilar tu aplicaci√≥n Capacitor para iOS y Android en la infraestructura en la nube de Capgo, similar a c√≥mo Expo maneja las compilaciones. Tu aplicaci√≥n se compila en infraestructura dedicada y puede enviarse autom√°ticamente a las tiendas de aplicaciones.

**Estado Actual:** Beta P√∫blica

## ¬øPor Qu√© Usar Construcci√≥n en la nube?

Compilar aplicaciones m√≥viles nativas tradicionalmente requiere:
- **Hardware Mac** para compilaciones iOS ($1000+ o costosos minutos de CI)
- **Configuraci√≥n compleja de CI/CD** con cach√© y credenciales
- **Sobrecarga de mantenimiento** para Xcode, Android Studio y SDKs

Con Capgo Construcci√≥n en la nube, obtienes:
- ‚úÖ **No se requiere Mac** - Compila aplicaciones iOS desde cualquier m√°quina
- ‚úÖ **Sin configuraci√≥n** - No se necesita configuraci√≥n de CI/CD
- ‚úÖ **Probado en batalla** - Construido sobre 3 a√±os de uso interno en producci√≥n
- ‚úÖ **Seguro** - Sin almacenamiento de registros, limpieza autom√°tica
- ‚úÖ **Solo nativo** - Tu JavaScript se mantiene privado

## Inicio R√°pido

```bash
npx @capgo/cli@latest build com.example.app
```

¬°Eso es todo! Tu aplicaci√≥n se compilar√° en la nube y ver√°s registros en tiempo real.

## Secciones de Documentaci√≥n

<CardGrid>
  <Card title="‚ö†Ô∏è Configura las Credenciales PRIMERO" icon="Advertencia">
    **Requerido antes de compilar:** Guarda tus credenciales iOS/Android localmente.

    [Configurar Credenciales ‚Üí](/docs/cli/cloud-build/credentials/)
  </Card>

  <Card title="Comenzar" icon="rocket">
    Crea tu primera compilaci√≥n nativa en minutos.

    [Leer gu√≠a ‚Üí](/docs/cli/cloud-build/getting-started/)
  </Card>

  <Card title="Compilaciones iOS" icon="seti:apple">
    Configura certificados y compila para Aplicaci√≥n Store.

    [Configurar iOS ‚Üí](/docs/cli/cloud-build/ios/)
  </Card>

  <Card title="Compilaciones Android" icon="seti:android">
    Configura keystores y compila para Play Store.

    [Configurar Android ‚Üí](/docs/cli/cloud-build/android/)
  </Card>

  <Card title="Soluci√≥n de Problemas" icon="Advertencia">
    Soluciones a problemas comunes de compilaci√≥n.

    [Obtener ayuda ‚Üí](/docs/cli/cloud-build/troubleshooting/)
  </Card>
</CardGrid>

## Referencia de Comandos

### Uso B√°sico

```bash
npx @capgo/cli@latest build [appId] [opciones]
```

### Ejemplos

Compilar para ambas plataformas:
```bash
npx @capgo/cli@latest build com.example.app
```

Compilar solo para iOS:
```bash
npx @capgo/cli@latest build com.example.app --platform ios
```

Compilar para Android en modo Depuraci√≥n:
```bash
npx @capgo/cli@latest build com.example.app --platform android --build-mode debug
```

Compilar desde un directorio espec√≠fico:
```bash
npx @capgo/cli@latest build com.example.app --path ./my-app
```

### Opciones

| Opci√≥n | Tipo | Por Defecto | Descripci√≥n |
|--------|------|---------|-------------|
| `appId` | string | Capacitor.config | ID de Aplicaci√≥n (ej., com.Ejemplo.Aplicaci√≥n) |
| `--path <ruta>` | string | Directorio actual | Ruta al directorio de tu proyecto |
| `--platform <plataforma>` | string | both | Plataforma objetivo: `ios`, `android`, o `both` |
| `--build-mode <modo>` | string | Lanzamiento | Modo de compilaci√≥n: `debug` o `release` |
| `--build-config <config>` | string | - | Configuraci√≥n adicional de compilaci√≥n como cadena JSON |
| `-a, --apikey <apikey>` | string | - | Clave API (o usa la Variable de entorno `CAPGO_TOKEN`) |
| `--supa-host <url>` | string | https://API.Capgo.Aplicaci√≥n | URL personalizada del host Supabase |
| `--supa-anon <key>` | string | - | Clave anon personalizada de Supabase |

## C√≥mo Funciona

```mermaid
sequenceDiagram
    participant Dev as Desarrollador
    participant CLI as Capgo CLI
    participant Cloud as Capgo Cloud
    participant iOS as Constructor Mac
    participant Android as Constructor Android

    Dev->>CLI: build com.example.app
    CLI->>CLI: Comprimir proyecto localmente
    CLI->>Cloud: Subir a R2
    Cloud->>iOS: Aprovisionar Mac (iOS)
    Cloud->>Android: Iniciar sandbox (Android)
    iOS-->>CLI: Stream de registros (SSE)
    Android-->>CLI: Stream de registros (SSE)
    iOS->>Cloud: Compilaci√≥n completa
    Android->>Cloud: Compilaci√≥n completa
    Cloud->>iOS: Limpieza (24h despu√©s)
    Cloud->>Android: Limpieza (instant√°nea)
    CLI->>Dev: Compilaci√≥n exitosa
```

### Proceso de Compilaci√≥n

1. **Preparaci√≥n Local** - Tu proyecto se comprime localmente (excluyendo `node_modules`, archivos ocultos)
2. **Subida** - El archivo zip se sube a almacenamiento en la nube seguro (Cloudflare R2)
3. **Ejecuci√≥n de Compilaci√≥n**:
   - **iOS**: Se aprovisiona m√°quina Mac dedicada, Fastlane compila y firma
   - **Android**: Se crea sandbox seguro, Gradle compila y firma
4. **Streaming de Registros** - Registros en tiempo real v√≠a Server-Sent Events (¬°no se almacenan!)
5. **Limpieza Autom√°tica**:
   - **iOS**: Archivos eliminados despu√©s de 24 horas cuando se libera la m√°quina
   - **Android**: Todo se elimina instant√°neamente despu√©s de la compilaci√≥n

## Nuestra Experiencia

Capgo Construcci√≥n en la nube no es infraestructura nueva - la hemos estado usando internamente durante **3 a√±os**:

- ‚úÖ **Fastlane Personalizado** - Construido espec√≠ficamente para aplicaciones Capacitor
- ‚úÖ **Miles de compilaciones** - Probado en batalla en producci√≥n
- ‚úÖ **Expertos en Capacitor** - Conocimiento profundo de lo que importa
- ‚úÖ **Enfoque solo en nativo** - Tu JavaScript nunca toca nuestros servidores

## Seguridad y Privacidad

- **Sin almacenamiento de registros** - Los registros solo se transmiten a tu terminal, nunca se guardan
- **Sin almacenamiento de artefactos** - Las aplicaciones se env√≠an directamente a Aplicaci√≥n Store/Play Store, no guardamos nada
- **Credenciales auto-eliminadas** - Solo se usan durante la compilaci√≥n, eliminadas despu√©s (m√°x. 24h)
- **Compilaciones aisladas** - Cada compilaci√≥n se ejecuta en aislamiento
- **Tu c√≥digo sigue siendo tuyo** - Solo compilamos partes nativas, JavaScript permanece local

## Integraci√≥n CI/CD

Funciona en todas partes - GitHub Actions, GitLab CI, o cualquier plataforma CI/CD:

```yaml
- name: Build native app
  env:
    CAPGO_TOKEN: ${{ secrets.CAPGO_TOKEN }}
  run: |
    npm run build
    npx cap sync
    npx @capgo/cli@latest build com.example.app \
      --platform both \
      --build-mode release
```

No necesitas:
- Runners Mac
- Instalaci√≥n de Android SDK
- Instalaci√≥n de Xcode
- Cach√© complejo
- Gesti√≥n de credenciales

## Precios

El tiempo de compilaci√≥n se factura seg√∫n el uso real:

- **Android**: Multiplicador 1√ó (~$0.XX por minuto)
- **iOS**: Multiplicador 2√ó (~$0.XX por minuto, debido al hardware Mac)

**Costos t√≠picos:**
- Depuraci√≥n Android: 3 min √ó 1√ó = ~$X.XX
- Lanzamiento iOS: 7 min √ó 2√ó = ~$X.XX

Solo pagas por lo que usas. Sin m√≠nimos, sin sorpresas.

## Comparaci√≥n con Otras Soluciones

| Caracter√≠stica | Capgo Construcci√≥n en la nube | GitHub Actions (Mac) | Expo EAS |
|---------|------------------|---------------------|----------|
| **Mac requerido localmente** | ‚ùå No | ‚úÖ S√≠ | ‚ùå No |
| **Complejidad de configuraci√≥n** | ‚≠ê Comando √∫nico | ‚≠ê‚≠ê‚≠ê YAML complejo | ‚≠ê‚≠ê Archivos de config |
| **Nativo Capacitor** | ‚úÖ Optimizado | ‚ö†Ô∏è Gen√©rico | ‚ùå Solo Expo |
| **Privacidad de tu c√≥digo** | ‚úÖ Nunca almacenado | ‚ö†Ô∏è En runners | ‚ö†Ô∏è Subido |
| **Costo (iOS)** | üí∞ 2√ó base | üí∞üí∞üí∞ 10√ó costoso | üí∞üí∞ Premium |

## Qu√© se Compila

**Importante:** Capgo compila **solo partes nativas**.

‚úÖ **Nosotros compilamos:**
- C√≥digo nativo iOS (Swift, Objective-C, proyectos Xcode)
- C√≥digo nativo Android (Java, Kotlin, proyectos Gradle)
- Firma de c√≥digo y env√≠o a tiendas de aplicaciones

‚ùå **T√∫ compilas (localmente):**
- JavaScript, HTML, CSS (`npm run build`)
- Sincronizaci√≥n Capacitor (`npx cap sync`)
- Tus recursos web

Esta separaci√≥n asegura:
- **Mejor seguridad** - La l√≥gica de tu aplicaci√≥n permanece privada
- **Compilaciones m√°s r√°pidas** - Sin compilaciones web duplicadas
- **Responsabilidad clara** - T√∫ controlas tu c√≥digo

## Limitaciones

Limitaciones actuales durante la beta p√∫blica:

- **Tiempo de espera de compilaci√≥n**: M√°ximo 10 minutos
- **Tiempo de espera de subida**: 1 hora para URL de subida
- **M√°quina iOS**: Requisito de arrendamiento de 24 horas, la compilaci√≥n en Mac se pondr√° en cola para asegurar un uso √≥ptimo
- **Acceso**: Solo beta p√∫blica

## Comenzar

¬øListo para compilar sin complicaciones?

<CardGrid>
  <Card title="Crea Tu Primera Compilaci√≥n" icon="rocket">
    Gu√≠a paso a paso para tu primera compilaci√≥n en la nube.

    [Comenzar ‚Üí](/docs/cli/cloud-build/getting-started/)
  </Card>

  <Card title="√önete a la Beta P√∫blica" icon="star">
    Construcci√≥n en la nube est√° en beta p√∫blica. √önete a nuestra comunidad para obtener acceso.

    [√önete a Discord ‚Üí](https://discord.com/invite/VnYRvBfgA6)
  </Card>
</CardGrid>

## Aprende M√°s

- [Gu√≠a de Comenzar](/docs/cli/cloud-build/getting-started/) - Crea tu primera compilaci√≥n
- [Configuraci√≥n iOS](/docs/cli/cloud-build/ios/) - Configura compilaciones iOS
- [Configuraci√≥n Android](/docs/cli/cloud-build/android/) - Configura compilaciones Android
- [Soluci√≥n de Problemas](/docs/cli/cloud-build/troubleshooting/) - Problemas comunes y soluciones
- [Blog: Presentamos Cloud Build](/blog/introducing-capgo-cloud-build/) - Anuncio de caracter√≠stica

## ¬øNecesitas Ayuda?

- üìö [Gu√≠a de soluci√≥n de problemas](/docs/cli/cloud-build/troubleshooting/)
- üí¨ [Comunidad Discord](https://discord.com/invite/VnYRvBfgA6)
- üìß Email: support@Capgo.Aplicaci√≥n
