---
title: Miembros
description: >-
  Guía completa para gestionar miembros de la organización en Capgo, cubriendo
  roles, permisos y mejores prácticas para seguridad y colaboración.
sidebar:
  order: 4
locale: es
---

Los miembros de la organización son usuarios que tienen acceso a su organización de Capgo. Cada miembro tiene un rol específico que determina sus permisos dentro de la organización. Gestionar los miembros de manera efectiva es crucial para mantener la seguridad y la colaboración en su equipo.

## Roles de Miembros

### Roles Regulares
- **read**: Puede ver recursos pero no puede hacer cambios
- **upload**: Puede subir nuevos paquetes y ver recursos
- **write**: Puede modificar recursos y subir paquetes
- **admin**: Puede gestionar configuraciones de la organización y miembros
- **super_admin**: Tiene control total sobre la organización

### Roles de Invitación
- **invite_read**: Invitación pendiente para acceso de lectura
- **invite_upload**: Invitación pendiente para acceso de carga
- **invite_write**: Invitación pendiente para acceso de escritura
- **invite_admin**: Invitación pendiente para acceso de administrador
- **invite_super_admin**: Invitación pendiente para acceso de super administrador

## Mejores Prácticas

1. **Asignación de Roles**: Siga el principio de menor privilegio al asignar roles
2. **Auditorías Regulares**: Revise periódicamente el acceso de los miembros y elimine cuentas no utilizadas
3. **Incorporación**: Tenga un proceso claro para agregar nuevos miembros y asignar roles
4. **Baja**: Elimine rápidamente el acceso de los miembros que dejan la organización

## Endpoints

### POST

`https://api.capgo.app/organization/members/`

Agregue un nuevo miembro a una organización o actualice el rol de un miembro existente. Tenga en cuenta que solo puede invitar a usuarios que ya tienen una cuenta de Capgo; el correo electrónico debe corresponder a un usuario de Capgo existente.

#### Request Body

```typescript
interface MemberCreate {
  orgId: string
  email: string
  role: "read" | "upload" | "write" | "admin" | "super_admin"
}
```

#### Ejemplo de Solicitud

```bash
curl -X POST \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "newmember@example.com",
    "role": "write"
  }' \
  https://api.capgo.app/organization/members/
```

#### Respuesta de Éxito

```json
{
  "status": "OK",
  "data": {
    "uid": "user_789",
    "email": "newmember@example.com",
    "role": "invite_write",
    "image_url": null
  }
}
```

Notas: 
- Al agregar un nuevo miembro, recibirá un correo electrónico de invitación. Su rol tendrá el prefijo "invite_" hasta que acepte la invitación.
- El usuario ya debe tener una cuenta de Capgo antes de poder ser invitado. Si no tiene una cuenta, primero debe crear una en https://console.capgo.app/register/

### GET 

`https://api.capgo.app/organization/members/`

Recupere todos los miembros de una organización.

#### Parámetros de Consulta

```typescript
interface MemberQuery {
  orgId: string
}
```

#### Tipo de Respuesta

```typescript
interface Member {
  uid: string;
  email: string;
  image_url: string;
  role: "invite_read" | "invite_upload" | "invite_write" | "invite_admin" | "invite_super_admin" | "read" | "upload" | "write" | "admin" | "super_admin";
}
```

#### Ejemplo de Solicitud

```bash
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/organization/members/?orgId=org_123"
```

#### Ejemplo de Respuesta

```json
{
  "data": [
    {
      "uid": "user_123",
      "email": "john@example.com",
      "image_url": "https://example.com/avatar.png",
      "role": "admin"
    },
    {
      "uid": "user_456",
      "email": "jane@example.com",
      "image_url": "https://example.com/avatar2.png",
      "role": "write"
    },
    {
      "uid": "user_789",
      "email": "bob@example.com",
      "image_url": null,
      "role": "invite_read"
    }
  ]
}
```

### DELETE

`https://api.capgo.app/organization/members/`

Elimine un miembro de una organización. Esto revocará inmediatamente su acceso.

#### Request Body

```typescript
interface MemberDelete {
  orgId: string
  email: string
}
```

#### Ejemplo de Solicitud

```bash
curl -X DELETE \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "user@example.com"
  }' \
  https://api.capgo.app/organization/members/
```

#### Respuesta de Éxito

```json
{
  "status": "OK"
}
```

## Manejo de Errores

Escenarios de error comunes y sus respuestas:

```json
// Miembro no encontrado
{
  "error": "Member not found",
  "status": "KO"
}

// Rol inválido
{
  "error": "Invalid role specified",
  "status": "KO"
}

// Permiso denegado
{
  "error": "Insufficient permissions to manage members",
  "status": "KO"
}

// No se puede eliminar el último administrador
{
  "error": "Cannot remove the last admin from the organization",
  "status": "KO"
}

// Correo electrónico inválido
{
  "error": "Invalid email format",
  "status": "KO"
}

// El miembro ya existe
{
  "error": "Member already exists in organization",
  "status": "KO"
}
```

## Casos de Uso Comunes

1. **Expansión del Equipo**: Agregar nuevos miembros del equipo con roles apropiados
2. **Control de Acceso**: Gestionar permisos de miembros a medida que cambian las responsabilidades
3. **Auditoría de Seguridad**: Revisar periódicamente la lista de miembros y roles
4. **Reestructuración del Equipo**: Actualizar roles durante cambios organizacionales
