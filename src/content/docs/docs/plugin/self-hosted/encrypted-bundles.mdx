---
title: "Encrypted Bundles"
description: "A comprehensive guide on utilizing the manual update plugin in a self-hosted environment, detailing the steps and processes involved in managing encrypted bundles for secure and efficient updates."
sidebar:
  order: 5
---
import { LinkCard, CardGrid } from '@astrojs/starlight/components';

## End-to-end Encryption

Starting with version 4.15.0 the plugin allows you to send encrypted updates.
To begin start by creating a private key.
```bash title='Create a private key'
npx @capgo/cli key create
```

Then you zip your app bundle
```bash title="Zip app bundle"
npx @capgo/cli bundle zip
```

Then you encrypt your zip
```bash title="Encrypt bundled zip"
npx @capgo/cli bundle encrypt [path/to/zip] [checksum]
```

The command will print you encrypted `checksum` and `ivSessionKey` that has to be sent with your update payload. Remember to rename `ivSessionKey` key as `session_key` in the update payload.

```json
{
"version": "1.2.3",
"url": "https://myserver.com/app/updates/my-new-app-2.0.0.zip",
"checksum": "encrypted_checksum",
"session_key": "encrypted_session_key",
}
```
Then your app will be able to use the private key to decrypt the `session_key` and use the decrypted `session_key` to decrypt the update.



Learn more about it here:

<LinkCard
	title="Self-hosted Live Updates"
	href="https://capgo.app/blog/self-hosted-live-updates/"
/>
