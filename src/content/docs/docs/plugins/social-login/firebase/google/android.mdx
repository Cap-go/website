---
title: Firebase Google Login on Android
description: Learn how to set up Google Sign-In with Firebase Authentication on Android using the Capacitor Social Login plugin.
sidebar:
    order: 2
---
import { Steps } from '@astrojs/starlight/components';

## Introduction

This guide will help you integrate Google Sign-In with Firebase Authentication on Android. I assume you have already completed the [general Firebase Google setup](./general/) 

:::note
I will assume that you have not yet created your Android app in the Firebase Console. If you have, your steps will be slightly different.
:::

## Setup Steps

<Steps>
1. Go to your project overview over at [console.cloud.google.com](https://console.cloud.google.com/)
    <img src="/social-login-assets/firebase_project_overview.webp" alt="Firebase Project Overview" />

2. Click on the `Add app` button
    <img src="/social-login-assets/firebase_project_add_app.webp" alt="Firebase Add App Button" />

    :::note
    It is possible that you will have to look here for this button. This applies only if you have already created a different app in the Firebase Console.
    :::

    <img src="/social-login-assets/firebase_project_add_app_2.webp" alt="Firebase Add App Button" />

3. Select `Android`
    <img src="/social-login-assets/firebase_project_add_app_android.webp" alt="Firebase Add App Android Button" />

4. Fill the first part of the form
   1. Fill the `Android package name`
      1. Open Android Studio at your app using `npx cap open android`
      2. At the very bottom of the navigator, find the `Gradle Scripts`
         <img src="/social-login-assets/studio_gradle_scripts.png" alt="Gradle Scripts section in Android Studio project navigator" />
      3. Find `build.gradle` for the module `app`
         <img src="/social-login-assets/studio_build_gradle.png" alt="build.gradle (Module: app) file in Gradle Scripts section" />
      4. Copy the `android.defaultConfig.applicationId`. This will be your `package name` in the Firebase console
         <img src="/social-login-assets/studio_build_gradle_app_id.png" alt="Build.gradle file showing applicationId configuration" />
      :::note
      The ID shown here will differ from the one I will use for the rest of the guide. I will use `app.capgo.plugin.SocialLogin` for the rest of the guide.
      :::
      5. Paste it in the Firebase console
          <img src="/social-login-assets/firebase_project_add_app_android_package_name.webp" alt="Firebase Add App Android Package Name Field" />
    2. Click on the `Register app` button
        <img src="/social-login-assets/firebase_project_add_app_android_register.webp" alt="Firebase Add App Android Register Button" />
5. Skip the `Download and then add config file` step
    <img src="/social-login-assets/firebase_project_add_app_android_skip_download.webp" alt="Firebase Add App Android Skip 'Download and then add config file'" />
6. Skip the `Add firebase SDK` step
   <img src="/social-login-assets/firebase_project_add_app_android_skip_download_firebase_sdk.webp" alt="Firebase Add App Android Skip 'Add firebase SDK'" />
7. Click on the `Continue to console` button
   <img src="/social-login-assets/firebase_project_add_app_android_continue_to_console.webp" alt="Firebase Add App Android Continue to Console Button" />
8. If you do not get automatically authenticated, go to `settings` -> `general` -> `your apps` -> find your android app and click on it
   <img src="/social-login-assets/firebase_project_add_app_android_settings_general_your_apps.webp" alt="Firebase Add App Android Settings General Your Apps Button" />
9. Get your SHA1 fingerprint
   
   Follow steps 10-11 from the [Google Login Android setup guide](/docs/plugins/social-login/google/android/#using-google-login-on-android):
   
   1. Now, open the terminal. Make sure that you are in the `android` folder of your app and run `./gradlew signInReport`
      <img src="/social-login-assets/term_sign_report.png" alt="Terminal showing gradlew signInReport command" />
   
   2. Scroll to the top of this command. You should see the following. Copy the `SHA1`.
      <img src="/social-login-assets/term_sign_report_res.png" alt="Terminal output showing SHA1 certificate fingerprint" />

   :::note
   I will use a slightly different SHA1 for the rest of the guide, because I have changed computes since writing the original Google login android setup guide.
   :::

   :::caution
   The SHA1 is very important to get right. If you mess up, the authentication will fail in strange ways.
   Please __**[READ THE GOOGLE LOGIN ANDROID SETUP GUIDE](/docs/plugins/social-login/google/android/#using-google-login-on-android)**__ to get it right.
   :::
   
10. Add the SHA1 to the Firebase project
      1. Click on the `Add fingerprint` button
         <img src="/social-login-assets/firebase_project_add_app_android_add_fingerprint.webp" alt="Firebase Add App Android Add Fingerprint Button" />
      2. Paste the SHA1 you copied in the previous step
         <img src="/social-login-assets/firebase_project_add_app_android_add_fingerprint_sha1.webp" alt="Firebase Add App Android Add Fingerprint SHA1 Field" />
      3. Click on the `Save` button
         <img src="/social-login-assets/firebase_project_add_app_android_add_fingerprint_add.webp" alt="Firebase Add App Android Add Fingerprint Save Button" />

11. Get your web client ID
      1. Go to `Build` -> `Authentication`
         <img src="/social-login-assets/firebase_select_authentication.webp" alt="Firebase Authentication Menu" />
      2. Click on the `Sign-in method` button
         <img src="/social-login-assets/firebase_select_authentication_sign_in_method.webp" alt="Firebase Authentication Sign-in Method Button" />
      3. Click on the `Google` provider
         <img src="/social-login-assets/firebase_select_authentication_sign_in_method_google.webp" alt="Firebase Authentication Sign-in Method Google Provider" />
      4. Click on the `Web SDK configuration` button
         <img src="/social-login-assets/firebase_select_authentication_sign_in_method_web_sdk_configuration.webp" alt="Firebase Authentication Sign-in Method Web SDK Configuration Button" />
      5. Copy the `Web client ID`. This will be your `webClientId` in the `initialize` method of the plugin.
        <img src="/social-login-assets/firebase_select_authentication_sign_in_method_web_sdk_configuration_web_client_id.webp" alt="Firebase Authentication Sign-in Method Web SDK Configuration Web Client ID" />
12. Use the web client ID in JS.
      :::note
      I recommend using the `authenticateWithGoogle` helper function available in the [authUtils.ts](https://github.com/Cap-go/capacitor-social-login/blob/main/example-app/src/authUtils.ts) file of the example app.
      :::
</Steps>

At this point, you are **__TECHNICALLY__** ready to use Google Sign-In with Firebase Authentication on Android. However, I would recommend double-checking the setup in the Google Cloud console as explained in the next step.

## Double-check the setup in Google Cloud console

In order to make sure that the setup is correct, you should double-check the setup in the Google Cloud console.
<Steps>
   1. Go to [console.cloud.google.com](https://console.cloud.google.com/)
   2. Find your project
      1. Click on the project selector
         <img src="/social-login-assets/firebase_double_check_gc_project_select.webp" alt="Google Cloud Console Project Selector" />
      2. Search up your project by the exact name of your Firebase project and click on it. In my case, it is `sociallogin-tutorial-app`.
         <img src="/social-login-assets/firebase_gc_project_select_project.webp" alt="Firebase Project Selector Project" />
   3. Open the search bar and open `credentials`
      1. Open the search bar
         <img src="/social-login-assets/firebase_double_check_gc_search_bar.webp" alt="Google Cloud Console Search Bar" />
      2. Search for `credentials` and click on the `APIs and Services` one (number 2 on the screenshot)
         <img src="/social-login-assets/firebase_gc_credentials_search.webp" alt="Google Cloud Console Credentials Search" />
   4. Verify that you see both the Android and Web client IDs in the list.
      <img src="/social-login-assets/firebase_gc_credentials_list.webp" alt="Google Cloud Console Credentials List" />

      :::caution
      If you do not see both the Android and Web client IDs in the list, you have made a mistake in the setup. Please go back and check your steps.

      It is also possible, and it has happened to me, that you already have added the Android SHA1 hash with the same app ID in a different project. This will result in Firbase being unable to create an Android client ID. In this case, you will need to remove the SHA1 from the other project as well as on Firebase (using the Firebase console to remove the android app) and recreate it on Firbase
      :::
   5. Verify that the Android client ID is correctly configured in the Firebase console.
      1. Click on the `Android` app
         <img src="/social-login-assets/firebase_gc_android_app_select.webp" alt="Google Cloud Console Android App Select" />
      2. Confirm that the SHA1 hash is correctly configured and that it matches the one you copied in the previous steps.
         <img src="/social-login-assets/firebase_gc_android_app_sha1_configured.webp" alt="Google Cloud Console Android App SHA1 Configured" />
   6. Verify that the Web client ID is correctly configured in the Firebase console.
      1. Click on the `Web` app
         <img src="/social-login-assets/firebase_gc_web_app_select.webp" alt="Google Cloud Console Web App Select" />
      2. Confirm that the client ID matches the one you copied in the previous steps.
         <img src="/social-login-assets/firebase_gc_web_app_client_id_configured.webp" alt="Google Cloud Console Web App Client ID Configured" />
      :::note
      Please ignore the rest of the settings of the web client. We will discuss this on the [web setup guide](/docs/plugins/social-login/firebase/google/web/).
</Steps>

Voila! You are now ready to use Google Sign-In with Firebase Authentication on Android.

## Troubleshooting

If authentication hangs or fails:

- Verify the `idToken` audience matches your Firebase web client ID
- Check that Google Sign-In is enabled in Firebase Console
- Ensure the SHA-1 fingerprint is correctly configured
- Review the [example app code](https://github.com/Cap-go/capacitor-social-login/tree/main/example-app/src/authUtils.ts) for reference

