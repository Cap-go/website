---
title: Membri
description: >-
  Guida completa alla gestione dei membri dell'organizzazione in Capgo, coprendo
  ruoli, permessi e best practice per sicurezza e collaborazione.
sidebar:
  order: 4
locale: it
---

I membri dell'organizzazione sono utenti che hanno accesso alla tua organizzazione Capgo. Ogni membro ha un ruolo specifico che determina i suoi permessi all'interno dell'organizzazione. Gestire i membri in modo efficace è fondamentale per mantenere la sicurezza e la collaborazione nel tuo team.

## Ruoli dei Membri

### Ruoli Regolari
- **read**: Può visualizzare le risorse ma non può apportare modifiche
- **upload**: Può caricare nuovi bundle e visualizzare le risorse
- **write**: Può modificare le risorse e caricare bundle
- **admin**: Può gestire le impostazioni dell'organizzazione e i membri
- **super_admin**: Ha il controllo completo sull'organizzazione

### Ruoli di Invito
- **invite_read**: Invito in sospeso per l'accesso in lettura
- **invite_upload**: Invito in sospeso per l'accesso al caricamento
- **invite_write**: Invito in sospeso per l'accesso in scrittura
- **invite_admin**: Invito in sospeso per l'accesso amministratore
- **invite_super_admin**: Invito in sospeso per l'accesso super amministratore

## Best Practice

1. **Assegnazione Ruoli**: Segui il principio del minimo privilegio quando assegni i ruoli
2. **Audit Regolari**: Rivedi periodicamente l'accesso dei membri e rimuovi gli account inutilizzati
3. **Onboarding**: Avere un processo chiaro per aggiungere nuovi membri e assegnare ruoli
4. **Offboarding**: Rimuovi prontamente l'accesso per i membri che lasciano l'organizzazione

## Endpoint

### POST

`https://api.capgo.app/organization/members/`

Aggiungi un nuovo membro a un'organizzazione o aggiorna il ruolo di un membro esistente. Nota che puoi invitare solo utenti che hanno già un account Capgo - l'email deve corrispondere a un utente Capgo esistente.

#### Request Body

```typescript
interface MemberCreate {
  orgId: string
  email: string
  role: "read" | "upload" | "write" | "admin" | "super_admin"
}
```

#### Esempio di Richiesta

```bash
curl -X POST \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "newmember@example.com",
    "role": "write"
  }' \
  https://api.capgo.app/organization/members/
```

#### Risposta di Successo

```json
{
  "status": "OK",
  "data": {
    "uid": "user_789",
    "email": "newmember@example.com",
    "role": "invite_write",
    "image_url": null
  }
}
```

Note: 
- Quando si aggiunge un nuovo membro, riceverà un'email di invito. Il suo ruolo avrà il prefisso "invite_" finché non accetta l'invito.
- L'utente deve già avere un account Capgo prima di poter essere invitato. Se non ha un account, deve prima crearne uno su https://console.capgo.app/register/

### GET 

`https://api.capgo.app/organization/members/`

Recupera tutti i membri di un'organizzazione.

#### Parametri Query

```typescript
interface MemberQuery {
  orgId: string
}
```

#### Tipo di Risposta

```typescript
interface Member {
  uid: string;
  email: string;
  image_url: string;
  role: "invite_read" | "invite_upload" | "invite_write" | "invite_admin" | "invite_super_admin" | "read" | "upload" | "write" | "admin" | "super_admin";
}
```

#### Esempio di Richiesta

```bash
curl -H "authorization: your-api-key" \
  "https://api.capgo.app/organization/members/?orgId=org_123"
```

#### Esempio di Risposta

```json
{
  "data": [
    {
      "uid": "user_123",
      "email": "john@example.com",
      "image_url": "https://example.com/avatar.png",
      "role": "admin"
    },
    {
      "uid": "user_456",
      "email": "jane@example.com",
      "image_url": "https://example.com/avatar2.png",
      "role": "write"
    },
    {
      "uid": "user_789",
      "email": "bob@example.com",
      "image_url": null,
      "role": "invite_read"
    }
  ]
}
```

### DELETE

`https://api.capgo.app/organization/members/`

Rimuovi un membro da un'organizzazione. Questo revocherà immediatamente il suo accesso.

#### Request Body

```typescript
interface MemberDelete {
  orgId: string
  email: string
}
```

#### Esempio di Richiesta

```bash
curl -X DELETE \
  -H "authorization: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "orgId": "org_123",
    "email": "user@example.com"
  }' \
  https://api.capgo.app/organization/members/
```

#### Risposta di Successo

```json
{
  "status": "OK"
}
```

## Gestione degli Errori

Scenari di errore comuni e le loro risposte:

```json
// Membro non trovato
{
  "error": "Member not found",
  "status": "KO"
}

// Ruolo non valido
{
  "error": "Invalid role specified",
  "status": "KO"
}

// Permesso negato
{
  "error": "Insufficient permissions to manage members",
  "status": "KO"
}

// Impossibile rimuovere l'ultimo amministratore
{
  "error": "Cannot remove the last admin from the organization",
  "status": "KO"
}

// Email non valida
{
  "error": "Invalid email format",
  "status": "KO"
}

// Il membro esiste già
{
  "error": "Member already exists in organization",
  "status": "KO"
}
```

## Casi d'Uso Comuni

1. **Espansione del Team**: Aggiunta di nuovi membri del team con ruoli appropriati
2. **Controllo Accessi**: Gestione dei permessi dei membri al cambiare delle responsabilità
3. **Audit di Sicurezza**: Revisione periodica della lista dei membri e dei ruoli
4. **Ristrutturazione del Team**: Aggiornamento dei ruoli durante i cambiamenti organizzativi
