---
title: "Utilizzo di capacitor updater con capgo self-hosted"
locale: it
description: "Come utilizzare capacitor updater con Capgo self-hosted, essere completamente autonomi con la propria istanza di Capgo"
sidebar:
    order: 4
---

## Cosa coprirà questo tutorial?

Questo tutorial mostrerà come utilizzare capacitor updater in un ambiente di sviluppo con capgo self-hosted

## Requisiti

 1. [Capgo clonato](https://github.com/Cap-go/capgo)

## Guida Introduttiva

Per utilizzare capacitor updater con capgo self-hosted modifica il `capacitor.config.ts` dalla directory della tua app e impostalo così:

```ts
const config: CapacitorConfig = {
  appId: 'com.demo.app',
  appName: 'demoApp',
  webDir: 'dist',
  bundledWebRuntime: false,
  plugins: {
    CapacitorUpdater : {
      statsUrl: "https://localhost:54321/functions/v1/stats",
      channelUrl: "https://localhost:54321/functions/v1/channel_self",
      updateUrl: "https://localhost:54321/functions/v1/updates"
    },
  },
};
```

Questo ti permetterà di utilizzare capgo locale in sviluppo. Tuttavia, di default, questo non è sufficiente.

> Di default sia IOS che Android si aspettano che tu utilizzi HTTPS, devi usare uno strumento come Ngrock o localcan per proxyare la tua API in https.

C'è un modo in Android per abilitare la [comunicazione in testo semplice](https://developer.android.com/topic/security/risks/cleartext).
Questo può essere ottenuto modificando [AndroidManifest.xml](https://github.com/Cap-go/capacitor-updater/blob/main/android/src/main/AndroidManifest.xml) e aggiungendo `android:usesCleartextTraffic="true"` nel tag `application`
Un esempio completo di questa modifica può essere visto [qui](https://gist.github.com/WcaleNieWolny/061a015acdebe35eaf3afd7030797701)

Potrebbe anche esserci un problema che impedisce all'app android di connettersi. Se non vedi richieste inviate alle edge functions esegui
```bash
adb reverse tcp:54321 tcp:54321
```
