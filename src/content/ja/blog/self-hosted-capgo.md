---
slug: self-hosted-capgo
title: Capgo 自己ホスティング
description: >-
  Capgoのセルフホスティングを使用すると、Capacitorからユーザーにリアルタイムの更新を送信することができ、Capgoのクラウドサービスを利用する必要がありません。
author: Anik Dhabal Babu
author_url: 'https://x.com/anikdhabal'
created_at: 2023-09-20T00:00:00.000Z
updated_at: 2023-09-20T00:00:00.000Z
head_image: /self-hosted-capgo.webp
head_image_alt: capgo 自主ホスティング
tag: Solution
published: true
locale: ja
next_blog: ''
---

この記事では、Capgoを自己ホスティングする方法についてのステップバイステップガイドと、自己ホスティングの利点と課題についての議論を提供します。

# はじめに

自己ホスティングは、サーバーとネットワークを自分で設定して、自分のウェブサイトやアプリケーションを運用する形式です。プラットフォームサービスやパブリッククラウドプロバイダーを利用する代わりに、自己ホスティングを選択した人々は、自分のネットワークを運営し、ウェブサイトまたはアプリケーションの構築に加えて、メンテナンスと稼働時間に責任を持ちます。

Capgoを始める最も簡単な方法は、私たちの[公式のクラウドマネージドサービス](https://capgoapp/)を利用することですが、自分で管理することに満足しているなら、サーバー上でCapgoを自己ホスティングすることもできます。

## 自己ホスティングとは？

自己ホスティングとは、デジタル領域において、自分自身のサーバーやホスティングインフラを運営することを指し、オンラインでの存在やサービスを管理・制御することです。第三者のホスティングプロバイダーに依存する代わりに、個人や組織は、自分の条件でサーバー、ウェブサイト、アプリケーション、およびデータストレージを設定・管理することを選択します。

## なぜ自己ホスティングを選ぶのですか？

人々が自己ホスティングを選ぶ理由は多岐にわたります。最も一般的な利点のいくつかは次のとおりです。

* **プライバシーと制御：** 自己ホスティングは、データとプライバシーに対する完全な制御を提供します。第三者のプロバイダーが自分の活動を追跡したり、データを販売したりすることを心配する必要はありません。

* **コスト削減：** 自己ホスティングは、長期的にはよりコスト効果的です。特に、多くのリソースを使用したり、複数のサービスを運営したりしている場合です。

* **カスタマイズ：** 自己ホスティングは、特定のニーズに合わせてアプリケーションやサービスをカスタマイズする柔軟性を提供します。

* **学習と実験：** 自己ホスティングは、Linux、システム管理、その他の技術的トピックについて学ぶための素晴らしい方法です。また、新しいソフトウェアやサービスを実験する楽しい方法でもあります。

* **独立性：** 自己ホスティングは、外部プロバイダーへの依存を軽減します。提供条件、価格変更、または潜在的なサービスの中断に左右されることはありません。この独立性は、オンラインでの存在に依存しているビジネスや個人にとって重要です。

## Capgo CloudとCapgo Self-Hostedの違いは何ですか？

Capgoには、1つのバージョンしかありません。私のCloud製品とSelf-Hosted製品は完全に同等です。機能セットがより優れたプレミアムかつ独占的な商業バージョンは存在しません。

両方とも、同じダッシュボード、同じ実行可能な指標、そして[訪問者のプライバシーを尊重することに対する同じコミットメント](https://capgoapp/privacy/)を得られます。

私は2018年12月にCapgoの開発を開始し、2019年5月にSaaSサブスクリプションビジネスを立ち上げました。このプロジェクトは非常に活発で、積極的に開発されており、急成長しています。堅牢で実績のあるものでもあります。

Capgo CloudとCapgo Self-Hostedの違いは次のとおりです：

|   | Cloud | Self-hosted |
| --- | --- | --- |
| **ホスティング** | 簡単で便利。最初の更新を送信するまでに2分かかります。高可用性、バックアップ、セキュリティ、メンテナンスはすべて私が行います。あなたは何も心配する必要はありません。 | 自分ですべてを行います。サーバーを取得し、インフラを管理する必要があります。インストール、メンテナンス、アップグレード、サーバー容量、稼働時間、バックアップ、セキュリティ、安定性、一貫性、ロード時間などに責任を持ちます。 |
| **ストレージ** | すべての訪問者データは、EU所有のクラウドインフラで独占的に処理されます。私は、あなたのサイトデータをドイツにある安全で暗号化されたサーバーに保管します。これにより、あなたのサイトデータは、厳格なEUデータプライバシー法によって保護され、GDPRに準拠しています。あなたのウェブサイトデータはEUを離れることはありません。 | 完全に自分の管理下にあり、好きな国のサーバーにCapgoをホストできます。地下室のサーバーにホストしたり、GDPR準拠でないプロバイダーでも希望する場所でホストしたりできます。 ||
| **生データ** | あなたのサイトの統計情報や指標を、モダンな外観の使いやすく、読み込みが速いダッシュボードで見ることができます。ダッシュボードでは集計された統計情報のみが表示されます | あなたはアナリストで、生データへのアクセスを望んでいますか？ Capgoを自分でホスティングすると、そのオプションが得られます。データベースからデータを直接取得し、お好みのデータ分析ツールにインポートしてください。 |
| **コスト** | アップデーターサービスを提供するにはコストがかかるため、私はサブスクリプション料金を請求します | サーバーの費用とサーバーの運用に関連する費用だけを支払う必要があります。私に対して料金を支払う必要はありません。あなたのクラウドプロバイダーに対してのみ支払えば大丈夫です。 |
| **プレミアムサポート** | Capgoを構築・維持している実際の人間によるリアルサポート | プレミアムサポートは含まれていません。自己ホスト型リリースはコミュニティサポートのみとなります。 |
| **リリース** | 新機能や更新が週に複数回、継続的に開発・改善されています。 | 年に2回公開される長期リリースなので、最新の機能はまずクラウドでテストされるため、すぐには利用できません。 |

# 自己ホスト型CapgoでCLIを使用する
自己ホスト型CapgoでCLIを使用するには、アプリディレクトリから`capacitorconfigts`を編集し、次のように設定します：

```ts
const config: CapacitorConfig = {
  appId: 'com.demo.app',
  appName: 'demoApp',
  webDir: 'dist',
  bundledWebRuntime: false,
  plugins: {
    CapacitorUpdater : {
      localHost: "http://localhost:5173",
      localWebHost: "http://localhost:5173",
      localSupa: "http://localhost:54321",
      localSupaAnon: "see_notes",
    },
  },
};
```

注：localSupaAnonを取得するには、この[チュートリアル](https://capgoapp/docs/self-hosted/local-dev/getting-started/)に従い、anonキーをlocalSupaAnonにコピーしてください。

# 自己ホスト型Capgoでキャパシタアップデーターを使用する

**要件**

クローンされた[capgo](https://githubcom/Cap-go/capgo/)

自己ホスト型Capgoでキャパシタアップデーターを使用するには、アプリディレクトリから`capacitorconfigts`を編集し、次のように設定します：

```ts
const config: CapacitorConfig = {
  appId: 'com.demo.app',
  appName: 'demoApp',
  webDir: 'dist',
  bundledWebRuntime: false,
  plugins: {
    CapacitorUpdater : {
      statsUrl: "http://localhost:54321/functions/v1/stats",
      channelUrl: "http://localhost:54321/functions/v1/channel_self",
      updateUrl: "http://localhost:54321/functions/v1/updates"
    },
  },
};
```

これにより、開発中にローカルCapgoを使用できるようになります。しかし、デフォルトではこれだけでは十分ではありません。

# 結論

結論として、Capgoの自己ホスティングは、リソースと専門知識を持つ組織にとって良い選択肢となる可能性があります。更新プロセスに対する制御、セキュリティ、コンプライアンスなど、いくつかのメリットを提供します。しかし、自己ホストするかどうかを決定する前に、メリットと課題を慎重に考慮することが重要です。

Capgoの自己ホスティングを検討している場合は、まずCapgoの[自己ホスティングドキュメント](https://capgoapp/docs/self-hosted/getting-started/)を読むことをお勧めします。これにより、自己ホスティングの要件とリスクを十分に理解することができます。